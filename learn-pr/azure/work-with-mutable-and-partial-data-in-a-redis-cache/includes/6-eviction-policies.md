<span data-ttu-id="350b1-101">Trattandosi di un database in memoria, la memoria è la risorsa più critica per Cache Redis di Azure.</span><span class="sxs-lookup"><span data-stu-id="350b1-101">Memory is the most critical resource for Azure Redis Cache, because it's an in-memory database.</span></span> <span data-ttu-id="350b1-102">Possono verificarsi problemi quando si inizia ad aggiungere dati che superano la quantità di memoria disponibile.</span><span class="sxs-lookup"><span data-stu-id="350b1-102">You can run into problems when you begin adding data that exceeds the amount of memory available.</span></span> <span data-ttu-id="350b1-103">Cache Redis di Azure supporta i criteri di rimozione, che indicano come gestire i dati in caso di memoria insufficiente.</span><span class="sxs-lookup"><span data-stu-id="350b1-103">Azure Redis Cache supports eviction policies, which indicate how data should be handled when you run out of memory.</span></span>

<span data-ttu-id="350b1-104">In questa unità si vedrà come impostare i criteri di rimozione per determinare come devono essere gestiti i dati quando si supera la quantità massima di memoria.</span><span class="sxs-lookup"><span data-stu-id="350b1-104">Here, you'll set an eviction policy to determine what your data should do when you exceed the maximum amount of memory.</span></span>

## <a name="what-is-an-eviction-policy"></a><span data-ttu-id="350b1-105">Che cosa sono i criteri di rimozione?</span><span class="sxs-lookup"><span data-stu-id="350b1-105">What is an eviction policy?</span></span>

<span data-ttu-id="350b1-106">I criteri di rimozione sono un piano che determina come devono essere gestiti i dati quando si supera la quantità massima di memoria disponibile.</span><span class="sxs-lookup"><span data-stu-id="350b1-106">An eviction policy is a plan that determines how your data should be managed when you exceed the maximum amount of memory available.</span></span> <span data-ttu-id="350b1-107">Ad esempio, usando i criteri di rimozione è possibile indicare a Cache Redis di Azure di eliminare una chiave casuale per fare spazio ai nuovi dati inseriti.</span><span class="sxs-lookup"><span data-stu-id="350b1-107">For example, using an eviction policy, you could tell Azure Redis Cache to delete a random key to make room for the new data being inserted.</span></span>

### <a name="types-of-eviction-policies"></a><span data-ttu-id="350b1-108">Tipi di criteri di rimozione</span><span class="sxs-lookup"><span data-stu-id="350b1-108">Types of eviction policies</span></span>

<span data-ttu-id="350b1-109">Cache Redis di Azure offre sei diversi tipi di criteri di rimozione.</span><span class="sxs-lookup"><span data-stu-id="350b1-109">There are six different eviction policies provided by Azure Redis Cache.</span></span> <span data-ttu-id="350b1-110">Tutti questi valori eseguono un'azione quando si cerca di inserire i dati in condizioni di memoria insufficiente.</span><span class="sxs-lookup"><span data-stu-id="350b1-110">All of these values perform an action when you attempt to insert data when you're out of memory.</span></span>

* <span data-ttu-id="350b1-111">**noeviction:** nessun criterio di rimozione.</span><span class="sxs-lookup"><span data-stu-id="350b1-111">**noeviction:** No eviction policy.</span></span> <span data-ttu-id="350b1-112">Restituisce un messaggio di errore se si tenta di inserire i dati.</span><span class="sxs-lookup"><span data-stu-id="350b1-112">Returns an error message if you attempt to insert data.</span></span>

* <span data-ttu-id="350b1-113">**allkeys-lru:** rimuove l'ultima chiave usata.</span><span class="sxs-lookup"><span data-stu-id="350b1-113">**allkeys-lru:** Removes the least recently used key.</span></span>

* <span data-ttu-id="350b1-114">**allkeys-random:** rimuove una chiave casuale.</span><span class="sxs-lookup"><span data-stu-id="350b1-114">**allkeys-random:** Removes a random key.</span></span>

* <span data-ttu-id="350b1-115">**volatile-lru:** rimuove l'ultima chiave usata tra tutte le chiavi con una scadenza impostata.</span><span class="sxs-lookup"><span data-stu-id="350b1-115">**volatile-lru:** Removes the least recently used key out of all the keys with an expiration set.</span></span>

* <span data-ttu-id="350b1-116">**volatile-ttl:** rimuove la chiave con la durata più breve in base alla scadenza impostata.</span><span class="sxs-lookup"><span data-stu-id="350b1-116">**volatile-ttl:** Removes the key with the shortest time to live based on the expiration set for it.</span></span>

* <span data-ttu-id="350b1-117">**volatile-random:** rimuove una chiave casuale con una scadenza impostata.</span><span class="sxs-lookup"><span data-stu-id="350b1-117">**volatile-random:** Removes a random key that has an expiration set.</span></span>

## <a name="how-to-set-an-eviction-policy"></a><span data-ttu-id="350b1-118">Come impostare i criteri di rimozione</span><span class="sxs-lookup"><span data-stu-id="350b1-118">How to set an eviction policy</span></span>

<span data-ttu-id="350b1-119">Azure offre un semplice menu a discesa per impostare i criteri di rimozione per Cache Redis di Azure.</span><span class="sxs-lookup"><span data-stu-id="350b1-119">Azure provides a simple drop-down menu to set the eviction policy for Azure Redis Cache.</span></span> <span data-ttu-id="350b1-120">Selezionare **Impostazioni avanzate** e usare il menu a discesa **Criterio per la memoria massima**.</span><span class="sxs-lookup"><span data-stu-id="350b1-120">Select **Advanced Settings**, and use the **maxmemory-policy** drop-down menu.</span></span>

<span data-ttu-id="350b1-121">Dato che la memoria è fondamentale per Cache Redis di Azure, è previsto il supporto dei criteri di rimozione.</span><span class="sxs-lookup"><span data-stu-id="350b1-121">Since memory is critical to Azure Redis Cache, there is support for eviction policies.</span></span> <span data-ttu-id="350b1-122">I criteri di rimozione determinano le azioni da intraprendere con i dati esistenti quando la memoria è insufficiente e si cerca di inserire nuovi dati.</span><span class="sxs-lookup"><span data-stu-id="350b1-122">An eviction policy determines what should be done with existing data when you're out of memory and attempt to insert new data.</span></span>