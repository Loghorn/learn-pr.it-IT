<span data-ttu-id="98471-101">In questo modulo, è stata protetta la configurazione segreta di un'applicazione in Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="98471-101">In this module, you secured an app's secret configuration in Azure Key Vault.</span></span> <span data-ttu-id="98471-102">Il codice dell'app esegue l'autenticazione nell'insieme di credenziali con Identità dei servizi gestiti e carica automaticamente i segreti dall'insieme di credenziali nel sistema di configurazione di ASP.NET Core all'avvio.</span><span class="sxs-lookup"><span data-stu-id="98471-102">Our app code authenticates to the vault with Managed Service Identity and automatically loads the secrets from the vault into ASP.NET Core's configuration system at startup.</span></span>

## <a name="cleanup"></a><span data-ttu-id="98471-103">Pulizia</span><span class="sxs-lookup"><span data-stu-id="98471-103">Cleanup</span></span>

<span data-ttu-id="98471-104">Per eseguire la pulizia della sottoscrizione di Azure, eseguire il comando seguente in Azure Cloud Shell per eliminare il gruppo di risorse contenente tutte le risorse create in questo modulo.</span><span class="sxs-lookup"><span data-stu-id="98471-104">To clean up your Azure subscription, run the following in the Azure Cloud Shell to delete the resource group containing all the resources we created in this module.</span></span>

```console
az group delete --name keyvault-exercise-group
```

<span data-ttu-id="98471-105">Per eseguire la pulizia dell'archiviazione Cloud Shell, eliminare la directory `KeyVaultDemoApp`.</span><span class="sxs-lookup"><span data-stu-id="98471-105">To clean up your Cloud Shell storage, delete the `KeyVaultDemoApp` directory.</span></span>

## <a name="next-steps"></a><span data-ttu-id="98471-106">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="98471-106">Next steps</span></span>

<span data-ttu-id="98471-107">Se si trattasse di una vera app, che cosa succederebbe dopo?</span><span class="sxs-lookup"><span data-stu-id="98471-107">If this was a real app, what would come next?</span></span>

* <span data-ttu-id="98471-108">Verrebbero inseriti tutti i segreti delle app negli insiemi di credenziali!</span><span class="sxs-lookup"><span data-stu-id="98471-108">Put all your app secrets in your vaults!</span></span> <span data-ttu-id="98471-109">Non vi è più alcun motivo per disporne nei file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="98471-109">There's no longer any reason to have them in configuration files.</span></span>
* <span data-ttu-id="98471-110">L'applicazione continuerebbe a essere usata.</span><span class="sxs-lookup"><span data-stu-id="98471-110">Continue to develop the application.</span></span> <span data-ttu-id="98471-111">L'ambiente di produzione è completamente configurato, quindi per le future implementazioni non è necessario ripetere tutte le impostazioni.</span><span class="sxs-lookup"><span data-stu-id="98471-111">Your production environment is all set up, so for future deployments to it you don't need to repeat all the setup.</span></span>
* <span data-ttu-id="98471-112">Per supportare lo sviluppo, creare un ambiente di sviluppo che contenga segreti con lo stesso nome, ma con valori diversi.</span><span class="sxs-lookup"><span data-stu-id="98471-112">To support development, create a development-environment vault that contains secrets with the same names but different values.</span></span> <span data-ttu-id="98471-113">Concedere le autorizzazioni per il team di sviluppo e configurare il nome dell'insieme di credenziali nel file di configurazione dell'ambiente di sviluppo dell'app.</span><span class="sxs-lookup"><span data-stu-id="98471-113">Grant permissions to the development team and configure the vault name in the app's development-environment configuration file.</span></span> <span data-ttu-id="98471-114">Quando gli sviluppatori eseguiranno l'app in locale, `AddAzureKeyVault` rileverà automaticamente le installazioni locali di Visual Studio e l'Interfaccia della riga di comando di Azure e userà le credenziali di Azure configurate in tali applicazioni per l'iscrizione e l'insieme di credenziali di accesso.</span><span class="sxs-lookup"><span data-stu-id="98471-114">When developers run the app locally, `AddAzureKeyVault` will automatically detect local installations of Visual Studio and the Azure CLI and use Azure credentials configured in those applications to sign in and access the vault.</span></span>
* <span data-ttu-id="98471-115">Creare altri ambienti per scopi quali, ad esempio, test di autorizzazione utente.</span><span class="sxs-lookup"><span data-stu-id="98471-115">Create additional environments for purposes like user acceptance testing.</span></span>
* <span data-ttu-id="98471-116">Insiemi di credenziali separati tra sottoscrizioni diverse e/o gruppi di risorse per isolarli.</span><span class="sxs-lookup"><span data-stu-id="98471-116">Separate vaults across different subscriptions and/or resource groups to isolate them.</span></span>
* <span data-ttu-id="98471-117">Concedere l'accesso ad altri insiemi di credenziali dell'ambiente alle persone appropriate.</span><span class="sxs-lookup"><span data-stu-id="98471-117">Grant access to other environment vaults to the appropriate people.</span></span>

## <a name="further-reading"></a><span data-ttu-id="98471-118">Altre informazioni</span><span class="sxs-lookup"><span data-stu-id="98471-118">Further reading</span></span>

* [<span data-ttu-id="98471-119">Documentazione su Key Vault</span><span class="sxs-lookup"><span data-stu-id="98471-119">Key Vault documentation</span></span>](https://docs.microsoft.com/azure/key-vault/)
* [<span data-ttu-id="98471-120">Informazioni su AddAzureKeyVault e le relative opzioni avanzate</span><span class="sxs-lookup"><span data-stu-id="98471-120">More about AddAzureKeyVault and its advanced options</span></span>](https://docs.microsoft.com/aspnet/core/security/key-vault-configuration?view=aspnetcore-2.1&tabs=aspnetcore2x)
* <span data-ttu-id="98471-121">[Questa esercitazione](https://docs.microsoft.com/azure/key-vault/key-vault-use-from-web-application) illustra l'uso di `KeyVaultClient`, incluse le informazioni sull'autenticazione manuale ad Azure Active Directory tramite un segreto client anziché Identità del servizio gestito.</span><span class="sxs-lookup"><span data-stu-id="98471-121">[This tutorial](https://docs.microsoft.com/azure/key-vault/key-vault-use-from-web-application) walks through using `KeyVaultClient`, including manually authenticating it to Azure Active Directory using a client secret instead of MSI.</span></span>
* <span data-ttu-id="98471-122">[Documentazione del servizio token MSI](https://docs.microsoft.com/azure/app-service/app-service-managed-service-identity#using-the-rest-protocol), per implementare personalmente il flusso di lavoro dell'autenticazione</span><span class="sxs-lookup"><span data-stu-id="98471-122">[MSI token service documentation](https://docs.microsoft.com/azure/app-service/app-service-managed-service-identity#using-the-rest-protocol), for implementing the authentication workflow yourself</span></span>