<span data-ttu-id="4dbe4-101">In questo esercizio si userà il portale di Azure per creare un set di scalabilità di macchine virtuali con regole per la scalabilità automatica.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-101">In this exercise, you will use the Azure portal to create a virtual machine scale set with rules for autoscaling.</span></span>

## <a name="create-a-virtual-machine-scale-set"></a><span data-ttu-id="4dbe4-102">Creare un set di scalabilità di macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="4dbe4-102">Create a virtual machine scale set</span></span>

1. <span data-ttu-id="4dbe4-103">Nel portale di Azure fare clic su **Crea una risorsa**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-103">In the Azure portal, click **Create a resource**.</span></span>

1. <span data-ttu-id="4dbe4-104">Nella casella di ricerca digitare **set di scalabilità** e premere INVIO.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-104">In the search box, type **scale set** and press ENTER.</span></span> <span data-ttu-id="4dbe4-105">Nel pannello **Risultati** fare clic su **Set di scalabilità di macchine virtuali**, quindi nel pannello **Set di scalabilità di macchine virtuali** fare clic su **Crea**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-105">In the **Results** blade, click **Virtual machine scale set**, and in the **Virtual machine scale set** blade, click **Create**.</span></span>

1. <span data-ttu-id="4dbe4-106">Nel pannello **Crea set di scalabilità di macchine virtuali** immettere i valori seguenti (sostituendo `<your initials>`, `<date>` e `<time>` con i dati pertinenti), quindi fare clic su **Crea**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-106">In the **Create virtual machine scale set** blade, enter the following values (replacing `<your initials>`, `<date>`, and `<time>` with relevant data), and then click **Create**.</span></span>

    |<span data-ttu-id="4dbe4-107">Impostazione</span><span class="sxs-lookup"><span data-stu-id="4dbe4-107">Setting</span></span>|<span data-ttu-id="4dbe4-108">Valore</span><span class="sxs-lookup"><span data-stu-id="4dbe4-108">Value</span></span>|
    |---|---|
    |<span data-ttu-id="4dbe4-109">Nome del set di scalabilità di macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="4dbe4-109">Virtual machine scale set name</span></span>|<span data-ttu-id="4dbe4-110">WebServerSS</span><span class="sxs-lookup"><span data-stu-id="4dbe4-110">WebServerSS</span></span>|
    |<span data-ttu-id="4dbe4-111">Gruppo di risorse</span><span class="sxs-lookup"><span data-stu-id="4dbe4-111">Resource group</span></span>|<span data-ttu-id="4dbe4-112">Usa esistente - ExerciseRG</span><span class="sxs-lookup"><span data-stu-id="4dbe4-112">Use existing - ExerciseRG</span></span>|
    |<span data-ttu-id="4dbe4-113">Nome utente</span><span class="sxs-lookup"><span data-stu-id="4dbe4-113">Username</span></span>|<span data-ttu-id="4dbe4-114">LocalAdmin</span><span class="sxs-lookup"><span data-stu-id="4dbe4-114">LocalAdmin</span></span>|
    |<span data-ttu-id="4dbe4-115">Password e Conferma password</span><span class="sxs-lookup"><span data-stu-id="4dbe4-115">Password and Confirm password</span></span>|<span data-ttu-id="4dbe4-116">Adm1nPa$$word</span><span class="sxs-lookup"><span data-stu-id="4dbe4-116">Adm1nPa$$word</span></span>|
    |<span data-ttu-id="4dbe4-117">Numero di istanze</span><span class="sxs-lookup"><span data-stu-id="4dbe4-117">Instance count</span></span>|<span data-ttu-id="4dbe4-118">2</span><span class="sxs-lookup"><span data-stu-id="4dbe4-118">2</span></span>|
    |<span data-ttu-id="4dbe4-119">Dimensioni istanza</span><span class="sxs-lookup"><span data-stu-id="4dbe4-119">Instance size</span></span>|<span data-ttu-id="4dbe4-120">D2s_v3</span><span class="sxs-lookup"><span data-stu-id="4dbe4-120">D2s_v3</span></span>|
    |<span data-ttu-id="4dbe4-121">Scegliere le opzioni di bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="4dbe4-121">Choose load balancing options</span></span>|<span data-ttu-id="4dbe4-122">Bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="4dbe4-122">Load balancer</span></span>|
    |<span data-ttu-id="4dbe4-123">Nome indirizzo IP pubblico</span><span class="sxs-lookup"><span data-stu-id="4dbe4-123">Public IP address name</span></span>|<span data-ttu-id="4dbe4-124">WebServerPubIP</span><span class="sxs-lookup"><span data-stu-id="4dbe4-124">WebServerPubIP</span></span>|
    |<span data-ttu-id="4dbe4-125">Etichetta del nome di dominio</span><span class="sxs-lookup"><span data-stu-id="4dbe4-125">Domain name label</span></span>|<span data-ttu-id="4dbe4-126">`<your initials><date><time>` (ad esempio ja0904181202)</span><span class="sxs-lookup"><span data-stu-id="4dbe4-126">`<your initials><date><time>` (for example ja0904181202)</span></span>|

1. <span data-ttu-id="4dbe4-127">Attendere che il set di scalabilità venga creato.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-127">Wait for the scale set to be created.</span></span>

1. <span data-ttu-id="4dbe4-128">Passare al gruppo di risorse **ExerciseRG**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-128">Navigate to the **ExerciseRG** resource group.</span></span> <span data-ttu-id="4dbe4-129">Nel pannello **ExerciseRG** fare clic sull'oggetto**WebServerSS**, quindi nel pannello **WebServerSS** fare clic su **Istanze**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-129">In the **ExerciseRG** blade, click the **WebServerSS** object, and in the **WebServerSS** blade, click **Instances**.</span></span> <span data-ttu-id="4dbe4-130">Notare le due istanze di macchina virtuale in esecuzione nel set di scalabilità.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-130">Note the two virtual machine instances running within the scale set.</span></span>

## <a name="create-and-apply-autoscale-rules"></a><span data-ttu-id="4dbe4-131">Creare e applicare regole di scalabilità automatica</span><span class="sxs-lookup"><span data-stu-id="4dbe4-131">Create and apply autoscale rules</span></span>

1. <span data-ttu-id="4dbe4-132">Nel pannello **WebServerSS** fare clic su **Scalabilità**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-132">In the **WebServerSS** blade, click **Scaling**.</span></span> <span data-ttu-id="4dbe4-133">Nel pannello **WebServerSS - Scalabilità** fare clic su **Abilita scalabilità automatica**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-133">On the **WebServerSS - Scaling** blade, click **Enable autoscale**.</span></span>

1. <span data-ttu-id="4dbe4-134">Nel pannello **WebServerSS - Scalabilità** fare clic su **Aggiungi una regola**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-134">On the **WebServerSS - Scaling** blade, click **Add a rule**.</span></span>

1. <span data-ttu-id="4dbe4-135">Nel pannello Regola scalabilità immettere le informazioni seguenti per creare una regola che aggiunga altre due macchine virtuali quando l'utilizzo medio della CPU supera il 75% in un periodo di cinque minuti, quindi fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-135">In the Scale rule blade, enter the following information to create a rule to scale out an extra two virtual machines when average CPU usage is more than 75% over a five-minute period, and then click **Add**.</span></span>

    |<span data-ttu-id="4dbe4-136">Impostazione</span><span class="sxs-lookup"><span data-stu-id="4dbe4-136">Setting</span></span>|<span data-ttu-id="4dbe4-137">Valore</span><span class="sxs-lookup"><span data-stu-id="4dbe4-137">Value</span></span>|
    |---|---|
    |<span data-ttu-id="4dbe4-138">Aggregazione temporale</span><span class="sxs-lookup"><span data-stu-id="4dbe4-138">Time aggregation</span></span>|<span data-ttu-id="4dbe4-139">Media</span><span class="sxs-lookup"><span data-stu-id="4dbe4-139">Average</span></span>|
    |<span data-ttu-id="4dbe4-140">Nome metrica</span><span class="sxs-lookup"><span data-stu-id="4dbe4-140">Metric name</span></span>|<span data-ttu-id="4dbe4-141">Percentuale CPU</span><span class="sxs-lookup"><span data-stu-id="4dbe4-141">Percentage CPU</span></span>|
    |<span data-ttu-id="4dbe4-142">Statistica intervallo di tempo</span><span class="sxs-lookup"><span data-stu-id="4dbe4-142">Time grain statistic</span></span>|<span data-ttu-id="4dbe4-143">Media</span><span class="sxs-lookup"><span data-stu-id="4dbe4-143">Average</span></span>|
    |<span data-ttu-id="4dbe4-144">Operatore</span><span class="sxs-lookup"><span data-stu-id="4dbe4-144">Operator</span></span>|<span data-ttu-id="4dbe4-145">Maggiore di</span><span class="sxs-lookup"><span data-stu-id="4dbe4-145">Greater than</span></span>|
    |<span data-ttu-id="4dbe4-146">Soglia</span><span class="sxs-lookup"><span data-stu-id="4dbe4-146">Threshold</span></span>|<span data-ttu-id="4dbe4-147">75</span><span class="sxs-lookup"><span data-stu-id="4dbe4-147">75</span></span>|
    |<span data-ttu-id="4dbe4-148">Durata (in minuti)</span><span class="sxs-lookup"><span data-stu-id="4dbe4-148">Duration (in minutes)</span></span>|<span data-ttu-id="4dbe4-149">5</span><span class="sxs-lookup"><span data-stu-id="4dbe4-149">5</span></span>|
    |<span data-ttu-id="4dbe4-150">Operazione</span><span class="sxs-lookup"><span data-stu-id="4dbe4-150">Operation</span></span>|<span data-ttu-id="4dbe4-151">Aumenta numero di</span><span class="sxs-lookup"><span data-stu-id="4dbe4-151">Increase count by</span></span>|
    |<span data-ttu-id="4dbe4-152">Numero di istanze</span><span class="sxs-lookup"><span data-stu-id="4dbe4-152">Instance count</span></span>|<span data-ttu-id="4dbe4-153">2</span><span class="sxs-lookup"><span data-stu-id="4dbe4-153">2</span></span>|
    |<span data-ttu-id="4dbe4-154">Disattiva regole dopo (minuti)</span><span class="sxs-lookup"><span data-stu-id="4dbe4-154">Cool down (minutes)</span></span>|<span data-ttu-id="4dbe4-155">5</span><span class="sxs-lookup"><span data-stu-id="4dbe4-155">5</span></span>|

1. <span data-ttu-id="4dbe4-156">Nel pannello **WebServerSS - Scalabilità** fare clic su **Aggiungi una regola**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-156">On the **WebServerSS - Scaling** blade, click **Add a rule**.</span></span>

1. <span data-ttu-id="4dbe4-157">Nel pannello Regola scalabilità immettere le informazioni seguenti per creare una regola che elimini un server alla volta quando l'utilizzo medio della CPU scende sotto il 30% in un periodo di cinque minuti, quindi fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-157">In the Scale rule blade, enter the following information to create a rule to scale in one server at a time when average CPU usage is below 30% over a five-minute period, and then click **Add**.</span></span>

    |<span data-ttu-id="4dbe4-158">Impostazione</span><span class="sxs-lookup"><span data-stu-id="4dbe4-158">Setting</span></span>|<span data-ttu-id="4dbe4-159">Valore</span><span class="sxs-lookup"><span data-stu-id="4dbe4-159">Value</span></span>|
    |---|---|
    |<span data-ttu-id="4dbe4-160">Aggregazione temporale</span><span class="sxs-lookup"><span data-stu-id="4dbe4-160">Time aggregation</span></span>|<span data-ttu-id="4dbe4-161">Media</span><span class="sxs-lookup"><span data-stu-id="4dbe4-161">Average</span></span>|
    |<span data-ttu-id="4dbe4-162">Nome metrica</span><span class="sxs-lookup"><span data-stu-id="4dbe4-162">Metric name</span></span>|<span data-ttu-id="4dbe4-163">Percentuale CPU</span><span class="sxs-lookup"><span data-stu-id="4dbe4-163">Percentage CPU</span></span>|
    |<span data-ttu-id="4dbe4-164">Statistica intervallo di tempo</span><span class="sxs-lookup"><span data-stu-id="4dbe4-164">Time grain statistic</span></span>|<span data-ttu-id="4dbe4-165">Media</span><span class="sxs-lookup"><span data-stu-id="4dbe4-165">Average</span></span>|
    |<span data-ttu-id="4dbe4-166">Operatore</span><span class="sxs-lookup"><span data-stu-id="4dbe4-166">Operator</span></span>|<span data-ttu-id="4dbe4-167">Minore di</span><span class="sxs-lookup"><span data-stu-id="4dbe4-167">Less than</span></span>|
    |<span data-ttu-id="4dbe4-168">Soglia</span><span class="sxs-lookup"><span data-stu-id="4dbe4-168">Threshold</span></span>|<span data-ttu-id="4dbe4-169">30</span><span class="sxs-lookup"><span data-stu-id="4dbe4-169">30</span></span>|
    |<span data-ttu-id="4dbe4-170">Durata (in minuti)</span><span class="sxs-lookup"><span data-stu-id="4dbe4-170">Duration (in minutes)</span></span>|<span data-ttu-id="4dbe4-171">5</span><span class="sxs-lookup"><span data-stu-id="4dbe4-171">5</span></span>|
    |<span data-ttu-id="4dbe4-172">Operazione</span><span class="sxs-lookup"><span data-stu-id="4dbe4-172">Operation</span></span>|<span data-ttu-id="4dbe4-173">Riduci numero di</span><span class="sxs-lookup"><span data-stu-id="4dbe4-173">Decrease count by</span></span>|
    |<span data-ttu-id="4dbe4-174">Numero di istanze</span><span class="sxs-lookup"><span data-stu-id="4dbe4-174">Instance count</span></span>|<span data-ttu-id="4dbe4-175">1</span><span class="sxs-lookup"><span data-stu-id="4dbe4-175">1</span></span>|
    |<span data-ttu-id="4dbe4-176">Disattiva regole dopo (minuti)</span><span class="sxs-lookup"><span data-stu-id="4dbe4-176">Cool down (minutes)</span></span>|<span data-ttu-id="4dbe4-177">5</span><span class="sxs-lookup"><span data-stu-id="4dbe4-177">5</span></span>|

1. <span data-ttu-id="4dbe4-178">Nel pannello **WebServerSS - Scalabilità** digitare **WebAutoscaleSetting** nella casella **Nome impostazione di scalabilità automatica**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-178">On the **WebServerSS - Scaling** blade, in the **Autoscale setting name** box, type **WebAutoscaleSetting**.</span></span> <span data-ttu-id="4dbe4-179">Accanto a **Limiti per le istanze** impostare i valori seguenti e fare clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-179">Next to **Instance limits**, set the following values and then click **Save**.</span></span>

    |<span data-ttu-id="4dbe4-180">Impostazione</span><span class="sxs-lookup"><span data-stu-id="4dbe4-180">Setting</span></span>|<span data-ttu-id="4dbe4-181">Valore</span><span class="sxs-lookup"><span data-stu-id="4dbe4-181">Value</span></span>|
    |---|---|
    |<span data-ttu-id="4dbe4-182">Minimo</span><span class="sxs-lookup"><span data-stu-id="4dbe4-182">Minimum</span></span>|<span data-ttu-id="4dbe4-183">2</span><span class="sxs-lookup"><span data-stu-id="4dbe4-183">2</span></span>|
    |<span data-ttu-id="4dbe4-184">Massimo</span><span class="sxs-lookup"><span data-stu-id="4dbe4-184">Maximum</span></span>|<span data-ttu-id="4dbe4-185">8</span><span class="sxs-lookup"><span data-stu-id="4dbe4-185">8</span></span>|
    |<span data-ttu-id="4dbe4-186">Predefinito</span><span class="sxs-lookup"><span data-stu-id="4dbe4-186">Default</span></span>|<span data-ttu-id="4dbe4-187">2</span><span class="sxs-lookup"><span data-stu-id="4dbe4-187">2</span></span>|

## <a name="generate-load-to-demonstrate-autoscaling"></a><span data-ttu-id="4dbe4-188">Generare il carico per dimostrare la scalabilità automatica</span><span class="sxs-lookup"><span data-stu-id="4dbe4-188">Generate load to demonstrate autoscaling</span></span>

<span data-ttu-id="4dbe4-189">A questo punto si userà lo strumento CPUStress.exe per generare il carico sulle macchine virtuali nel set di scalabilità ed eseguire una dimostrazione della scalabilità orizzontale automatica.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-189">Now you will use the CPUStress.exe tool to generate load on the virtual machines in the scale set and demonstrate automatic scaling out.</span></span>

1. <span data-ttu-id="4dbe4-190">Per determinare l'indirizzo IP pubblico a cui connettersi, passare al gruppo di risorse **ExerciseRG**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-190">To determine the public IP address to connect to, browse to the **ExerciseRG** resource group.</span></span> <span data-ttu-id="4dbe4-191">Nel pannello **ExerciseRG** fare clic sull'oggetto **WebServerSSlb**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-191">In the **ExerciseRG** blade, click the **WebServerSSlb** object.</span></span>

1. <span data-ttu-id="4dbe4-192">Nel pannello **WebServerSSlb** fare clic su Configurazione IP front-end e prendere nota dell'indirizzo IP pubblico visualizzato.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-192">On the **WebServerSSlb** blade, click Frontend IP configuration and make a note of the public IP address shown.</span></span> <span data-ttu-id="4dbe4-193">Chiudere il pannello **LoadBalancerFrontEnd**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-193">Close the **LoadBalancerFrontEnd** blade.</span></span>

1. <span data-ttu-id="4dbe4-194">Per determinare il numero di porta a cui connettersi, nel pannello **WebServerSSlb** fare clic su **Regole NAT in ingresso**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-194">To determine the port number to connect to, on the **WebServerSSlb** blade, click **Inbound NAT rules**.</span></span> <span data-ttu-id="4dbe4-195">Prendere nota del numero di porta personalizzato nella colonna Servizio di ogni macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-195">Note down the custom port number in the Service column for each virtual machine.</span></span>

1. <span data-ttu-id="4dbe4-196">Nel computer locale avviare **Connessione Desktop remoto**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-196">On your local computer, start the **Remote Desktop Connection**.</span></span> <span data-ttu-id="4dbe4-197">Nella casella **Computer** digitare l'indirizzo IP pubblico del servizio di bilanciamento del carico, seguito da un segno di due punti e dal valore del numero di porta dell'istanza 0 (ad esempio 40.67.191.221:50000), quindi fare clic su Connetti.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-197">In the **Computer** box, type the public IP address of the load balancer, followed by a colon and then the port number value for Instance 0, (for example, 40.67.191.221:50000) and then click Connect.</span></span>

1. <span data-ttu-id="4dbe4-198">Nella finestra di dialogo **Sicurezza di Windows** fare clic su **Altre opzioni** e quindi su **Usa un altro account**. Nella casella **Nome utente** digitare **LocalAdmin**, nella casella **Password** digitare **Adm1nPa$$word** e quindi fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-198">In the **Windows Security** dialog box, click **More choices**, click **Use a different account**, in the **User name** box type **LocalAdmin**, in the **Password** box type **Adm1nPa$$word**, and then click **OK**.</span></span>

1. <span data-ttu-id="4dbe4-199">Nella finestra di dialogo **Connessione Desktop remoto** fare clic su **Sì**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-199">In the **Remote Desktop Connection** dialog box, click **Yes**.</span></span>

1. <span data-ttu-id="4dbe4-200">Nel desktop remoto della macchina virtuale aprire Internet Explorer, quindi nella finestra di dialogo **Installa Internet Explorer** fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-200">In the virtual machine remote desktop, open Internet Explorer, and in the **Set up Internet Explorer** dialog box, click **OK**.</span></span>

1. <span data-ttu-id="4dbe4-201">In **Internet Explorer** digitare **http://download.sysinternals.com/files/CPUSTRES.zip** nella barra degli indirizzi e premere INVIO.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-201">In **Internet Explorer**, in the address bar, type **http://download.sysinternals.com/files/CPUSTRES.zip** and press ENTER.</span></span> <span data-ttu-id="4dbe4-202">Nella finestra di dialogo **Internet Explorer** fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-202">In the **Internet Explorer** dialog box, click **Add**.</span></span> <span data-ttu-id="4dbe4-203">Nella finestra di dialogo **Siti attendibili** fare clic su **Aggiungi** e quindi su **Chiudi**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-203">In the **Trusted Sites** dialog box, click **Add** and then click **Close**.</span></span>

1. <span data-ttu-id="4dbe4-204">Se la richiesta di conferma del download non viene visualizzata automaticamente, potrebbe essere necessario immettere di nuovo l'URL e premere INVIO.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-204">If the download prompt does not appear automatically, you may need to enter the URL again and press ENTER.</span></span> <span data-ttu-id="4dbe4-205">Nella finestra di dialogo **Internet Explorer** fare clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-205">In the **Internet Explorer** dialog box, click **Save**.</span></span> <span data-ttu-id="4dbe4-206">Al termine del download, fare clic su **Apri cartella**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-206">Once the download is complete, click **Open folder**.</span></span>

1. <span data-ttu-id="4dbe4-207">Nella cartella **Download** fare doppio clic su **CPUSTRES** e quindi di nuovo doppio clic sull'applicazione **CPUSTRES**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-207">In the **Downloads** folder, double-click **CPUSTRES**, and then double-click the **CPUSTRES** application.</span></span> <span data-ttu-id="4dbe4-208">Nella finestra di dialogo **Cartelle compresse** fare clic su **Esegui**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-208">In the **Compressed (zipped) folders** dialog box, click **Run**.</span></span>

1. <span data-ttu-id="4dbe4-209">Nella finestra **CPU Stress**, in **Thread 1**, selezionare **Maximum** nell'elenco a discesa **Activity**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-209">In the **CPU Stress** window, under **Thread 1**, in the **Activity** drop-down, select **Maximum**.</span></span> <span data-ttu-id="4dbe4-210">In **Thread 2** fare clic sulla casella di controllo **Active**, quindi nell'elenco a discesa **Activity** selezionare **Maximum**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-210">Under **Thread 2**, click the **Active** checkbox, and in the **Activity** drop-down, select **Maximum**.</span></span>

1. <span data-ttu-id="4dbe4-211">Fare clic sul pulsante Start e quindi su **Gestione attività**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-211">Click the Start button, then click **Task Manager**.</span></span> <span data-ttu-id="4dbe4-212">In Gestione attività fare clic su **Più dettagli** e verificare che il valore per la CPU sia superiore al 75%.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-212">In Task Manager, click **More details**, and confirm that the CPU is over 75%.</span></span>

1. <span data-ttu-id="4dbe4-213">Ripetere l'installazione e l'avvio di **CPUSTRES** nell'altra macchina virtuale del set di scalabilità e quindi attendere cinque minuti.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-213">Repeat the installation and launch of **CPUSTRES** on the other virtual machine in the scale set and then wait for five minutes.</span></span>

1. <span data-ttu-id="4dbe4-214">Nel portale di Azure passare al gruppo di risorse **ExerciseRG**, quindi nel pannello **ExerciseRG** fare clic sull'oggetto **WebServerSS** e nel pannello **WebServerSS** fare clic su **Istanze**.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-214">In the Azure portal, browse to the **ExerciseRG** resource group, and in the **ExerciseRG** blade, click the **WebServerSS** object, and in the **WebServerSS** blade, click **Instances**.</span></span> <span data-ttu-id="4dbe4-215">Osservare il numero di istanze di macchina virtuale all'interno del set di scalabilità e lo stato.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-215">Note how many virtual machine instances are displayed within the scale set and the status.</span></span>

<span data-ttu-id="4dbe4-216">In questo esercizio è stato creato un set di scalabilità di macchine virtuali con due macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-216">Here, you created a virtual machine scale set with two virtual machines.</span></span> <span data-ttu-id="4dbe4-217">Sono quindi state create regole per aumentare e ridurre automaticamente le dimensioni del set di scalabilità e tali regole sono state aggiunte a un profilo di scalabilità automatica.</span><span class="sxs-lookup"><span data-stu-id="4dbe4-217">You then created rules to automatically scale out and scale in the scale set and added the rules to an autoscale profile.</span></span>