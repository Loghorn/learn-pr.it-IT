[!INCLUDE [0-vm-note](0-vm-note.md)]

<span data-ttu-id="56e8b-101">[QnA Maker](https://www.qnamaker.ai/) è incluso in [Servizi cognitivi di Azure](https://www.microsoft.com/cognitive-services/), una suite di servizi e API per la creazione di app intelligenti, supportate da intelligenza artificiale e Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="56e8b-101">[QnA Maker](https://www.qnamaker.ai/) is part of [Azure Cognitive Services](https://www.microsoft.com/cognitive-services/), which is a suite of services and APIs for building intelligent apps backed by artificial intelligence (AI) and machine learning.</span></span> <span data-ttu-id="56e8b-102">Anziché codificare un bot in modo che anticipi ogni possibile domanda di un utente e offra una risposta, è possibile connetterlo a una knowledge base di domande e risposte creata con QnA Maker.</span><span class="sxs-lookup"><span data-stu-id="56e8b-102">Rather than code a bot to anticipate every question a user might ask and provide a response, you can connect it to a knowledge base of questions and answers created with QnA Maker.</span></span> <span data-ttu-id="56e8b-103">Uno scenario di utilizzo comune consiste nel creare una knowledge base dall'URL di una pagina di domande frequenti, in modo che il bot possa rispondere a domande specifiche del dominio, ad esempio "Dove si trova il codice Product Key di Windows?" o "Dove si può scaricare Visual Studio Code?"</span><span class="sxs-lookup"><span data-stu-id="56e8b-103">A common usage scenario is to create a knowledge base from the URL of a FAQ page so the bot can answer domain-specific questions such as "How do I find my Windows product key" or "Where can I download Visual Studio Code?"</span></span>

<span data-ttu-id="56e8b-104">In questa unità si userà QnA Maker per creare una knowledge base contenente domande di tipo "Quale squadra ha vinto l'ultimo campionato di calcio?" e "Qual è la città più grande del mondo?"</span><span class="sxs-lookup"><span data-stu-id="56e8b-104">In this unit, you will use QnA Maker to create a knowledge base containing questions such as "What NFL teams have won the most Super Bowls" and "What is the largest city in the world?"</span></span> <span data-ttu-id="56e8b-105">In seguito, si distribuirà la knowledge base in un'app Web di Azure in modo che sia accessibile tramite un endpoint HTTPS.</span><span class="sxs-lookup"><span data-stu-id="56e8b-105">Then, you will deploy the knowledge base in an Azure web app so that it can be accessed via an HTTPS endpoint.</span></span>

1. <span data-ttu-id="56e8b-106">Aprire il portale di QnA Maker aprendo https://www.qnamaker.ai nel browser della VM e selezionare **Sign in** (Accedi) per accedere con lo stesso account Lab usato per accedere al portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="56e8b-106">Open the QnA Maker portal by opening https://www.qnamaker.ai in the VM browser, and select **Sign in** to sign in with the same lab account that you used to sign into the Azure portal.</span></span> 

1. <span data-ttu-id="56e8b-107">Selezionare il menu hamburger e quindi **Create a knowledge base** (Crea knowledge base).</span><span class="sxs-lookup"><span data-stu-id="56e8b-107">Select the hamburger menu, then **Create a knowledge base**.</span></span> 

1. <span data-ttu-id="56e8b-108">Selezionare **Create a QnA service** (Crea un servizio QnA).</span><span class="sxs-lookup"><span data-stu-id="56e8b-108">Select **Create a QnA service**.</span></span>

1. <span data-ttu-id="56e8b-109">Nella scheda del portale di Azure appena aperta immettere un nome nella casella **Nome**.</span><span class="sxs-lookup"><span data-stu-id="56e8b-109">In the newly-opened Azure portal tab, enter a name into the **Name** box.</span></span> <span data-ttu-id="56e8b-110">Questo nome deve essere univoco all'interno di Azure. Assicurarsi quindi che accanto al nome *e* nella casella **Nome dell'app** più in basso nel pannello compaia un segno di spunta verde.</span><span class="sxs-lookup"><span data-stu-id="56e8b-110">This name must be unique within Azure, so make sure a green check mark appears next to it *and* in the **App name** box further down the blade.</span></span>

1. <span data-ttu-id="56e8b-111">Selezionare **Usa esistente** in **Gruppo di risorse** e quindi selezionare il gruppo di risorse creato in precedenza per questo esercizio.</span><span class="sxs-lookup"><span data-stu-id="56e8b-111">Select **Use existing** under **Resource group**, then select the exercise resource group pre-created for this exercise.</span></span>

1. <span data-ttu-id="56e8b-112">Selezionare un **Percorso** dall'elenco disponibile di seguito.</span><span class="sxs-lookup"><span data-stu-id="56e8b-112">Select a **Location** from the list available in the dropdown.</span></span> 

1. <span data-ttu-id="56e8b-113">Selezionare **F0** per **Piano tariffario per la gestione**.</span><span class="sxs-lookup"><span data-stu-id="56e8b-113">Select **F0** as the **Management pricing tier**.</span></span> 

1. <span data-ttu-id="56e8b-114">Selezionare **F** per **Cerca piano tariffario**.</span><span class="sxs-lookup"><span data-stu-id="56e8b-114">Select **F** for the **Search pricing tier**.</span></span> 

1. <span data-ttu-id="56e8b-115">Verificare che **Nome dell'app** sia univoco in Azure.</span><span class="sxs-lookup"><span data-stu-id="56e8b-115">Verify the **App name** is unique to Azure.</span></span>

1. <span data-ttu-id="56e8b-116">Selezionare la località più vicina in entrambi gli elenchi a discesa e scegliere il pulsante **Crea** nella parte inferiore del pannello.</span><span class="sxs-lookup"><span data-stu-id="56e8b-116">Select the location nearest you in both location drop-downs, then select the **Create** button at the bottom of the blade.</span></span>

    ![Screenshot del portale di Azure che include il pannello di creazione di QnA Maker con i valori di configurazione descritti.](../media/3-new-qna-maker-service.png)

1. <span data-ttu-id="56e8b-118">Selezionare **Gruppi di risorse** sulla barra multifunzione sul lato sinistro del portale e aprire il gruppo di risorse creato in precedenza nell'esercizio.</span><span class="sxs-lookup"><span data-stu-id="56e8b-118">Select **Resource groups** in the ribbon on the left side of the portal, and open the pre-created exercise resource group.</span></span> <span data-ttu-id="56e8b-119">Attendere finché "Distribuzione in corso" non cambia in "Operazione completata" nella parte superiore del pannello a indicare che il servizio QnA e le risorse associate sono stati distribuiti correttamente.</span><span class="sxs-lookup"><span data-stu-id="56e8b-119">Wait until "Deploying" changes to "Succeeded" at the top of the blade, indicating that the QnA service and the resources associated with it were successfully deployed.</span></span> <span data-ttu-id="56e8b-120">Se il messaggio scompare, è possibile selezionare l'icona con la campana nella barra dei menu per visualizzare lo stato.</span><span class="sxs-lookup"><span data-stu-id="56e8b-120">If the message disappears, you can select the bell icon in the menu bar to view the status.</span></span> <span data-ttu-id="56e8b-121">È anche possibile selezionare **Aggiorna** nella parte superiore del pannello per aggiornare lo stato di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="56e8b-121">You can also select **Refresh** at the top of the blade to refresh the deployment status.</span></span>

1. <span data-ttu-id="56e8b-122">Tornare a **Create a knowledge base** (Crea knowledge base) aprendo https://www.qnamaker.ai/Create nel browser della macchina virtuale e scorrere fino a **Step 2** (Passaggio 2) per connettersi al servizio QnA.</span><span class="sxs-lookup"><span data-stu-id="56e8b-122">Return to **Create a knowledge base** by opening https://www.qnamaker.ai/Create in the VM browser and scroll to **Step 2** to connect to our QnA service.</span></span>

1. <span data-ttu-id="56e8b-123">In **Microsoft Azure Directory ID** (ID directory Microsoft Azure) scegliere **Microsoft Learn Hosting** (Hosting Microsoft Learn).</span><span class="sxs-lookup"><span data-stu-id="56e8b-123">Under **Microsoft Azure Directory ID**, choose **Microsoft Learn Hosting**.</span></span>

1. <span data-ttu-id="56e8b-124">Selezionare **Microsoft Learn Hosting** (Hosting Microsoft Learn) dall'elenco a discesa **Azure subscription name** (Nome sottoscrizione di Azure).</span><span class="sxs-lookup"><span data-stu-id="56e8b-124">Select **Microsoft Learn Hosting** from the **Azure subscription name** drop-down list.</span></span>

1. <span data-ttu-id="56e8b-125">In **Azure QnA service** (Servizio Azure QnA) selezionare il servizio QnA il cui nome è stato specificato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="56e8b-125">Under **Azure QnA service**, select the QnA service name you specified previously.</span></span> <span data-ttu-id="56e8b-126">Se non è elencato alcun servizio, potrebbe essere necessario aggiornare la pagina.</span><span class="sxs-lookup"><span data-stu-id="56e8b-126">If no services are listed, you may need to refresh the page.</span></span>

1. <span data-ttu-id="56e8b-127">Assegnare quindi un nome alla knowledge base, ad esempio "Factbot Knowledge Base".</span><span class="sxs-lookup"><span data-stu-id="56e8b-127">Then, assign the knowledge base a name, such as "Factbot Knowledge Base".</span></span>

1. <span data-ttu-id="56e8b-128">È possibile immettere domande e risposte in una knowledge base QnA Maker manualmente oppure importarle da domande frequenti online o file locali.</span><span class="sxs-lookup"><span data-stu-id="56e8b-128">You can enter questions and answers into a QnA Maker knowledge base manually, or you can import them from online FAQs or local files.</span></span> <span data-ttu-id="56e8b-129">I formati supportati sono file di testo delimitati da tabulazioni, documenti di Microsoft Word, fogli di calcolo di Excel e file PDF.</span><span class="sxs-lookup"><span data-stu-id="56e8b-129">Supported formats include tab-delimited text files, Microsoft Word documents, Excel spreadsheets, and PDF files.</span></span>

    <span data-ttu-id="56e8b-130">Per una dimostrazione, aprire https://github.com/MicrosoftDocs/mslearn-build-chat-bot-with-azure-bot-service/blob/master/Factbot.tsv.zip nel browser della macchina virtuale e scaricare il file **Factbot.tsv.zip**.</span><span class="sxs-lookup"><span data-stu-id="56e8b-130">To demonstrate, open https://github.com/MicrosoftDocs/mslearn-build-chat-bot-with-azure-bot-service/blob/master/Factbot.tsv.zip in the VM browser, then download the **Factbot.tsv.zip** file.</span></span> <span data-ttu-id="56e8b-131">Questa cartella con estensione zip contiene un file di testo denominato **Factbot.tsv**.</span><span class="sxs-lookup"><span data-stu-id="56e8b-131">This zip folder contains a text file named **Factbot.tsv**.</span></span> <span data-ttu-id="56e8b-132">Estrarre e copiare il file nel computer.</span><span class="sxs-lookup"><span data-stu-id="56e8b-132">Extract and copy the file to your computer.</span></span> <span data-ttu-id="56e8b-133">Scorrere quindi verso il basso nel portale di QnA Maker nel browser della VM, selezionare **+ Add file** (+ Aggiungi file) e selezionare **Factbot.tsv**.</span><span class="sxs-lookup"><span data-stu-id="56e8b-133">Then, scroll down in the QnA Maker portal in the VM browser, select **+ Add file**, and select **Factbot.tsv**.</span></span> <span data-ttu-id="56e8b-134">Questo file contiene 20 domande e risposte in formato delimitato da tabulazioni.</span><span class="sxs-lookup"><span data-stu-id="56e8b-134">This file contains 20 questions and answers in tab-delimited format.</span></span>

1. <span data-ttu-id="56e8b-135">Selezionare **Create your KB** (Crea knowledge base personalizzata) in fondo alla pagina e attendere la creazione della knowledge base.</span><span class="sxs-lookup"><span data-stu-id="56e8b-135">Select **Create your KB** at the bottom of the page, and wait for the knowledge base to be created.</span></span> <span data-ttu-id="56e8b-136">Per il completamento dovrebbe essere necessario meno di un minuto.</span><span class="sxs-lookup"><span data-stu-id="56e8b-136">It should take less than a minute.</span></span>

1. <span data-ttu-id="56e8b-137">Verificare che le domande e le risposte importate da **Factbot.tsv** vengano visualizzate nella knowledge base.</span><span class="sxs-lookup"><span data-stu-id="56e8b-137">Confirm that the questions and answers imported from **Factbot.tsv** appear in the knowledge base.</span></span> <span data-ttu-id="56e8b-138">Selezionare **Save and train** (Salva ed esegui training) e attendere il completamento del training.</span><span class="sxs-lookup"><span data-stu-id="56e8b-138">Then, select **Save and train** and wait for training to complete.</span></span>

    ![Screenshot del sito Factbot Knowledge Base con i dati della knowledge base caricati.](../media/3-save-and-train.png)

1. <span data-ttu-id="56e8b-140">Selezionare il pulsante **Test** a destra del pulsante **Save and train** (Salva ed esegui training).</span><span class="sxs-lookup"><span data-stu-id="56e8b-140">Select the **Test** button to the right of the **Save and train** button.</span></span> <span data-ttu-id="56e8b-141">Digitare "Hi" nella finestra di messaggio e premere **INVIO**.</span><span class="sxs-lookup"><span data-stu-id="56e8b-141">Type "Hi" into the message box and press **Enter**.</span></span> <span data-ttu-id="56e8b-142">Verificare che la risposta sia "Welcome to the QnA Factbot" come illustrato di seguito.</span><span class="sxs-lookup"><span data-stu-id="56e8b-142">Confirm that the response is "Welcome to the QnA Factbot," as shown below.</span></span>

    ![Screenshot di un'interazione di test con il bot chat creato.](../media/3-test-kb.png)

1. <span data-ttu-id="56e8b-144">Digitare "What book has sold the most copies?"</span><span class="sxs-lookup"><span data-stu-id="56e8b-144">Type "What book has sold the most copies?"</span></span> <span data-ttu-id="56e8b-145">nella finestra di messaggio e premere **INVIO**.</span><span class="sxs-lookup"><span data-stu-id="56e8b-145">into the message box and press **Enter**.</span></span> <span data-ttu-id="56e8b-146">Qual è la risposta?</span><span class="sxs-lookup"><span data-stu-id="56e8b-146">What is the response?</span></span>

1. <span data-ttu-id="56e8b-147">Selezionare nuovamente il pulsante **Test** per comprimere il pannello Test.</span><span class="sxs-lookup"><span data-stu-id="56e8b-147">Select the **Test** button again to collapse the Test panel.</span></span> 
1. <span data-ttu-id="56e8b-148">Selezionare **Publish** (Pubblica) dal menu nella parte superiore della pagina e quindi il pulsante **Publish** (Pubblica) nella parte inferiore della pagina per pubblicare la knowledge base.</span><span class="sxs-lookup"><span data-stu-id="56e8b-148">Select **Publish** in the menu at the top of the page, and select the **Publish** button at the bottom of the page to publish the knowledge base.</span></span> <span data-ttu-id="56e8b-149">La *pubblicazione* rende disponibile la knowledge base in un endpoint HTTPS.</span><span class="sxs-lookup"><span data-stu-id="56e8b-149">*Publishing* makes the knowledge base available at an HTTPS endpoint.</span></span>

<span data-ttu-id="56e8b-150">Attendere il completamento del processo di pubblicazione e verificare che il servizio QnA sia stato distribuito.</span><span class="sxs-lookup"><span data-stu-id="56e8b-150">Wait for the publication process to complete and confirm that the QnA service has been deployed.</span></span> <span data-ttu-id="56e8b-151">Ora che la knowledge base è ospitata in una propria app Web di Azure, il passaggio successivo consiste nel distribuire un bot che possa usarla.</span><span class="sxs-lookup"><span data-stu-id="56e8b-151">With the knowledge base now hosted in an Azure web app of its own, the next step is to deploy a bot that can use it.</span></span>
