Se è vero che “le azioni definiscono ciò che si è”, questo concetto è il concetto principale di questo modulo. In questa unità vengono descritte due procedure spesso considerate l'aspetto fondamentale di SRE. Entrambe derivano dal principio che è importante creare “cicli virtuosi". In questo contesto i cicli virtuosi sono procedure che generano cicli di feedback in un'organizzazione per consentire un costante miglioramento. Poiché saranno disponibili moduli di follow-on completi relativi a queste due procedure, viene offerta qui una panoramica di ciascuna procedura.

### <a name="virtuous-cycle-1-slis-and-slos"></a>Ciclo virtuoso 1: indicatori del livello di servizio (SLI) e obiettivi del livello di servizio (SLO)

Nella parte precedente di questo modulo è stato descritto il lavoro finalizzato a un “livello di affidabilità appropriato”. Viene ora esaminata l'applicazione di questo concetto.

Si supponga di voler aggiungere all'ambiente di produzione un nuovo servizio, già creato o ancora in fase di pianificazione. Una parte importante del processo consiste nel prendere alcune decisioni in merito all'affidabilità desiderata. Se il codice non viene interamente scritto personalmente, queste decisioni vengono prese (aspetto fondamentale) in collaborazione con gli sviluppatori che creano il servizio.

La prima decisione consiste nell'individuare gli elementi che verranno usati come indicatori dell'integrità del servizio (indicatore del livello di servizio o SLI). Si tratta di rispondere alla domanda “Come verificare l'attivazione e il corretto funzionamento del servizio?”. Esistono diversi modi per eseguire queste verifiche che verranno descritti in dettaglio più avanti, ma si tratta principalmente di misuratori delle operazioni riuscite o degli errori (il servizio completa un'operazione per una data percentuale di tempo), misuratori delle tempistiche (è stata restituita una risposta entro una determinata soglia di tempo), misuratori della velocità effettiva (è stata elaborata una determinata quantità di dati) o una combinazione di tutti questi elementi. Per semplicità, si può affermare che l'indicatore del livello di servizio (SLI) corrisponde alla frequenza delle operazioni riuscite, indicata tramite un codice HTTP 200 (a differenza del codice 500 o di altri codici).

Dopo aver definito un indicatore chiaro del funzionamento del servizio, si procede a stabilire il livello di affidabilità previsto o desiderato. Ad esempio, si prevede che in un determinato momento della giornata si verifichi una frequenza di errore del 20% per il servizio? In questa descrizione vengono usati numeri elevati arrotondati per maggiore semplicità. Nei moduli successivi la complessità e la precisione delle affermazioni saranno maggiori (“quali utenti sperimenteranno la frequenza di errore? alcuni utenti? la maggior parte degli utenti?” e così via). Questa aspettativa, creata in collaborazione con lo sviluppatore del servizio, è l'obiettivo del livello di servizio (SLO, Service Level Objective).

L'obiettivo del livello di servizio (SLO) deve essere un elemento che può essere misurato con precisione e rappresentato nel sistema di monitoraggio. Deve essere un obiettivo chiaro relativo all'affidabilità del servizio: ma quale numero è considerato accettabile? Non sono ammesse approssimazioni del tipo “penso che il servizio abbia funzionato bene nell'ultima settimana, ma è difficile dirlo”. Il servizio raggiunge l'obiettivo del livello di servizio (SLO) oppure non lo raggiunge. I dati devono essere chiari. Se il servizio non raggiunge l'obiettivo del livello di servizio (SLO), ripetutamente per un determinato periodo di tempo, significa che si stanno verificando problemi che devono essere risolti.

### <a name="error-budgets"></a>Budget degli errori

Sebbene sia facile immaginare che un'organizzazione intraprenda delle azioni quando il servizio non raggiunge l'obiettivo del livello di servizio (SLO), SRE rappresenta un ulteriore passo avanti per i casi in cui l'obiettivo del livello di servizio (SLO) viene raggiunto o superato. Alcune organizzazioni usano gli obiettivi del livello di servizio (SLO) per creare i cosiddetti “budget degli errori”.

Per illustrare questo concetto, si consideri il servizio di esempio descritto in precedenza e il relativo obiettivo del livello di servizio (SLO) pari all'80% di operazioni riuscite (ovvero il servizio "deve essere attivo l'80% del tempo"). Con un obiettivo del livello di servizio (SLO) pari all'80% di tempo di attività si stabilisce che il servizio deve essere attivo per l'80% del tempo. E il rimanente 20%? Un tempo di inattività inferiore al 20% non rappresenterà un problema poiché è stato stabilito che un 20% di tempo di attività in più non è importante ai fini dell'obiettivo del servizio.

Di conseguenza, se tale periodo di tempo non rappresenta un problema, quali altre operazioni sono possibili? Un'operazione certamente possibile consiste nel modificare il servizio in esecuzione aggiornandolo, ad esempio con una nuova versione che aggiunge alcune funzionalità. Se la nuova versione rimane attiva e non aggiunge alcun tempo di inattività, non si verificherà alcun problema. Se la nuova versione riduce la stabilità del sistema e restituisce errori per un 10% del tempo dedicato al debug, anche in questo caso non si verificherà alcun problema. Tutto ciò rientra ancora nel budget dell'inaffidabilità consentita.

Il budget degli errori è la differenza tra la piena affidabilità potenziale del servizio e l'affidabilità desiderata (100% - 80% = 20%). In questo caso, il budget degli errori offre un'inaffidabilità possibile del 20%, ovvero un 20% di tempo in cui “l'attivazione o meno del servizio non è un problema poiché rientra ancora nella specifica”.  Sarà possibile usare quel 20% del tempo nel modo desiderato (ad esempio con più versioni) fino a esaurimento del budget disponibile.

I budget degli errori vengono usati in alcune organizzazioni anche per la situazione meno auspicabile, ovvero quando l'obiettivo del livello di servizio (SLO) non viene raggiunto. In questo caso è possibile scegliere di intraprendere un'azione più severa rispetto a quanto descritto in precedenza. Si supponga che si stiano verificando problemi e che il servizio rimanga attivo il 60% del tempo, in base all'indicatore del livello di servizio (SLI) specificato. L'obiettivo (SLO) non è stato raggiunto. Il servizio ha esaurito il budget degli errori. L'organizzazione può scegliere di mantenere la versione pianificata poiché un'altra modifica al sistema non potrebbe che peggiorarne ulteriormente lo stato di affidabilità. I budget degli errori vengono in genere calcolati per un periodo di tempo prestabilito (un mese, un trimestre e così via) oppure a rotazione in modo che se l'affidabilità del sistema lo consente, il budget viene restituito.

Durante questo periodo di rilasci limitati, l'organizzazione può scegliere di usare a rotazione alcune risorse dell'ingegneria spostandole dallo sviluppo delle funzionalità al lavoro sull'affidabilità per individuare e correggere l'origine dei problemi che ha causato il mancato raggiungimento dell'obiettivo del livello del servizio (SLO).

La ragione per cui si parla di “alcune organizzazioni” relativamente ai budget degli errori è che la loro implementazione, in particolare nel caso in cui vengano usati per il rilascio delle versioni, richiede un'accettazione ufficiale. L'organizzazione deve essere disposta a confermare che nel caso di una decisione relativa alla versione se l'affidabilità del servizio fino ad allora non è stata accettabile, la versione verrà mantenuta. Non tutte le organizzazioni sono disposte a prendere decisioni di questo tipo. Questa non è l'unica risposta possibile a un budget degli errori esaurito, ma si tratta della più comune.

Sebbene gli indicatori del livello di servizio (SLI), gli obiettivi del livello di servizio (SLO) e i budget degli errori siano descritti più dettagliatamente in un modulo separato, vale la pena mettere in evidenza il ciclo virtuoso di queste procedure. In teoria, questo ciclo virtuoso consente all'organizzazione di descrivere, comunicare ed eseguire azioni relativamente all'affidabilità di un servizio permettendo a tutti di migliorarla. Questo ciclo di feedback può essere estremamente importante.

## <a name="virtuous-cycle-2-blameless-postmortems"></a>Ciclo virtuoso 2: postmortem senza colpevoli

Il concetto di postmortem, ovvero dell'analisi retrospettiva di un evento significativo in genere non desiderato, non è specifico dell'ingegneria dell'affidabilità del sito (Site Reliability Engineering). Non è neanche raro nel settore operations. L'unico aspetto originale è l'insistenza da parte degli SRE sulla necessità di avere postmortem “senza colpevoli”. Gli SRE analizzano l'errore del processo o la tecnologia che causa l'errore non le azioni di persone specifiche. “Quale elemento del processo in corso ha consentito a X di eseguire l'azione che ha portato all'errore? Quali informazioni non erano disponibili o importanti per la persona tanto da portarla a una conclusione errata? Quali misure di salvaguardia dovevano essere implementate per impedire che si verificasse un errore così irreversibile?” Questo è il tipo di domande che vengono poste in un postmortem senza colpevoli.

Il senso e l'indirizzamento di queste domande è fondamentale. Vengono ricercati metodi per migliorare i sistemi, non metodi per punire le persone che usando i sistemi hanno contribuito in maniera del tutto involontaria all'interruzione del servizio. È importante ricordare che “non si può licenziare la via per l'affidabilità”. Un'organizzazione che licenzia una persona ogni volta che si verifica un errore di produzione (con poche eccezioni), non impara nulla da tali eventi. Al contrario, la persona avrà timore di qualsiasi cambiamento.

Un processo di postmortem efficace in un'organizzazione crea invece un ciclo virtuoso. Consente all'organizzazione di imparare dalle interruzioni del servizio e di continuare a migliorare i propri sistemi offrendo analisi e follow-up appropriati.

Questo approccio alle interruzioni e agli errori, considerati dall'organizzazione come opportunità di apprendimento e miglioramento, è uno dei principi chiave dell'ingegneria dell'affidabilità del sito (Site Reliability Engineering). La creazione di cicli virtuosi per cogliere queste opportunità e indirizzare l'organizzazione verso una maggiore affidabilità è un altro dei principi chiave.

Nell'unità successiva verranno descritti altri principi e procedure relative al lato umano di SRE.
