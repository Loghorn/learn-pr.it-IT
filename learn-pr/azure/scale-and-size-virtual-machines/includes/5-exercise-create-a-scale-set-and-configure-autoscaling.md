<span data-ttu-id="e251b-101">In questo esercizio si userà il portale di Azure per creare un set di scalabilità di macchine virtuali con regole per la scalabilità automatica.</span><span class="sxs-lookup"><span data-stu-id="e251b-101">In this exercise, you will use the Azure portal to create a virtual machine scale set with rules for autoscaling.</span></span>

## <a name="create-a-virtual-machine-scale-set"></a><span data-ttu-id="e251b-102">Creare un set di scalabilità di macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="e251b-102">Create a virtual machine scale set</span></span>

1. <span data-ttu-id="e251b-103">Nel [portale di Azure](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true) fare clic su **Crea una risorsa**.</span><span class="sxs-lookup"><span data-stu-id="e251b-103">In the [Azure portal](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true), click **Create a resource**.</span></span>

1. <span data-ttu-id="e251b-104">Nella casella di ricerca digitare **set di scalabilità** e premere <kbd>INVIO</kbd>.</span><span class="sxs-lookup"><span data-stu-id="e251b-104">In the search box, type **scale set** and press <kbd>ENTER</kbd>.</span></span> <span data-ttu-id="e251b-105">Nel pannello **Risultati** fare clic su **Set di scalabilità di macchine virtuali**, quindi nel pannello **Set di scalabilità di macchine virtuali** fare clic su **Crea**.</span><span class="sxs-lookup"><span data-stu-id="e251b-105">On the **Results** blade, click **Virtual machine scale set**, and on the **Virtual machine scale set** blade, click **Create**.</span></span>

1. <span data-ttu-id="e251b-106">Nel pannello **Crea set di scalabilità di macchine virtuali** immettere i valori seguenti.</span><span class="sxs-lookup"><span data-stu-id="e251b-106">On the **Create virtual machine scale set** blade, enter the following values.</span></span>
    - <span data-ttu-id="e251b-107">Usare _WebServerSS_ per **Nome**.</span><span class="sxs-lookup"><span data-stu-id="e251b-107">Use _WebServerSS_ for the **Name**.</span></span>
    - <span data-ttu-id="e251b-108">Lasciare _Windows Server 2016 Datacenter_ per **Immagine del disco del sistema operativo**.</span><span class="sxs-lookup"><span data-stu-id="e251b-108">Leave _Windows Server 2016 Datacenter_ for the **Operating system disk image**.</span></span>
    - <span data-ttu-id="e251b-109">Usare _Concierge Subscription_ (Sottoscrizione Concierge) per il campo **Sottoscrizione**.</span><span class="sxs-lookup"><span data-stu-id="e251b-109">Use _Concierge Subscription_ for the **Subscription**.</span></span>
    - <span data-ttu-id="e251b-110">Selezionare **<rgn>[nome del gruppo di risorse sandbox]</rgn>** per **Gruppo di risorse**.</span><span class="sxs-lookup"><span data-stu-id="e251b-110">Select **<rgn>[sandbox resource group name]</rgn>** for the **Resource group**.</span></span>
    - <span data-ttu-id="e251b-111">Usare una posizione inclusa nell'elenco seguente: [!include[](../../../includes/azure-sandbox-regions-note-friendly.md)]</span><span class="sxs-lookup"><span data-stu-id="e251b-111">Pick a location from the following list:   [!include[](../../../includes/azure-sandbox-regions-note-friendly.md)]</span></span>

    - <span data-ttu-id="e251b-112">Immettere un **Nome utente** e una **Password** validi.</span><span class="sxs-lookup"><span data-stu-id="e251b-112">Set a valid **Username** and **Password**.</span></span> <span data-ttu-id="e251b-113">Prendere nota di questi dati per usarli in seguito.</span><span class="sxs-lookup"><span data-stu-id="e251b-113">(Note these for later use)</span></span>
    - <span data-ttu-id="e251b-114">Impostare **Numero di istanze** su _2_.</span><span class="sxs-lookup"><span data-stu-id="e251b-114">Set the **Instance count** to _2_.</span></span>
    - <span data-ttu-id="e251b-115">Impostare **Dimensioni istanza** su _D2s_v3_.</span><span class="sxs-lookup"><span data-stu-id="e251b-115">Set the **Instance size** to _D2s_v3_.</span></span>
    - <span data-ttu-id="e251b-116">Lasciare **Scalabilità automatica** come _Disabilitata_.</span><span class="sxs-lookup"><span data-stu-id="e251b-116">Leave **Autoscale** as _Disabled_.</span></span>
    - <span data-ttu-id="e251b-117">Selezionare **Bilanciamento del carico**.</span><span class="sxs-lookup"><span data-stu-id="e251b-117">Select **Load balancer**.</span></span>
    - <span data-ttu-id="e251b-118">Immettere _WebServerPubIP_ in **Nome indirizzo IP pubblico**.</span><span class="sxs-lookup"><span data-stu-id="e251b-118">Enter _WebServerPubIP_ for the **Public IP address name**.</span></span>
    - <span data-ttu-id="e251b-119">Usare le proprie iniziali, la data e l'ora per **Etichetta del nome di dominio** per ottenere un valore univoco.</span><span class="sxs-lookup"><span data-stu-id="e251b-119">Use your initials + date + time for the **Domain name label** so it's unique.</span></span>
    - <span data-ttu-id="e251b-120">In **Rete virtuale**, selezionare **Crea nuovo**.</span><span class="sxs-lookup"><span data-stu-id="e251b-120">For **Virtual network** select **Create new**.</span></span> <span data-ttu-id="e251b-121">Assegnare il nome **SSVNet** e fare clic su **Crea** per creare la rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="e251b-121">Name it **SSVNet** and click **Create** to create the VNet.</span></span>

1. <span data-ttu-id="e251b-122">Fare clic su **Crea** per distribuire il set di scalabilità.</span><span class="sxs-lookup"><span data-stu-id="e251b-122">Click **Create** to deploy the scale set.</span></span>

1. <span data-ttu-id="e251b-123">Attendere che il set di scalabilità venga creato.</span><span class="sxs-lookup"><span data-stu-id="e251b-123">Wait for the scale set to be created.</span></span>

## <a name="create-and-apply-autoscale-rules"></a><span data-ttu-id="e251b-124">Creare e applicare regole di scalabilità automatica</span><span class="sxs-lookup"><span data-stu-id="e251b-124">Create and apply autoscale rules</span></span>

1. <span data-ttu-id="e251b-125">Nella barra laterale sinistra fare clic su **Gruppi di risorse**.</span><span class="sxs-lookup"><span data-stu-id="e251b-125">Click **Resource Groups** in the left sidebar.</span></span>

1. <span data-ttu-id="e251b-126">Selezionare il gruppo di risorse **<rgn>[nome gruppo di risorse sandbox]</rgn>**.</span><span class="sxs-lookup"><span data-stu-id="e251b-126">Select the **<rgn>[sandbox resource group name]</rgn>** resource group.</span></span>

1. <span data-ttu-id="e251b-127">Nel pannello **<rgn>[nome gruppo di risorse sandbox]</rgn>** fare clic sull'oggetto **WebServerSS** per aprire il set di scalabilità.</span><span class="sxs-lookup"><span data-stu-id="e251b-127">On the **<rgn>[sandbox resource group name]</rgn>** blade, click the **WebServerSS** object to open the scale set.</span></span>

1. <span data-ttu-id="e251b-128">Nel pannello **WebServerSS** in **Impostazioni** fare clic su **Istanze**.</span><span class="sxs-lookup"><span data-stu-id="e251b-128">On the **WebServerSS** blade, under **Settings**, click **Instances**.</span></span> <span data-ttu-id="e251b-129">Si noti la presenza delle due istanze di macchina virtuale in esecuzione nel set di scalabilità.</span><span class="sxs-lookup"><span data-stu-id="e251b-129">Note the two virtual machine instances running within the scale set.</span></span>

1. <span data-ttu-id="e251b-130">Nel pannello **WebServerSS** fare clic su **Scalabilità**.</span><span class="sxs-lookup"><span data-stu-id="e251b-130">On the **WebServerSS** blade, click **Scaling**.</span></span>

1. <span data-ttu-id="e251b-131">Nel pannello **WebServerSS - Scalabilità** fare clic su **Abilita scalabilità automatica**.</span><span class="sxs-lookup"><span data-stu-id="e251b-131">On the **WebServerSS - Scaling** blade, click **Enable autoscale**.</span></span>

1. <span data-ttu-id="e251b-132">Nella schermata di configurazione impostare il nome su **WebAutoscaleSetting**.</span><span class="sxs-lookup"><span data-stu-id="e251b-132">On configuration screen, set the name to **WebAutoscaleSetting**.</span></span>

1. <span data-ttu-id="e251b-133">Nella condizione predefinita trovare **Limiti per le istanze** e impostare i valori seguenti.</span><span class="sxs-lookup"><span data-stu-id="e251b-133">In the default condition, locate the **Instance limits**, set the following values.</span></span>

    |<span data-ttu-id="e251b-134">Impostazione</span><span class="sxs-lookup"><span data-stu-id="e251b-134">Setting</span></span>|<span data-ttu-id="e251b-135">Valore</span><span class="sxs-lookup"><span data-stu-id="e251b-135">Value</span></span>|
    |---|---|
    |<span data-ttu-id="e251b-136">Minimo</span><span class="sxs-lookup"><span data-stu-id="e251b-136">Minimum</span></span>|<span data-ttu-id="e251b-137">2</span><span class="sxs-lookup"><span data-stu-id="e251b-137">2</span></span>|
    |<span data-ttu-id="e251b-138">Massimo</span><span class="sxs-lookup"><span data-stu-id="e251b-138">Maximum</span></span>|<span data-ttu-id="e251b-139">8</span><span class="sxs-lookup"><span data-stu-id="e251b-139">8</span></span>|
    |<span data-ttu-id="e251b-140">Predefinito</span><span class="sxs-lookup"><span data-stu-id="e251b-140">Default</span></span>|<span data-ttu-id="e251b-141">2</span><span class="sxs-lookup"><span data-stu-id="e251b-141">2</span></span>|

1. <span data-ttu-id="e251b-142">Fare clic su **Aggiungi regola**.</span><span class="sxs-lookup"><span data-stu-id="e251b-142">Click **Add a rule**.</span></span>

1. <span data-ttu-id="e251b-143">Nel pannello **Regola scalabilità** immettere le informazioni seguenti per creare una regola che aggiunge altre due macchine virtuali quando l'uso medio della CPU supera il 75% in un periodo di cinque minuti, quindi fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="e251b-143">On the **Scale rule** blade, enter the following information to create a rule to scale out an extra two virtual machines when average CPU usage is more than 75% over a five-minute period, and then click **Add**.</span></span>

    |<span data-ttu-id="e251b-144">Impostazione</span><span class="sxs-lookup"><span data-stu-id="e251b-144">Setting</span></span>|<span data-ttu-id="e251b-145">Valore</span><span class="sxs-lookup"><span data-stu-id="e251b-145">Value</span></span>|
    |---|---|
    |<span data-ttu-id="e251b-146">Aggregazione temporale</span><span class="sxs-lookup"><span data-stu-id="e251b-146">Time aggregation</span></span>|<span data-ttu-id="e251b-147">Media</span><span class="sxs-lookup"><span data-stu-id="e251b-147">Average</span></span>|
    |<span data-ttu-id="e251b-148">Nome metrica</span><span class="sxs-lookup"><span data-stu-id="e251b-148">Metric name</span></span>|<span data-ttu-id="e251b-149">Percentuale CPU</span><span class="sxs-lookup"><span data-stu-id="e251b-149">Percentage CPU</span></span>|
    |<span data-ttu-id="e251b-150">Statistica intervallo di tempo</span><span class="sxs-lookup"><span data-stu-id="e251b-150">Time grain statistic</span></span>|<span data-ttu-id="e251b-151">Media</span><span class="sxs-lookup"><span data-stu-id="e251b-151">Average</span></span>|
    |<span data-ttu-id="e251b-152">Operatore</span><span class="sxs-lookup"><span data-stu-id="e251b-152">Operator</span></span>|<span data-ttu-id="e251b-153">Maggiore di</span><span class="sxs-lookup"><span data-stu-id="e251b-153">Greater than</span></span>|
    |<span data-ttu-id="e251b-154">Soglia</span><span class="sxs-lookup"><span data-stu-id="e251b-154">Threshold</span></span>|<span data-ttu-id="e251b-155">75</span><span class="sxs-lookup"><span data-stu-id="e251b-155">75</span></span>|
    |<span data-ttu-id="e251b-156">Durata (in minuti)</span><span class="sxs-lookup"><span data-stu-id="e251b-156">Duration (in minutes)</span></span>|<span data-ttu-id="e251b-157">5</span><span class="sxs-lookup"><span data-stu-id="e251b-157">5</span></span>|
    |<span data-ttu-id="e251b-158">Operazione</span><span class="sxs-lookup"><span data-stu-id="e251b-158">Operation</span></span>|<span data-ttu-id="e251b-159">Aumenta numero di</span><span class="sxs-lookup"><span data-stu-id="e251b-159">Increase count by</span></span>|
    |<span data-ttu-id="e251b-160">Numero di istanze</span><span class="sxs-lookup"><span data-stu-id="e251b-160">Instance count</span></span>|<span data-ttu-id="e251b-161">2</span><span class="sxs-lookup"><span data-stu-id="e251b-161">2</span></span>|
    |<span data-ttu-id="e251b-162">Disattiva regole dopo (minuti)</span><span class="sxs-lookup"><span data-stu-id="e251b-162">Cool down (minutes)</span></span>|<span data-ttu-id="e251b-163">5</span><span class="sxs-lookup"><span data-stu-id="e251b-163">5</span></span>|

1. <span data-ttu-id="e251b-164">Aggiungere un'altra regola. Questa volta immettere le informazioni seguenti per creare una regola che elimina un server alla volta quando l'uso medio della CPU scende sotto il 30% in un periodo di cinque minuti, quindi fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="e251b-164">Add another rule, this time, enter the following information to create a rule to scale in one server at a time when average CPU usage is below 30% over a five-minute period, and then click **Add**.</span></span>

    |<span data-ttu-id="e251b-165">Impostazione</span><span class="sxs-lookup"><span data-stu-id="e251b-165">Setting</span></span>|<span data-ttu-id="e251b-166">Valore</span><span class="sxs-lookup"><span data-stu-id="e251b-166">Value</span></span>|
    |---|---|
    |<span data-ttu-id="e251b-167">Aggregazione temporale</span><span class="sxs-lookup"><span data-stu-id="e251b-167">Time aggregation</span></span>|<span data-ttu-id="e251b-168">Media</span><span class="sxs-lookup"><span data-stu-id="e251b-168">Average</span></span>|
    |<span data-ttu-id="e251b-169">Nome metrica</span><span class="sxs-lookup"><span data-stu-id="e251b-169">Metric name</span></span>|<span data-ttu-id="e251b-170">Percentuale CPU</span><span class="sxs-lookup"><span data-stu-id="e251b-170">Percentage CPU</span></span>|
    |<span data-ttu-id="e251b-171">Statistica intervallo di tempo</span><span class="sxs-lookup"><span data-stu-id="e251b-171">Time grain statistic</span></span>|<span data-ttu-id="e251b-172">Media</span><span class="sxs-lookup"><span data-stu-id="e251b-172">Average</span></span>|
    |<span data-ttu-id="e251b-173">Operatore</span><span class="sxs-lookup"><span data-stu-id="e251b-173">Operator</span></span>|<span data-ttu-id="e251b-174">Minore di</span><span class="sxs-lookup"><span data-stu-id="e251b-174">Less than</span></span>|
    |<span data-ttu-id="e251b-175">Soglia</span><span class="sxs-lookup"><span data-stu-id="e251b-175">Threshold</span></span>|<span data-ttu-id="e251b-176">30</span><span class="sxs-lookup"><span data-stu-id="e251b-176">30</span></span>|
    |<span data-ttu-id="e251b-177">Durata (in minuti)</span><span class="sxs-lookup"><span data-stu-id="e251b-177">Duration (in minutes)</span></span>|<span data-ttu-id="e251b-178">5</span><span class="sxs-lookup"><span data-stu-id="e251b-178">5</span></span>|
    |<span data-ttu-id="e251b-179">Operazione</span><span class="sxs-lookup"><span data-stu-id="e251b-179">Operation</span></span>|<span data-ttu-id="e251b-180">Riduci numero di</span><span class="sxs-lookup"><span data-stu-id="e251b-180">Decrease count by</span></span>|
    |<span data-ttu-id="e251b-181">Numero di istanze</span><span class="sxs-lookup"><span data-stu-id="e251b-181">Instance count</span></span>|<span data-ttu-id="e251b-182">1</span><span class="sxs-lookup"><span data-stu-id="e251b-182">1</span></span>|
    |<span data-ttu-id="e251b-183">Disattiva regole dopo (minuti)</span><span class="sxs-lookup"><span data-stu-id="e251b-183">Cool down (minutes)</span></span>|<span data-ttu-id="e251b-184">5</span><span class="sxs-lookup"><span data-stu-id="e251b-184">5</span></span>|

1. <span data-ttu-id="e251b-185">Le regole saranno simili alle seguenti:</span><span class="sxs-lookup"><span data-stu-id="e251b-185">Your rules should look something like this:</span></span>

    ![Screenshot del set di regole di scalabilità automatica applicate al set di scalabilità della macchina virtuale](../media/5-scale-rules.png)

1. <span data-ttu-id="e251b-187">Fare clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="e251b-187">Click **Save**.</span></span>

## <a name="generate-load-to-demonstrate-autoscaling"></a><span data-ttu-id="e251b-188">Generare il carico per dimostrare la scalabilità automatica</span><span class="sxs-lookup"><span data-stu-id="e251b-188">Generate load to demonstrate autoscaling</span></span>

<span data-ttu-id="e251b-189">A questo punto si userà lo strumento SysInternals **CPUStress.exe** per generare il carico sulle macchine virtuali nel set di scalabilità ed eseguire una dimostrazione della scalabilità orizzontale automatica.</span><span class="sxs-lookup"><span data-stu-id="e251b-189">Now you will use the SysInternals **CPUStress.exe** tool to generate load on the virtual machines in the scale set and demonstrate automatic scaling out.</span></span>

<span data-ttu-id="e251b-190">Si eseguirà l'operazione nella macchina virtuale. Non è necessario avere Windows per questa operazione, ma _è necessario_ avere un client Desktop remoto.</span><span class="sxs-lookup"><span data-stu-id="e251b-190">We will run this on our VM - you do not need to have Windows for this, however you _do_ need a Remote Desktop Client.</span></span> <span data-ttu-id="e251b-191">Microsoft dispone di client per macOS e Windows e anche diverse distribuzioni di Linux includono un client.</span><span class="sxs-lookup"><span data-stu-id="e251b-191">Microsoft has one for macOS and Windows, and various distributions of Linux include a client as well.</span></span>

1. <span data-ttu-id="e251b-192">Per determinare l'indirizzo IP pubblico a cui connettersi, passare al gruppo di risorse **<rgn>[nome gruppo di risorse sandbox]</rgn>**.</span><span class="sxs-lookup"><span data-stu-id="e251b-192">To determine the public IP address to connect to, browse to the **<rgn>[sandbox resource group name]</rgn>** resource group.</span></span> <span data-ttu-id="e251b-193">Nel pannello **<rgn>[nome gruppo di risorse sandbox]</rgn>** fare clic sull'oggetto **WebServerSSlb**.</span><span class="sxs-lookup"><span data-stu-id="e251b-193">On the **<rgn>[sandbox resource group name]</rgn>** blade, click the **WebServerSSlb** object.</span></span>

1. <span data-ttu-id="e251b-194">Nel pannello **WebServerSSlb** fare clic su **Configurazione IP front-end** e prendere nota dell'indirizzo IP pubblico visualizzato.</span><span class="sxs-lookup"><span data-stu-id="e251b-194">On the **WebServerSSlb** blade, click **Frontend IP configuration** and make a note of the public IP address shown.</span></span> <span data-ttu-id="e251b-195">Chiudere il pannello **LoadBalancerFrontEnd**.</span><span class="sxs-lookup"><span data-stu-id="e251b-195">Close the **LoadBalancerFrontEnd** blade.</span></span>

1. <span data-ttu-id="e251b-196">Per determinare il numero di porta a cui connettersi, nel pannello **WebServerSSlb** fare clic su **Regole NAT in ingresso**.</span><span class="sxs-lookup"><span data-stu-id="e251b-196">To determine the port number to connect to, on the **WebServerSSlb** blade, click **Inbound NAT rules**.</span></span> <span data-ttu-id="e251b-197">Prendere nota del numero di porta personalizzato nella colonna Servizio di ogni macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="e251b-197">Note down the custom port number in the Service column for each virtual machine.</span></span>

1. <span data-ttu-id="e251b-198">Nel computer locale avviare **Connessione Desktop remoto**.</span><span class="sxs-lookup"><span data-stu-id="e251b-198">On your local computer, start the **Remote Desktop Connection**.</span></span> <span data-ttu-id="e251b-199">Nella casella **Computer** digitare l'indirizzo IP pubblico del servizio di bilanciamento del carico, seguito dai due punti e dal numero di porta dell'istanza 0 (ad esempio 40.67.191.221:50000), quindi fare clic su **Connetti**.</span><span class="sxs-lookup"><span data-stu-id="e251b-199">In the **Computer** box, type the public IP address of the load balancer, followed by a colon and then the port number value for Instance 0 (for example, 40.67.191.221:50000), and then click **Connect**.</span></span>

1. <span data-ttu-id="e251b-200">Nella finestra di dialogo **Sicurezza di Windows** visualizzata fare clic su **Altre scelte** e quindi fare clic su **Usa un account diverso**.</span><span class="sxs-lookup"><span data-stu-id="e251b-200">In the **Windows Security** dialog box, click **More choices**, and then click **Use a different account**.</span></span> <span data-ttu-id="e251b-201">Nelle caselle **Nome utente** e **Password** immettere le credenziali specificate in precedenza durante la creazione del set di scalabilità.</span><span class="sxs-lookup"><span data-stu-id="e251b-201">In the **User name** and **Password** boxes, type enter the credentials you specified above when you created the scale set.</span></span>

1. <span data-ttu-id="e251b-202">Nella finestra di dialogo **Connessione Desktop remoto** fare clic su **Sì**.</span><span class="sxs-lookup"><span data-stu-id="e251b-202">In the **Remote Desktop Connection** dialog box, click **Yes**.</span></span>

1. <span data-ttu-id="e251b-203">Nel desktop remoto della macchina virtuale aprire Internet Explorer, quindi nella finestra di dialogo **Installa Internet Explorer** fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="e251b-203">In the virtual machine remote desktop, open Internet Explorer, and in the **Set up Internet Explorer** dialog box, click **OK**.</span></span>

1. <span data-ttu-id="e251b-204">In **Internet Explorer** digitare **http://download.sysinternals.com/files/CPUSTRES.zip** nella barra degli indirizzi e premere <kbd>INVIO</kbd>.</span><span class="sxs-lookup"><span data-stu-id="e251b-204">In **Internet Explorer**, in the address bar, type **http://download.sysinternals.com/files/CPUSTRES.zip** and press <kbd>ENTER</kbd>.</span></span> <span data-ttu-id="e251b-205">Nella finestra di dialogo **Internet Explorer** fare clic su **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="e251b-205">In the **Internet Explorer** dialog box, click **Add**.</span></span> <span data-ttu-id="e251b-206">Nella finestra di dialogo **Siti attendibili** fare clic su **Aggiungi** e quindi su **Chiudi**.</span><span class="sxs-lookup"><span data-stu-id="e251b-206">In the **Trusted Sites** dialog box, click **Add** and then click **Close**.</span></span>

1. <span data-ttu-id="e251b-207">Se la richiesta di conferma del download non viene visualizzata automaticamente, potrebbe essere necessario immettere di nuovo l'URL e premere <kbd>INVIO</kbd>.</span><span class="sxs-lookup"><span data-stu-id="e251b-207">If the download prompt does not appear automatically, you may need to enter the URL again and press <kbd>ENTER</kbd>.</span></span> <span data-ttu-id="e251b-208">Nella finestra di dialogo **Internet Explorer** fare clic su **Salva**.</span><span class="sxs-lookup"><span data-stu-id="e251b-208">In the **Internet Explorer** dialog box, click **Save**.</span></span> <span data-ttu-id="e251b-209">Al termine del download, fare clic su **Apri cartella**.</span><span class="sxs-lookup"><span data-stu-id="e251b-209">Once the download is complete, click **Open folder**.</span></span>

1. <span data-ttu-id="e251b-210">Nella cartella **Download** fare doppio clic su **CPUSTRES** e quindi di nuovo doppio clic sull'applicazione **CPUSTRES**.</span><span class="sxs-lookup"><span data-stu-id="e251b-210">In the **Downloads** folder, double-click **CPUSTRES**, and then double-click the **CPUSTRES** application.</span></span> <span data-ttu-id="e251b-211">Nella finestra di dialogo **Cartelle compresse** fare clic su **Esegui**.</span><span class="sxs-lookup"><span data-stu-id="e251b-211">In the **Compressed (zipped) folders** dialog box, click **Run**.</span></span>

1. <span data-ttu-id="e251b-212">Nella finestra **CPU Stress** (Sollecitazione CPU), in **Thread 1**, selezionare **Maximum** (Massimo) nell'elenco a discesa **Activity** (Attività).</span><span class="sxs-lookup"><span data-stu-id="e251b-212">In the **CPU Stress** window, under **Thread 1**, in the **Activity** drop-down, select **Maximum**.</span></span> <span data-ttu-id="e251b-213">In **Thread 2** fare clic sulla casella di controllo **Active** (Attivo) quindi nell'elenco a discesa **Activity** (Attività) selezionare **Maximum** (Massimo).</span><span class="sxs-lookup"><span data-stu-id="e251b-213">Under **Thread 2**, click the **Active** checkbox, and in the **Activity** drop-down, click the down arrorw inside the drop-down and select **Maximum**.</span></span> <span data-ttu-id="e251b-214">Queste impostazioni vengono applicate immediatamente.</span><span class="sxs-lookup"><span data-stu-id="e251b-214">These settings take effect immediately.</span></span>

1. <span data-ttu-id="e251b-215">Fare clic sul pulsante Start di Windows e quindi su **Gestione attività**.</span><span class="sxs-lookup"><span data-stu-id="e251b-215">Click the Windows Start button, then click **Task Manager**.</span></span> <span data-ttu-id="e251b-216">In Gestione attività fare clic su **Più dettagli** e verificare che il valore per la CPU sia superiore al 75%.</span><span class="sxs-lookup"><span data-stu-id="e251b-216">In Task Manager, click **More details**, and confirm that the CPU is over 75%.</span></span>

1. <span data-ttu-id="e251b-217">**Ripetere** l'installazione e l'avvio di **CPUSTRES** nell'altra macchina virtuale del set di scalabilità e quindi attendere cinque minuti.</span><span class="sxs-lookup"><span data-stu-id="e251b-217">**Repeat** the installation and launch of **CPUSTRES** on the other virtual machine in the scale set, and then wait for five minutes.</span></span>

1. <span data-ttu-id="e251b-218">Nel portale di Azure selezionare il gruppo di risorse **<rgn>[nome gruppo di risorse sandbox]</rgn>**.</span><span class="sxs-lookup"><span data-stu-id="e251b-218">In the Azure portal, browse to the **<rgn>[sandbox resource group name]</rgn>** resource group.</span></span> <span data-ttu-id="e251b-219">Nel pannello **<rgn>[nome gruppo di risorse sandbox]</rgn>** fare clic sull'oggetto **WebServerSS**.</span><span class="sxs-lookup"><span data-stu-id="e251b-219">On the **<rgn>[sandbox resource group name]</rgn>** blade, click the **WebServerSS** object.</span></span> <span data-ttu-id="e251b-220">Nel pannello **WebServerSS** fare clic su **Istanze**.</span><span class="sxs-lookup"><span data-stu-id="e251b-220">On the **WebServerSS** blade, click **Instances**.</span></span> <span data-ttu-id="e251b-221">Osservare il numero di istanze di macchina virtuale visualizzate all'interno del set di scalabilità e lo stato corrispondente.</span><span class="sxs-lookup"><span data-stu-id="e251b-221">Note how many virtual machine instances are displayed within the scale set and the status.</span></span>

<span data-ttu-id="e251b-222">In questo esercizio è stato creato un set di scalabilità di macchine virtuali con due macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="e251b-222">Here, you created a virtual machine scale set with two virtual machines.</span></span> <span data-ttu-id="e251b-223">Sono quindi state create regole per aumentare e ridurre automaticamente le dimensioni del set di scalabilità e tali regole sono state aggiunte a un profilo di scalabilità automatica.</span><span class="sxs-lookup"><span data-stu-id="e251b-223">You then created rules to automatically scale out and scale in the scale set, and you added the rules to an autoscale profile.</span></span>
