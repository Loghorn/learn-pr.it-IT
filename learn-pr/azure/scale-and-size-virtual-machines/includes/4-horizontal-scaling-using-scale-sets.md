<span data-ttu-id="5b385-101">Per ottenere le risorse necessarie, è possibile usare un'unica macchina virtuale di grandi dimensioni oppure più macchine virtuali di dimensioni inferiori con un bilanciamento del carico che distribuisce le richieste tra le VM.</span><span class="sxs-lookup"><span data-stu-id="5b385-101">You can get the resources you need using either one large virtual machine or several small VMs with a load balancer to distribute requests among the VMs.</span></span>

<span data-ttu-id="5b385-102">Il pool di macchine virtuali ha il vantaggio di consentire l'aggiunta o la rimozione rapida di macchine virtuali a seconda delle richieste.</span><span class="sxs-lookup"><span data-stu-id="5b385-102">The VM pool has the nice advantage that you can add or remove VMs quickly when demand changes.</span></span> <span data-ttu-id="5b385-103">Nello scenario dell'azienda che vende giocattoli, questa strategia sarebbe utile per gestire i picchi imprevisti di richieste.</span><span class="sxs-lookup"><span data-stu-id="5b385-103">In the toy company scenario, this strategy would be useful to handle unexpected spikes in demand.</span></span> <span data-ttu-id="5b385-104">Si potrebbero aggiungere macchine virtuali al pool quando il numero di richieste aumenta e rimuoverle quando torna alla normalità.</span><span class="sxs-lookup"><span data-stu-id="5b385-104">You could add VMs to the pool when demand increased and remove them when demand returned to normal.</span></span> <span data-ttu-id="5b385-105">Il pool assicura anche la ridondanza: in caso di guasto di una macchina virtuale, le altre possono continuare a gestire le richieste senza alcuna interruzione del servizio.</span><span class="sxs-lookup"><span data-stu-id="5b385-105">The pool also gives you redundancy; if one VM fails, the others can continue to handle requests with no interruption in service.</span></span>

<span data-ttu-id="5b385-106">In questa sezione vedremo come effettuare il provisioning di più macchine virtuali usando i set di scalabilità e come aggiungere e rimuovere automaticamente istanze al variare dei volumi delle richieste.</span><span class="sxs-lookup"><span data-stu-id="5b385-106">In this section, you will see how to provision multiple VMs using scale sets and how to automatically add and remove instances in response to changing demand.</span></span> 

## <a name="what-is-horizontal-scaling"></a><span data-ttu-id="5b385-107">Che cos'è la scalabilità orizzontale?</span><span class="sxs-lookup"><span data-stu-id="5b385-107">What is horizontal scaling?</span></span>

<span data-ttu-id="5b385-108">La *scalabilità orizzontale* è il processo di aggiunta o rimozione di macchine virtuali da un pool per regolare la quantità di risorse disponibili.</span><span class="sxs-lookup"><span data-stu-id="5b385-108">*Horizontal scaling* is the process of adding or removing virtual machines from a pool to adjust the amount of available resources.</span></span> <span data-ttu-id="5b385-109">L'aggiunta di macchine virtuali è detta _aumento_ e la rimozione è detta _riduzione_.</span><span class="sxs-lookup"><span data-stu-id="5b385-109">Adding machines is called _scaling out_, and removing machines is called _scaling in_.</span></span> <span data-ttu-id="5b385-110">Le soluzioni che usano la scalabilità orizzontale includono un servizio di bilanciamento del carico o un gateway che distribuisce le richieste tra le macchine virtuali del pool.</span><span class="sxs-lookup"><span data-stu-id="5b385-110">Solutions that use horizontal scaling include a load balancer or gateway to distribute requests among the VMs in the pool.</span></span> <span data-ttu-id="5b385-111">La figura seguente mostra un esempio di modifica del numero di istanze di macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="5b385-111">The following illustration shows an example of changing the number of virtual machine instances.</span></span>

![Illustrazione che mostra l'aumento del numero di risorse per gestire la domanda e la riduzione del numero di risorse per ridurre i costi.](../media/4-ScaleInOut.png)

<span data-ttu-id="5b385-113">Questa tecnica è ottimale per le applicazioni che possono essere eseguite su più server identici.</span><span class="sxs-lookup"><span data-stu-id="5b385-113">This technique works best for applications that can be run across multiple, identical servers.</span></span> <span data-ttu-id="5b385-114">Se ad esempio il server Web e le pagine Web vengono duplicati su più macchine virtuali, daranno la stessa risposta indipendentemente dal server che riceve la richiesta.</span><span class="sxs-lookup"><span data-stu-id="5b385-114">For example, you can duplicate your web server and web pages on multiple VMs, and they will all give the same response no matter which server receives the request.</span></span> <span data-ttu-id="5b385-115">Una macchina virtuale che esegue il database back-end non è invece un candidato ideale, in quanto l'esecuzione di più copie del database implica la necessità di mantenere tali copie sincronizzate.</span><span class="sxs-lookup"><span data-stu-id="5b385-115">On the other hand, a VM that runs your backend database is not an ideal candidate because running multiple copies of the database requires some effort to keep the copies in sync.</span></span>

## <a name="what-is-a-scale-set"></a><span data-ttu-id="5b385-116">Che cos'è un set di scalabilità?</span><span class="sxs-lookup"><span data-stu-id="5b385-116">What is a scale set?</span></span>

<span data-ttu-id="5b385-117">Un *set di scalabilità* è costituito da un pool di macchine virtuali identiche, un servizio di bilanciamento del carico o un gateway che distribuisce le richieste e un set di regole facoltativo che controlla quando le macchine virtuali vengono aggiunte o rimosse dal pool.</span><span class="sxs-lookup"><span data-stu-id="5b385-117">A *scale set* is a pool of identical virtual machines, a load balancer or gateway to distribute requests, and an optional set of rules that control when VMs are added or removed from the pool.</span></span> <span data-ttu-id="5b385-118">In questo contesto "identiche" significa che ogni macchina virtuale nel set viene creata con la stessa immagine e con le stesse dimensioni.</span><span class="sxs-lookup"><span data-stu-id="5b385-118">Here, "identical" means that each VM in the set is created using the same image and has the same size.</span></span>

<span data-ttu-id="5b385-119">La configurazione di ogni nuova macchina virtuale con il software necessario è invece più flessibile.</span><span class="sxs-lookup"><span data-stu-id="5b385-119">You have some flexibility in how a new VM is configured with the software you need.</span></span> <span data-ttu-id="5b385-120">È possibile iniziare con un'immagine predefinita del sistema operativo di base e quindi usare script per installare o copiare i file automaticamente dopo l'installazione del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="5b385-120">You can start with a predefined image for the base OS and then use scripts to install or copy files automatically after the OS is set up.</span></span> <span data-ttu-id="5b385-121">In alternativa, è possibile creare un'immagine di macchina virtuale personalizzata con il sistema operativo e il software applicativo già installati.</span><span class="sxs-lookup"><span data-stu-id="5b385-121">Alternately, you can create a custom virtual machine image with the operating system and your application software already installed.</span></span>

## <a name="how-to-distribute-requests"></a><span data-ttu-id="5b385-122">Come distribuire le richieste</span><span class="sxs-lookup"><span data-stu-id="5b385-122">How to distribute requests</span></span>

<span data-ttu-id="5b385-123">Per distribuire le richieste alle istanze di macchina virtuale in un set di scalabilità, è possibile usare un servizio di bilanciamento del carico o un gateway applicazione.</span><span class="sxs-lookup"><span data-stu-id="5b385-123">You can use either a load balancer or an application gateway to distribute requests to the VM instances in a scale set.</span></span>

<span data-ttu-id="5b385-124">Un servizio di bilanciamento del carico di Azure opera al livello OSI 4 (TCP e UDP) ed esegue il routing del traffico da un indirizzo IP e una porta di origine a un indirizzo IP e una porta di destinazione.</span><span class="sxs-lookup"><span data-stu-id="5b385-124">An Azure load balancer operates at OSI layer 4 (TCP and UDP) and routes traffic based on source IP address and port combined with the destination IP address and port.</span></span> <span data-ttu-id="5b385-125">Può fornire affinità, che consiste nel routing del traffico proveniente dallo stesso indirizzo IP di origine allo stesso server di destinazione, per garantire la coerenza in una sessione client.</span><span class="sxs-lookup"><span data-stu-id="5b385-125">It can provide affinity, where traffic from the same source IP address is routed to the same destination server to provide consistency across a client session.</span></span> <span data-ttu-id="5b385-126">Il servizio di bilanciamento del carico ha anche un meccanismo di probe integrità che determina la disponibilità delle istanze server.</span><span class="sxs-lookup"><span data-stu-id="5b385-126">The load balancer also has a health probe mechanism that determines the availability of server instances.</span></span> <span data-ttu-id="5b385-127">Se una macchina virtuale smette di rispondere al probe di integrità, il servizio di bilanciamento del carico eviterà di eseguire il routing di nuove connessioni a tale VM.</span><span class="sxs-lookup"><span data-stu-id="5b385-127">If a virtual machine becomes unresponsive to the health probe, the load balancer will avoid routing any new connections to that machine.</span></span>

<span data-ttu-id="5b385-128">Un gateway applicazione opera al livello OSI 7, ovvero il livello dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5b385-128">An application gateway operates at OSI layer 7 (the application layer).</span></span> <span data-ttu-id="5b385-129">Ad esempio, se le macchine virtuali eseguono un server Web, il gateway può usare l'URL richiesto per eseguire il routing.</span><span class="sxs-lookup"><span data-stu-id="5b385-129">For example, if your VMs are running a web server, then the gateway can use the requested URL to perform routing.</span></span> <span data-ttu-id="5b385-130">Questo significa che è possibile inoltrare le richieste con `*/customers*` nell'URL a un pool di server e le richieste con `*/partners*` nell'URL a un altro pool.</span><span class="sxs-lookup"><span data-stu-id="5b385-130">This means you could forward requests with `*/customers*` in the URL to one pool of servers and requests with `*/partners*` in the URL to a different pool.</span></span> <span data-ttu-id="5b385-131">Il gateway applicazione può anche fornire il reindirizzamento da HTTP a HTTPS, la terminazione SSL (Secure Sockets Layer) per ridurre i requisiti di elaborazione sulle macchine virtuali per la crittografia e un web application firewall (WAF) che usa regole per rilevare gli exploit Web noti ed evitare che le richieste di questo tipo raggiungano i server Web.</span><span class="sxs-lookup"><span data-stu-id="5b385-131">The application gateway can also provide HTTP to HTTPS redirection, Secure Sockets Layer (SSL) termination to reduce the processing requirement on the virtual machines for encryption, and a web application firewall (WAF) that uses rules to detect known web exploits and prevent these requests from reaching the web servers.</span></span>

## <a name="what-is-autoscaling"></a><span data-ttu-id="5b385-132">Che cos'è la scalabilità automatica?</span><span class="sxs-lookup"><span data-stu-id="5b385-132">What is autoscaling?</span></span>

<span data-ttu-id="5b385-133">La _scalabilità automatica_ è il processo di aumento o riduzione automatica in base a un set di regole.</span><span class="sxs-lookup"><span data-stu-id="5b385-133">_Autoscaling_ is the process of automatically scaling out or in based on a set of rules.</span></span> <span data-ttu-id="5b385-134">Le regole possono essere attivate dal carico delle macchine virtuali o in base a una pianificazione.</span><span class="sxs-lookup"><span data-stu-id="5b385-134">The rules can be triggered by machine load or a schedule.</span></span> <span data-ttu-id="5b385-135">La figura seguente mostra come la funzionalità di scalabilità automatica gestisce le istanze per gestire il carico.</span><span class="sxs-lookup"><span data-stu-id="5b385-135">The following illustration shows how the autoscale feature manages instances to handle the load.</span></span>

![Illustrazione che mostra come la scalabilità automatica monitora i livelli di CPU di un pool di macchine virtuali e aggiunge istanze quando l'utilizzo della CPU è superiore alla soglia.](../media/4-autoscale.png)

<span data-ttu-id="5b385-137">Per abilitare la scalabilità automatica per un set di scalabilità, è necessario creare un profilo di scalabilità automatica.</span><span class="sxs-lookup"><span data-stu-id="5b385-137">To enable autoscaling for a scale set, you must create an autoscale profile.</span></span> <span data-ttu-id="5b385-138">Il profilo definisce il numero minimo e massimo di istanze di macchina virtuale per il set e le regole di scalabilità.</span><span class="sxs-lookup"><span data-stu-id="5b385-138">The profile defines the minimum and maximum number of VM instances for the set and the scaling rules.</span></span> <span data-ttu-id="5b385-139">Le regole di scalabilità automatica sono costituite dagli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="5b385-139">Autoscale rules have the following elements:</span></span>

* <span data-ttu-id="5b385-140">Origine metrica: l'origine delle informazioni o dei dati che attiva la regola di scalabilità automatica.</span><span class="sxs-lookup"><span data-stu-id="5b385-140">Metric source - The source of information or data that triggers the autoscale rule.</span></span> <span data-ttu-id="5b385-141">Sono disponibili quattro opzioni:</span><span class="sxs-lookup"><span data-stu-id="5b385-141">There are four options:</span></span>
  * <span data-ttu-id="5b385-142">*Set di scalabilità corrente*: fornisce metriche basate sull'host che non richiedono ulteriori agenti.</span><span class="sxs-lookup"><span data-stu-id="5b385-142">*Current scale set* provides host-based metrics that do not require any additional agents.</span></span>
  * <span data-ttu-id="5b385-143">*Account di archiviazione*.</span><span class="sxs-lookup"><span data-stu-id="5b385-143">*Storage account*.</span></span> <span data-ttu-id="5b385-144">L'estensione di diagnostica di Azure scrive le metriche delle prestazioni nell'archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="5b385-144">The Azure diagnostic extension writes performance metrics to Azure Storage.</span></span> <span data-ttu-id="5b385-145">Queste metriche vengono usate per attivare le regole di scalabilità automatica.</span><span class="sxs-lookup"><span data-stu-id="5b385-145">These metrics are used to trigger autoscale rules.</span></span>
  * <span data-ttu-id="5b385-146">*Coda del bus di servizio di Azure*: può specificare messaggi basati sull'applicazione o altri messaggi del bus di servizio di Azure per l'attivazione della scalabilità automatica.</span><span class="sxs-lookup"><span data-stu-id="5b385-146">*Azure Service Bus queue* can specify application-based or other Azure Service Bus messages to trigger autoscaling.</span></span>
  * <span data-ttu-id="5b385-147">*Azure Application Insights*: usa un pacchetto di strumentazione che deve essere installato nell'applicazione eseguita nel set di scalabilità per lo streaming dei dati di metrica direttamente dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5b385-147">*Azure Application Insights* uses an instrumentation package that needs to be installed in the application running on the scale set to stream metric data directly from the application.</span></span>
* <span data-ttu-id="5b385-148">Criteri regola: metrica specifica che si vuole usare per attivare una regola di scalabilità automatica.</span><span class="sxs-lookup"><span data-stu-id="5b385-148">Rule criteria - This is the specific metric you want to use to trigger an autoscale rule.</span></span> <span data-ttu-id="5b385-149">Se si usano metriche basate sull'host, questi criteri possono includere aspetti come l'utilizzo della CPU, il volume del traffico di rete, le operazioni su disco o i crediti CPU.</span><span class="sxs-lookup"><span data-stu-id="5b385-149">If you are using host-based metrics, this can include aspects such as CPU usage, volume of network traffic, disk operations, or CPU credits.</span></span> <span data-ttu-id="5b385-150">Ad esempio è possibile configurare una regola di aumento se le operazioni di scrittura su disco al secondo superano una determinata soglia.</span><span class="sxs-lookup"><span data-stu-id="5b385-150">For example, you could configure a rule to scale out if disk write operations per second exceed a threshold.</span></span> <span data-ttu-id="5b385-151">Tramite l'estensione di diagnostica di Azure o Application Insights è possibile usare qualsiasi misura disponibile per attivare la regola, ma è necessario configurare l'agente appropriato.</span><span class="sxs-lookup"><span data-stu-id="5b385-151">Using the Azure diagnostic extension or Application Insights enables you to use any available measure to trigger the rule but requires configuration of the appropriate agent.</span></span>
* <span data-ttu-id="5b385-152">Tipo di aggregazione: specifica come si vogliono misurare i dati di metrica e offre le opzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="5b385-152">Aggregation type - This specifies how you want to measure the metric data and will be one of the following options:</span></span>
  * <span data-ttu-id="5b385-153">Media</span><span class="sxs-lookup"><span data-stu-id="5b385-153">Average</span></span>
  * <span data-ttu-id="5b385-154">Minimo</span><span class="sxs-lookup"><span data-stu-id="5b385-154">Minimum</span></span>
  * <span data-ttu-id="5b385-155">Massimo</span><span class="sxs-lookup"><span data-stu-id="5b385-155">Maximum</span></span>
  * <span data-ttu-id="5b385-156">Totale</span><span class="sxs-lookup"><span data-stu-id="5b385-156">Total</span></span>
  * <span data-ttu-id="5b385-157">Ultimo</span><span class="sxs-lookup"><span data-stu-id="5b385-157">Last</span></span>
  * <span data-ttu-id="5b385-158">Conteggio</span><span class="sxs-lookup"><span data-stu-id="5b385-158">Count</span></span>
* <span data-ttu-id="5b385-159">Operatore: l'operatore indica quanto una metrica deve essere diversa da una soglia definita per attivare l'azione delle regole.</span><span class="sxs-lookup"><span data-stu-id="5b385-159">Operator - The operator denotes how a metric must be different to a defined threshold to trigger the rules action.</span></span> <span data-ttu-id="5b385-160">È particolarmente importante per stabilire se la regola dovrà aumentare o ridurre le istanze.</span><span class="sxs-lookup"><span data-stu-id="5b385-160">This is particularly important when identifying whether the rule will scale out or in.</span></span> <span data-ttu-id="5b385-161">Gli operatori possono essere:</span><span class="sxs-lookup"><span data-stu-id="5b385-161">Operators can be:</span></span>
  * <span data-ttu-id="5b385-162">Maggiore di</span><span class="sxs-lookup"><span data-stu-id="5b385-162">Greater than</span></span>
  * <span data-ttu-id="5b385-163">Maggiore o uguale a</span><span class="sxs-lookup"><span data-stu-id="5b385-163">Greater than or equal to</span></span>
  * <span data-ttu-id="5b385-164">Minore di</span><span class="sxs-lookup"><span data-stu-id="5b385-164">Less than</span></span>
  * <span data-ttu-id="5b385-165">Minore o uguale a</span><span class="sxs-lookup"><span data-stu-id="5b385-165">Less than or equal to</span></span>
  * <span data-ttu-id="5b385-166">Uguale a</span><span class="sxs-lookup"><span data-stu-id="5b385-166">Equal to</span></span>
  * <span data-ttu-id="5b385-167">Diverso da</span><span class="sxs-lookup"><span data-stu-id="5b385-167">Not equal to</span></span>
* <span data-ttu-id="5b385-168">Azione: determina come cambierà il numero di istanze all'attivazione della regola.</span><span class="sxs-lookup"><span data-stu-id="5b385-168">Action - This determines how the number of instances will change when the rule is triggered.</span></span> <span data-ttu-id="5b385-169">Sono disponibili le azioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="5b385-169">The following actions are available:</span></span>
  * <span data-ttu-id="5b385-170">*Aumenta numero di* un numero fisso di macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="5b385-170">*Increase count by* a fixed number of virtual machines.</span></span>
  * <span data-ttu-id="5b385-171">*Aumenta percentuale di* una percentuale delle istanze esistenti.</span><span class="sxs-lookup"><span data-stu-id="5b385-171">*Increase percent by* a percentage of existing instances.</span></span>
  * <span data-ttu-id="5b385-172">*Aumenta numero a* un numero specifico di macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="5b385-172">*Increase count to* a specific number of virtual machines.</span></span>
  * <span data-ttu-id="5b385-173">*Riduci numero di* un numero fisso di macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="5b385-173">*Decrease count by* a fixed number of virtual machines.</span></span>
  * <span data-ttu-id="5b385-174">*Riduci percentuale di* una percentuale delle istanze esistenti.</span><span class="sxs-lookup"><span data-stu-id="5b385-174">*Decrease percent by* a percentage of existing instances.</span></span>
  * <span data-ttu-id="5b385-175">*Riduci numero di* un numero specifico di macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="5b385-175">*Decrease count to* a specific number of virtual machines.</span></span>

<span data-ttu-id="5b385-176">È possibile anche creare regole di scalabilità automatica che vengono attivate in base a una pianificazione.</span><span class="sxs-lookup"><span data-stu-id="5b385-176">You can also create autoscale rules that trigger on a schedule.</span></span> <span data-ttu-id="5b385-177">Ad esempio, è possibile definire una regola che aumenta il numero di istanze al mattino, quando le richieste sono numerose, e le riduce dopo pranzo, quando il numero di richieste generalmente diminuisce.</span><span class="sxs-lookup"><span data-stu-id="5b385-177">For example, you might define a rule that scales out in the morning when you know demand is high and then scales in after lunch when demand typically decreases.</span></span>

## <a name="how-to-create-a-scale-set"></a><span data-ttu-id="5b385-178">Come creare un set di scalabilità</span><span class="sxs-lookup"><span data-stu-id="5b385-178">How to create a scale set</span></span>

<span data-ttu-id="5b385-179">È possibile creare un set di scalabilità con il portale di Azure, Azure PowerShell o l'interfaccia della riga di comando di Azure.</span><span class="sxs-lookup"><span data-stu-id="5b385-179">You can create a scale set using the Azure portal, Azure PowerShell, or the Azure CLI.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="5b385-180">Portale di Azure</span><span class="sxs-lookup"><span data-stu-id="5b385-180">Azure portal</span></span>

<span data-ttu-id="5b385-181">Se si usa il portale di Azure per creare il set di scalabilità, occorre specificare l'immagine del sistema operativo da usare per le macchine virtuali e il numero di macchine virtuali da creare all'avvio.</span><span class="sxs-lookup"><span data-stu-id="5b385-181">If you use the Azure portal to create the scale set, you will specify the operating system image to use for the virtual machines and how many VM instances to create at startup.</span></span> <span data-ttu-id="5b385-182">È necessario specificare anche le dimensioni della macchina virtuale per ogni istanza e se si userà il servizio di bilanciamento del carico o il gateway applicazione per il bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="5b385-182">You will also specify the size of virtual machine for each instance and whether to use the Azure load balancer or the application gateway for load balancing.</span></span> <span data-ttu-id="5b385-183">Se si sceglie un servizio di bilanciamento del carico, il portale creerà un probe di integrità predefinito sulla porta 80 dedicato a tale servizio.</span><span class="sxs-lookup"><span data-stu-id="5b385-183">If you choose a load balancer, the portal will create a default health probe on port 80 for it.</span></span>

### <a name="azure-powershell"></a><span data-ttu-id="5b385-184">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="5b385-184">Azure PowerShell</span></span>

<span data-ttu-id="5b385-185">È possibile creare un set di scalabilità di macchine virtuali con il cmdlet di PowerShell `New-AzureRmVmss`.</span><span class="sxs-lookup"><span data-stu-id="5b385-185">You can create a virtual machine scale set with the `New-AzureRmVmss` PowerShell cmdlet.</span></span> <span data-ttu-id="5b385-186">Questo cmdlet può creare un nuovo set di scalabilità e un servizio di bilanciamento del carico e controllare le assegnazioni di indirizzo IP e rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="5b385-186">This cmdlet can create a new scale set, a load balancer, and control IP address and virtual network assignments.</span></span> <span data-ttu-id="5b385-187">Se non sono specificate impostazioni nel cmdlet, `New-AzureRmVmss` usa le impostazioni predefinite seguenti:</span><span class="sxs-lookup"><span data-stu-id="5b385-187">Unless settings are specified in the cmdlet, `New-AzureRmVmss` will use the following default settings:</span></span>

* <span data-ttu-id="5b385-188">Creare due istanze di macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="5b385-188">Create two virtual machine instances</span></span>
* <span data-ttu-id="5b385-189">Usare l'immagine di Windows Server 2016 Datacenter</span><span class="sxs-lookup"><span data-stu-id="5b385-189">Use the Windows Server 2016 Datacenter image</span></span>
* <span data-ttu-id="5b385-190">Usare le dimensioni di macchina virtuale standard DS1_v2</span><span class="sxs-lookup"><span data-stu-id="5b385-190">Use the Standard DS1_v2 virtual machine size</span></span>
* <span data-ttu-id="5b385-191">Creare un servizio di bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="5b385-191">Create a load balancer</span></span>
* <span data-ttu-id="5b385-192">Creare le regole di bilanciamento del carico per le porte 3389 e 5985 per Windows e per la porta 22 per Linux</span><span class="sxs-lookup"><span data-stu-id="5b385-192">Create load balancer rules for ports 3389 and 5985 for Windows, port 22 for Linux</span></span>

<span data-ttu-id="5b385-193">`New-AzureRmVmss` non crea un probe di integrità per il bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="5b385-193">`New-AzureRmVmss` does not create a health probe for the load balancer.</span></span> <span data-ttu-id="5b385-194">La procedura consigliata indica di crearlo tramite `Add-AzureRmLoadBalancerProbeConfig` dopo aver creato il set di scalabilità.</span><span class="sxs-lookup"><span data-stu-id="5b385-194">The best practice would be to create this using `Add-AzureRmLoadBalancerProbeConfig` after you have created the scale set.</span></span>

<span data-ttu-id="5b385-195">La scalabilità orizzontale con i set di scalabilità offre più server per l'esecuzione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="5b385-195">Horizontal scaling with scale sets gives you multiple servers to run your application.</span></span> <span data-ttu-id="5b385-196">L'uso di più server consente di gestire carichi elevati e garantisce che i servizi rimangano disponibili anche in caso di arresto anomalo di un server.</span><span class="sxs-lookup"><span data-stu-id="5b385-196">Using multiple servers lets you handle high loads and ensures your services remain available even if a server crashes.</span></span> <span data-ttu-id="5b385-197">È possibile aggiungere la scalabilità automatica ai set di scalabilità in modo che il sistema si adatti automaticamente alle variazioni impreviste dei volumi delle richieste.</span><span class="sxs-lookup"><span data-stu-id="5b385-197">You can add autoscale to your scale sets, so your system automatically adjusts to unexpected changes in demand.</span></span>