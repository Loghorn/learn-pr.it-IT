<span data-ttu-id="9aa37-101">Ci sono alcune applicazioni che generano un enorme numero di eventi da quasi altrettante origini.</span><span class="sxs-lookup"><span data-stu-id="9aa37-101">There are certain applications that produce a massive number of events from almost as many sources.</span></span> <span data-ttu-id="9aa37-102">Spesso viene usato il termine "Big Data" per fare riferimento a queste situazioni, che richiedono un'infrastruttura speciale per gestirle.</span><span class="sxs-lookup"><span data-stu-id="9aa37-102">We often hear the term "Big Data" applied to these situations, and they require unique infrastructure to handle them.</span></span>

<span data-ttu-id="9aa37-103">Si supponga di lavorare per Contoso Aircraft Engines.</span><span class="sxs-lookup"><span data-stu-id="9aa37-103">Imagine you work for Contoso Aircraft Engines.</span></span> <span data-ttu-id="9aa37-104">I motori prodotti dall'azienda includono centinaia di sensori.</span><span class="sxs-lookup"><span data-stu-id="9aa37-104">The engines your employer manufactures have hundreds of sensors.</span></span> <span data-ttu-id="9aa37-105">Prima che un aereo possa essere operativo ogni giorno, i motori vengono connessi a un test harness e collaudati.</span><span class="sxs-lookup"><span data-stu-id="9aa37-105">Before an aircraft can be flown each morning, its engines are connected to a test harness and put through their paces.</span></span> <span data-ttu-id="9aa37-106">Inoltre, i dati di volo memorizzati nella cache vengono trasmessi quando l'aereo viene connesso alla strumentazione di terra.</span><span class="sxs-lookup"><span data-stu-id="9aa37-106">Additionally, cached in-flight data is streamed when the aircraft is connected to ground equipment.</span></span>

<span data-ttu-id="9aa37-107">È necessario usare i dati cronologici dei sensori per individuare modelli nelle letture dei sensori che indichino un potenziale malfunzionamento del motore a breve termine.</span><span class="sxs-lookup"><span data-stu-id="9aa37-107">You want to use historic sensor data to find patterns in the sensor readings that indicate engine failure is likely to happen soon.</span></span> <span data-ttu-id="9aa37-108">Si vuole che le letture dei sensori in tempo reale vengano confrontate con questi modelli di errore.</span><span class="sxs-lookup"><span data-stu-id="9aa37-108">You want the real-time sensor readings to be compared against these failure patterns.</span></span> <span data-ttu-id="9aa37-109">È quindi possibile avvisare gli utenti quasi in tempo reale se un motore presenta letture preoccupanti.</span><span class="sxs-lookup"><span data-stu-id="9aa37-109">You can then warn users in near real time if an engine is showing worrisome readings.</span></span>

## <a name="what-is-azure-event-hubs"></a><span data-ttu-id="9aa37-110">Che cos'è Hub eventi di Azure?</span><span class="sxs-lookup"><span data-stu-id="9aa37-110">What is Azure Event Hubs?</span></span>

<span data-ttu-id="9aa37-111">Hub eventi è un intermediario per il modello di comunicazione di pubblicazione-sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="9aa37-111">Event Hubs is an intermediary for the publish-subscribe communication pattern.</span></span> <span data-ttu-id="9aa37-112">A differenza di Griglia di eventi, tuttavia, è ottimizzato per una velocità effettiva molto elevata e un numero considerevole di origini di pubblicazione, oltre che per offrire sicurezza e resilienza.</span><span class="sxs-lookup"><span data-stu-id="9aa37-112">Unlike Event Grid, however, it is optimized for extremely high throughput, a large number of publishers, security, and resiliency.</span></span>

<span data-ttu-id="9aa37-113">Mentre Griglia di eventi si integra perfettamente nel modello di pubblicazione-sottoscrizione semplicemente perché gestisce le sottoscrizioni e indirizza le comunicazioni ai sottoscrittori, Hub eventi offre alcuni servizi aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="9aa37-113">Whereas Event Grid fits perfectly into the publish-subscribe pattern in that it simply manages subscriptions and routes communications to those subscribers, Event Hubs performs quite a few additional services.</span></span> <span data-ttu-id="9aa37-114">Questi servizi aggiuntivi lo rendono più simile a un bus di servizio o a una coda di messaggi, piuttosto che a un semplice strumento di trasmissione di eventi.</span><span class="sxs-lookup"><span data-stu-id="9aa37-114">These additional services make it resemble a service bus or message queue, more than a simple event broadcaster.</span></span>

#### <a name="partitions"></a><span data-ttu-id="9aa37-115">Partizioni</span><span class="sxs-lookup"><span data-stu-id="9aa37-115">Partitions</span></span> ####
<span data-ttu-id="9aa37-116">Quando Hub eventi riceve le comunicazioni, le divide in partizioni.</span><span class="sxs-lookup"><span data-stu-id="9aa37-116">As Event Hubs receives communications, it divides them into partitions.</span></span> <span data-ttu-id="9aa37-117">Le partizioni sono buffer in cui vengono salvate le comunicazioni.</span><span class="sxs-lookup"><span data-stu-id="9aa37-117">Partitions are buffers into which the communications are saved.</span></span> <span data-ttu-id="9aa37-118">Considerati i buffer, gli eventi non sono completamente temporanei e un evento non viene perso solo perché un sottoscrittore è occupato o anche offline.</span><span class="sxs-lookup"><span data-stu-id="9aa37-118">Because of the event buffers, events are not completely ephemeral, and an event isn't missed just because a subscriber is busy or even offline.</span></span> <span data-ttu-id="9aa37-119">Il sottoscrittore può sempre usare il buffer per "mettersi in pari".</span><span class="sxs-lookup"><span data-stu-id="9aa37-119">The subscriber can always use the buffer to "catch up."</span></span> <span data-ttu-id="9aa37-120">Per impostazione predefinita, gli eventi rimangono nel buffer 24 ore prima di scadere automaticamente.</span><span class="sxs-lookup"><span data-stu-id="9aa37-120">By default, events stay in the buffer for 24 hours before they automatically expire.</span></span>

<span data-ttu-id="9aa37-121">I buffer sono chiamati partizioni perché i dati vengono divisi tra di loro.</span><span class="sxs-lookup"><span data-stu-id="9aa37-121">The buffers are called partitions because the data is divided amongst them.</span></span> <span data-ttu-id="9aa37-122">Ogni hub eventi ha almeno due partizioni e ogni partizione ha un set separato di sottoscrittori.</span><span class="sxs-lookup"><span data-stu-id="9aa37-122">Every event hub has at least two partitions, and each partition has a separate set of subscribers.</span></span>

#### <a name="capture"></a><span data-ttu-id="9aa37-123">Acquisizione</span><span class="sxs-lookup"><span data-stu-id="9aa37-123">Capture</span></span> ####
<span data-ttu-id="9aa37-124">Hub eventi può inviare tutti gli eventi immediatamente ad Azure Data Lake o ad Archiviazione BLOB di Azure, che offrono soluzioni economiche di archiviazione permanente.</span><span class="sxs-lookup"><span data-stu-id="9aa37-124">Event Hubs can send all your events immediately to Azure Data Lake or Azure Blob storage for inexpensive, permanent persistence.</span></span>

#### <a name="authentication"></a><span data-ttu-id="9aa37-125">Autenticazione</span><span class="sxs-lookup"><span data-stu-id="9aa37-125">Authentication</span></span> ####
<span data-ttu-id="9aa37-126">Tutte le origini di pubblicazione vengono autenticate e ricevono un token.</span><span class="sxs-lookup"><span data-stu-id="9aa37-126">All publishers are authenticated and issued a token.</span></span> <span data-ttu-id="9aa37-127">Questo significa che Hub eventi può accettare eventi da dispositivi esterni e app per dispositivi mobili, senza il rischio che dati illeciti possano compromettere l'analisi.</span><span class="sxs-lookup"><span data-stu-id="9aa37-127">This means Event Hubs can accept events from external devices and mobile apps, without worrying that fraudulent data from pranksters could ruin our analysis.</span></span> 

## <a name="using-event-hubs"></a><span data-ttu-id="9aa37-128">Hub eventi</span><span class="sxs-lookup"><span data-stu-id="9aa37-128">Using Event Hubs</span></span>

<span data-ttu-id="9aa37-129">Hub eventi include il supporto per l'invio di pipeline di flussi di eventi ad altri servizi di Azure.</span><span class="sxs-lookup"><span data-stu-id="9aa37-129">Event Hubs has support for pipelining event streams to other Azure services.</span></span> <span data-ttu-id="9aa37-130">È possibile usarlo con Analisi di flusso di Azure, ad esempio, per eseguire analisi complesse dei dati quasi in tempo reale con la possibilità di correlare più eventi e di individuare modelli.</span><span class="sxs-lookup"><span data-stu-id="9aa37-130">Using it with Azure Stream Analytics, for instance, allows complex analysis of data in near real time, with the ability to correlate multiple events and look for patterns.</span></span> <span data-ttu-id="9aa37-131">In questo scenario, il servizio Analisi di flusso sarebbe considerato un sottoscrittore.</span><span class="sxs-lookup"><span data-stu-id="9aa37-131">In this case, Stream Analytics would be considered a subscriber.</span></span>

<span data-ttu-id="9aa37-132">Per l'esempio dei motori degli aerei, l'architettura verrà configurata in modo che Hub eventi esegua l'autenticazione delle comunicazioni dai motori.</span><span class="sxs-lookup"><span data-stu-id="9aa37-132">For our aircraft engines, we'll set up our architecture so that Event Hubs will authenticate the communications from our engines.</span></span> <span data-ttu-id="9aa37-133">Verrà quindi impostato l'uso dell'acquisizione per salvare tutti i dati in Data Lake.</span><span class="sxs-lookup"><span data-stu-id="9aa37-133">We will then have it use capture to save all the data to Data Lake.</span></span> <span data-ttu-id="9aa37-134">In un secondo momento, sarà possibile usare tutti i dati per ripetere il training e migliorare i modelli di Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="9aa37-134">Later, we can use all that data to retrain and improve our machine learning models.</span></span> <span data-ttu-id="9aa37-135">Infine, i flussi di eventi verranno prelevati dai sottoscrittori di Analisi di flusso.</span><span class="sxs-lookup"><span data-stu-id="9aa37-135">Finally, our event streams will be picked up by Stream Analytics subscribers.</span></span> <span data-ttu-id="9aa37-136">Analisi di flusso userà il modello di Machine Learning per individuare modelli nei dati dei sensori che potrebbero indicare un problema.</span><span class="sxs-lookup"><span data-stu-id="9aa37-136">Stream Analytics will use our machine learning model to look for patterns in the sensor data that might indicate problems.</span></span>

<span data-ttu-id="9aa37-137">Dato che sono disponibili varie partizioni e che ogni motore invia tutti i relativi dati a una sola partizione, ogni istanza del sottoscrittore di Analisi di flusso deve gestire solo un subset dei dati complessivi.</span><span class="sxs-lookup"><span data-stu-id="9aa37-137">Because we have several partitions, and each engine sends all its data to only one partition, each instance of our Stream Analytics subscriber only need deal with a subset of our overall data.</span></span> <span data-ttu-id="9aa37-138">Non deve eseguire operazioni di filtro e correlazione su tutti i dati.</span><span class="sxs-lookup"><span data-stu-id="9aa37-138">It does not have to filter and correlate over all of it.</span></span>

## <a name="choose-event-grid-or-event-hubs"></a><span data-ttu-id="9aa37-139">Scegliere Griglia di eventi o Hub eventi</span><span class="sxs-lookup"><span data-stu-id="9aa37-139">Choose Event Grid or Event Hubs</span></span>

<span data-ttu-id="9aa37-140">Entrambi supportano la semantica *At-Least-Once*.</span><span class="sxs-lookup"><span data-stu-id="9aa37-140">Both support *At Least Once* semantics.</span></span>

<span data-ttu-id="9aa37-141">Se è necessaria una semplice infrastruttura di pubblicazione-sottoscrizione degli eventi con origini di pubblicazione attendibili (ad esempio il proprio server Web), è consigliabile scegliere Griglia di eventi.</span><span class="sxs-lookup"><span data-stu-id="9aa37-141">If you need a simple event publish-subscribe infrastructure, with trusted publishers (for instance, your own web server), you should choose Event Grid.</span></span>

<span data-ttu-id="9aa37-142">Scegliere Hub eventi se:</span><span class="sxs-lookup"><span data-stu-id="9aa37-142">Consider Event Hubs if:</span></span>
* <span data-ttu-id="9aa37-143">È necessario supportare l'autenticazione di un numero elevato di origini di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="9aa37-143">You need to support authenticating a large number of publishers.</span></span>
* <span data-ttu-id="9aa37-144">È necessario salvare un flusso di eventi in Data Lake o in Archiviazione BLOB.</span><span class="sxs-lookup"><span data-stu-id="9aa37-144">You need to save a stream of events to Data Lake or Blob storage.</span></span>
* <span data-ttu-id="9aa37-145">È necessario eseguire operazioni di aggregazione o analisi sul flusso di eventi.</span><span class="sxs-lookup"><span data-stu-id="9aa37-145">You need aggregation or analytics on your event stream.</span></span>
* <span data-ttu-id="9aa37-146">Sono necessarie funzionalità di messaggistica affidabili o resilienza.</span><span class="sxs-lookup"><span data-stu-id="9aa37-146">You need reliable messaging or resiliency.</span></span> 