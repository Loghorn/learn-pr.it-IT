<span data-ttu-id="0a206-101">L'hosting delle applicazioni in una piattaforma cloud offre numerosi vantaggi rispetto alle tradizionali distribuzioni locali.</span><span class="sxs-lookup"><span data-stu-id="0a206-101">Hosting applications on a cloud platform provides a number of advantages when compared to traditional on-premises deployments.</span></span> <span data-ttu-id="0a206-102">Il modello di responsabilità condivisa del cloud porta la sicurezza a livello di rete fisica, edificio e host sotto il controllo del provider di servizi cloud.</span><span class="sxs-lookup"><span data-stu-id="0a206-102">The cloud's shared-responsibility model moves security at the physical network, building and host levels under the control of the cloud provider.</span></span> <span data-ttu-id="0a206-103">Un utente malintenzionato che tentasse di compromettere la piattaforma a questo livello avrebbe risultati scadenti considerati i notevoli investimenti e studi approfonditi che i provider fanno per proteggere e monitorare la propria infrastruttura.</span><span class="sxs-lookup"><span data-stu-id="0a206-103">An attacker trying to compromise the platform at this level would see diminishing returns versus the considerable investment and insight providers make in securing and monitoring their infrastructure.</span></span>

<span data-ttu-id="0a206-104">Per gli utenti malintenzionati è quindi molto più efficace approfittare delle vulnerabilità introdotte a livello di applicazione da parte dei clienti della piattaforma cloud.</span><span class="sxs-lookup"><span data-stu-id="0a206-104">It's therefore far more effective for attackers to pursue vulnerabilities introduced at the application level by cloud-platform customers.</span></span> <span data-ttu-id="0a206-105">Inoltre, adottando una piattaforma distribuita come servizio (PaaS) per ospitare le proprie applicazioni, i clienti sono in grado di liberare risorse dalla gestione della sicurezza del sistema operativo per destinarle al rafforzamento del codice dell'applicazione e al monitoraggio del perimetro di identità dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="0a206-105">Furthermore, by adopting Platform as a Service (PaaS) to host their applications, customers are able to free resources from managing operating system security and deploy them to harden application code and monitor the identity perimeter around the application.</span></span> <span data-ttu-id="0a206-106">In questa unità verranno illustrati alcuni dei modi per migliorare la sicurezza dell'applicazione in fase di progettazione.</span><span class="sxs-lookup"><span data-stu-id="0a206-106">In this unit we will discuss some of the ways application security can be improved through design.</span></span>

## <a name="scenario"></a><span data-ttu-id="0a206-107">Scenario</span><span class="sxs-lookup"><span data-stu-id="0a206-107">Scenario</span></span>

<span data-ttu-id="0a206-108">I clienti di Lamna Healthcare devono accedere alle cartelle cliniche personali tramite un portale Web online.</span><span class="sxs-lookup"><span data-stu-id="0a206-108">Lamna Healthcare customers require access to their personal medical records through an online web portal.</span></span> <span data-ttu-id="0a206-109">La conformità alla normativa HIPAA (Health Insurance Portability e Accountability Act) è obbligatoria e pone l'azienda a rischio di sanzioni pecuniarie se si verifica una violazione dei dati personali, quindi proteggere l'applicazione e i dati personali che gestisce è un requisito prioritario.</span><span class="sxs-lookup"><span data-stu-id="0a206-109">Compliance with the Health Insurance Portability and Accountability Act (HIPAA) is mandatory and puts the company at significant risk of financial penalties if a breach of personal data occurs, therefore securing the application and personal data it interacts with is paramount.</span></span>

<span data-ttu-id="0a206-110">Le aree principali che riguardano le applicazioni dei clienti sono:</span><span class="sxs-lookup"><span data-stu-id="0a206-110">The primary areas that concern customer applications are:</span></span>

- <span data-ttu-id="0a206-111">Progettazione sicura dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="0a206-111">Secure application design</span></span>
- <span data-ttu-id="0a206-112">Sicurezza dei dati</span><span class="sxs-lookup"><span data-stu-id="0a206-112">Data security</span></span>
- <span data-ttu-id="0a206-113">Gestione delle identità e degli accessi</span><span class="sxs-lookup"><span data-stu-id="0a206-113">Identity & access management</span></span>
- <span data-ttu-id="0a206-114">Sicurezza degli endpoint</span><span class="sxs-lookup"><span data-stu-id="0a206-114">Endpoint security</span></span>

## <a name="security-development-lifecycle"></a><span data-ttu-id="0a206-115">Security Development Lifecycle</span><span class="sxs-lookup"><span data-stu-id="0a206-115">Security Development Lifecycle</span></span>

<span data-ttu-id="0a206-116">Il processo [Security Development Lifecycle](https://www.microsoft.com/en-us/sdl) (SDL) di Microsoft può essere utilizzato durante la fase di progettazione dell'applicazione per assicurarsi che le misure di sicurezza vengano incorporate nel ciclo di vita di sviluppo del software.</span><span class="sxs-lookup"><span data-stu-id="0a206-116">Microsoft's [Security Development Lifecycle](https://www.microsoft.com/en-us/sdl) (SDL) process can be used during the application design stage to ensure security concerns are incorporated in the software development lifecycle.</span></span> <span data-ttu-id="0a206-117">I problemi di sicurezza e conformità sono molto più semplici da risolvere in fase di progettazione di un'applicazione. Inoltre, in questo modo, è possibile evitare molti errori comuni che possono provocare problemi di sicurezza nel prodotto finale.</span><span class="sxs-lookup"><span data-stu-id="0a206-117">Security and compliance issues are far easier to address when designing an application and can mitigate many common errors that can lead to security flaws in the final product.</span></span> <span data-ttu-id="0a206-118">La risoluzione dei problemi nelle prime fasi di sviluppo del software è anche molto meno costosa.</span><span class="sxs-lookup"><span data-stu-id="0a206-118">Fixing issues early in the software development journey is also far less costly.</span></span> <span data-ttu-id="0a206-119">La sequenza tipica delle fasi di un progetto software basato sul processo SDL è la seguente:</span><span class="sxs-lookup"><span data-stu-id="0a206-119">The typical sequence of SDL steps a software project can use are as follows:</span></span>

1. <span data-ttu-id="0a206-120">Formazione</span><span class="sxs-lookup"><span data-stu-id="0a206-120">Training</span></span>

    - <span data-ttu-id="0a206-121">Formazione di base in materia di sicurezza</span><span class="sxs-lookup"><span data-stu-id="0a206-121">Core security training</span></span>

1. <span data-ttu-id="0a206-122">Requisiti</span><span class="sxs-lookup"><span data-stu-id="0a206-122">Requirements</span></span>

    - <span data-ttu-id="0a206-123">Definire i requisiti e i controlli di qualità</span><span class="sxs-lookup"><span data-stu-id="0a206-123">Define requirements and quality gates</span></span>
    - <span data-ttu-id="0a206-124">Analizzare i rischi di sicurezza e privacy</span><span class="sxs-lookup"><span data-stu-id="0a206-124">Analyze security & privacy risks</span></span>
 
1. <span data-ttu-id="0a206-125">Progettazione</span><span class="sxs-lookup"><span data-stu-id="0a206-125">Design</span></span>

    - <span data-ttu-id="0a206-126">Analisi delle superfici di attacco</span><span class="sxs-lookup"><span data-stu-id="0a206-126">Attack surface analysis</span></span>
    - <span data-ttu-id="0a206-127">Modellazione delle minacce</span><span class="sxs-lookup"><span data-stu-id="0a206-127">Threat modelling</span></span>
 
1. <span data-ttu-id="0a206-128">Implementazione</span><span class="sxs-lookup"><span data-stu-id="0a206-128">Implementation</span></span>

    - <span data-ttu-id="0a206-129">Specificare gli strumenti da usare per misurare la qualità del codice</span><span class="sxs-lookup"><span data-stu-id="0a206-129">Specify tools to ensure code quality can be measured</span></span>
    - <span data-ttu-id="0a206-130">Definire API e funzioni vietate</span><span class="sxs-lookup"><span data-stu-id="0a206-130">Enforce banned APIs & functions</span></span>
    - <span data-ttu-id="0a206-131">Eseguire l'analisi statica del codice</span><span class="sxs-lookup"><span data-stu-id="0a206-131">Perform Static code analysis</span></span>
    - <span data-ttu-id="0a206-132">Analizzare i repository per i segreti archiviati</span><span class="sxs-lookup"><span data-stu-id="0a206-132">Scan repositories for stored secrets</span></span>
 
1. <span data-ttu-id="0a206-133">Verifica</span><span class="sxs-lookup"><span data-stu-id="0a206-133">Verification</span></span>

    - <span data-ttu-id="0a206-134">Test dinamici/con dati casuali</span><span class="sxs-lookup"><span data-stu-id="0a206-134">Dynamic/Fuzz testing</span></span>
    - <span data-ttu-id="0a206-135">Verificare i modelli delle minacce/le superfici di attacco</span><span class="sxs-lookup"><span data-stu-id="0a206-135">Verify threat models/attack surface</span></span>
 
1. <span data-ttu-id="0a206-136">Rilascio</span><span class="sxs-lookup"><span data-stu-id="0a206-136">Release</span></span>

    - <span data-ttu-id="0a206-137">Piano di risposta per la sicurezza dei moduli</span><span class="sxs-lookup"><span data-stu-id="0a206-137">Form security response plan</span></span>
    - <span data-ttu-id="0a206-138">Eseguire un esame finale della sicurezza</span><span class="sxs-lookup"><span data-stu-id="0a206-138">Perform a final security review</span></span>
    - <span data-ttu-id="0a206-139">Rilasciare l'archivio</span><span class="sxs-lookup"><span data-stu-id="0a206-139">Release archive</span></span>
 
1. <span data-ttu-id="0a206-140">Risposta</span><span class="sxs-lookup"><span data-stu-id="0a206-140">Response</span></span> 

    - <span data-ttu-id="0a206-141">Eseguire la risposta alle minacce</span><span class="sxs-lookup"><span data-stu-id="0a206-141">Execute threat response execution</span></span>

![Security Development Lifecycle](../media/sdl.png)

<span data-ttu-id="0a206-143">Il processo SDL non è solo un processo o un set di strumenti, ma anche una risorsa culturale.</span><span class="sxs-lookup"><span data-stu-id="0a206-143">The SDL is as much a cultural aspect as it is a process or set of tools.</span></span> <span data-ttu-id="0a206-144">Creare una cultura in cui la sicurezza è considerata un obiettivo primario e un requisito base dello sviluppo di qualsiasi applicazione può far evolvere enormemente le funzionalità di sicurezza delle aziende.</span><span class="sxs-lookup"><span data-stu-id="0a206-144">Building a culture where security is a primary focus and requirement of any application development can make great strides in evolving an organizations capabilities around security.</span></span>

<!-- Bear in mind that the migration of un-modified applications (especially COTS procured software systems) will not be able to perform many of the steps listed above.
 -->

## <a name="operational-security-assessment"></a><span data-ttu-id="0a206-145">Valutazione della sicurezza operativa</span><span class="sxs-lookup"><span data-stu-id="0a206-145">Operational security assessment</span></span>

<span data-ttu-id="0a206-146">Dopo aver distribuito un'applicazione, è essenziale continuare a valutarne lo stato di sicurezza, definire modalità di attenuazione degli eventuali problemi individuati e inserire le nuove informazioni nel ciclo di sviluppo del software.</span><span class="sxs-lookup"><span data-stu-id="0a206-146">Once an application has been deployed, it's essential to continually to evaluate its security posture, determine how to mitigate any issues that are discovered and feed the knowledge back into the software development cycle.</span></span> <span data-ttu-id="0a206-147">La profondità a cui questa operazione viene eseguita dipende dal livello di competenza dei team operativi e di sviluppo software, nonché dai requisiti di privacy dei dati.</span><span class="sxs-lookup"><span data-stu-id="0a206-147">The depth to which this is performed is a factor of the maturity level of the software development and operational teams as well as the data privacy requirements.</span></span>

<span data-ttu-id="0a206-148">Per automatizzare questo processo e valutare i problemi di sicurezza con cadenza regolare sono disponibili servizi software per la ricerca delle vulnerabilità, che evitano inoltre di sovraccaricare i team con laboriosi processi manuali, ad esempio i test di penetrazione.</span><span class="sxs-lookup"><span data-stu-id="0a206-148">Security vulnerability scanning software services are available to help automate this process and assess security concerns on a regular cadence, without burdening teams with costly manual processes, such as penetration testing.</span></span>

<span data-ttu-id="0a206-149">Centro sicurezza di Azure è un servizio gratuito, ora abilitato per impostazione predefinita per tutte le sottoscrizioni di Azure, che è strettamente integrato con altri servizi a livello di applicazione di Azure, ad esempio gateway applicazione di Azure e Web application firewall di Azure.</span><span class="sxs-lookup"><span data-stu-id="0a206-149">Azure Security Center is a free service, now enabled by default for all Azure subscriptions, that is tightly integrated with other Azure application level services, such as Azure Application Gateway and Azure Web Application Firewall.</span></span> <span data-ttu-id="0a206-150">Analizzando i log creati da questi servizi, il Centro sicurezza di Azure può segnalare le vulnerabilità note in tempo reale, consigliare interventi per ridurre i rischi e persino essere configurato per eseguire automaticamente dei playbook in risposta agli attacchi.</span><span class="sxs-lookup"><span data-stu-id="0a206-150">By analyzing logs from these services ASC can report on known vulnerabilities in real-time, recommend responses to mitigate them and even be configured to automatically execute playbooks in response to attacks.</span></span>

<!-- SDL culture
Key Vault / MSI
CSE = App  -> DB & App Storage
Mention approach of code scanning & SDL
Scanning for passwords - Git
 -->

## <a name="identity-as-the-perimeter"></a><span data-ttu-id="0a206-151">Identità come perimetro</span><span class="sxs-lookup"><span data-stu-id="0a206-151">Identity as the perimeter</span></span>

<span data-ttu-id="0a206-152">La verifica dell'identità sta diventando la prima linea di difesa per le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="0a206-152">Identity validation is becoming the first line in defense for applications.</span></span> <span data-ttu-id="0a206-153">Limitare l'accesso a un'applicazione Web tramite l'autenticazione e l'autorizzazione delle sessioni può ridurre drasticamente la superficie di attacco.</span><span class="sxs-lookup"><span data-stu-id="0a206-153">Restricting access to a web application by authenticating and authorizing sessions can drastically reduce the attack surface area.</span></span> <span data-ttu-id="0a206-154">Azure AD e Azure AD B2C rappresentano un metodo efficace per affidare la responsabilità del controllo dell'identità e degli accessi a un servizio completamente gestito.</span><span class="sxs-lookup"><span data-stu-id="0a206-154">Azure AD and Azure AD B2C offer an effective way to offload the responsibility of identity and access to a fully managed service.</span></span> <span data-ttu-id="0a206-155">I criteri di accesso condizionale di Azure AD, la gestione delle identità con privilegi e i controlli di Identity Protection migliorano ulteriormente la capacità dei clienti di impedire accessi non autorizzati e controllare le modifiche.</span><span class="sxs-lookup"><span data-stu-id="0a206-155">Azure AD conditional access policies, privileged identity management and Identity Protection controls further enhance a customer's ability to prevent unauthorized access and audit changes.</span></span>

## <a name="data-protection"></a><span data-ttu-id="0a206-156">Protezione dei dati</span><span class="sxs-lookup"><span data-stu-id="0a206-156">Data protection</span></span>

<span data-ttu-id="0a206-157">I dati dei clienti sono il bersaglio della maggior parte, se non di tutti, gli attacchi alle applicazioni Web.</span><span class="sxs-lookup"><span data-stu-id="0a206-157">Customer data is the target for most, if not all attacks against web applications.</span></span> <span data-ttu-id="0a206-158">Mettere in sicurezza l'archiviazione e il trasporto dei dati tra un'applicazione e il suo livello di archiviazione dati è un requisito prioritario.</span><span class="sxs-lookup"><span data-stu-id="0a206-158">The secure storage and transport of data between an application and its data storage layer is paramount.</span></span>

<span data-ttu-id="0a206-159">Lamna Healthcare archivia e gestisce dati clinici particolarmente sensibili dei pazienti.</span><span class="sxs-lookup"><span data-stu-id="0a206-159">Lamna Healthcare stores and accesses particularly sensitive patient medical record data.</span></span> <span data-ttu-id="0a206-160">La normativa HIPAA, adottata dal Congresso degli Stati Uniti nel 1996 insieme ad altre norme, definisce gli standard nazionali per la trasmissione elettronica dei dati sanitari da parte degli operatori sanitari e dei datori di lavoro.</span><span class="sxs-lookup"><span data-stu-id="0a206-160">HIPAA, enacted by the United States Congress in 1996, among other controls, defines the national standards for electronic healthcare transactions by healthcare providers and employers.</span></span> <span data-ttu-id="0a206-161">Lamna deve garantire ai pazienti e ad altre parti autorizzate, ad esempio i medici, un accesso protetto ai dati clinici.</span><span class="sxs-lookup"><span data-stu-id="0a206-161">Lamna must ensure patients and authorized parties, such as their physicians have secure access to medical data.</span></span>

<span data-ttu-id="0a206-162">Per garantire la conformità a questi requisiti, Lamna Healthcare ha modificato le proprie applicazioni che ora crittografano tutti i dati dei pazienti inattivi e in transito.</span><span class="sxs-lookup"><span data-stu-id="0a206-162">To comply with these requirements, Lamna Healthcare have modified their applications to encrypt all patient data at rest and in transit.</span></span> <span data-ttu-id="0a206-163">Ad esempio, Transport Layer Security (TLS) viene utilizzato per crittografare i dati che transitano tra l'applicazione Web e i database SQL back-end.</span><span class="sxs-lookup"><span data-stu-id="0a206-163">For example, Transport Layer Security (TLS) is used to encrypt data exchanged between the web application and back-end SQL databases.</span></span> <span data-ttu-id="0a206-164">Anche i dati inattivi vengono crittografati in SQL Server tramite Transparent Data Encryption (TDE) per garantire che se l'ambiente viene compromesso, i dati risulteranno inutilizzabili per chiunque non possieda le chiavi di decrittografia.</span><span class="sxs-lookup"><span data-stu-id="0a206-164">Data is also encrypted at rest in SQL Server using Transparent Data Encryption (TDE) ensuring that even if the environment is compromised, data is effectively useless to anyone without the correct decryption keys.</span></span>

<span data-ttu-id="0a206-165">Per crittografare i dati archiviati in archivi blob, la crittografia lato client consente di crittografare i dati in memoria prima che vengano scritti nel servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="0a206-165">To encrypt data stored in blob storage, client side encryption can be used to encrypt the data in memory before it's written to the storage service.</span></span> <span data-ttu-id="0a206-166">Le librerie che supportano questo tipo di crittografia sono disponibili per .NET, Java e Python e consentono l'integrazione della crittografia dei dati direttamente nelle applicazioni per migliorare l'integrità dei dati.</span><span class="sxs-lookup"><span data-stu-id="0a206-166">Libraries supporting this encryption are available for .NET, Java, and Python, and enable the integration of data encryption directly into applications to enhance data integrity.</span></span>

### <a name="secure-key-and-secret-storage"></a><span data-ttu-id="0a206-167">Chiavi di sicurezza e archiviazione segreta</span><span class="sxs-lookup"><span data-stu-id="0a206-167">Secure key and secret storage</span></span>

<span data-ttu-id="0a206-168">Separare i segreti dell'applicazione, stringhe di connessione, password e così via, e le chiavi di crittografia dall'applicazione usata per accedere ai dati è un accorgimento fondamentale.</span><span class="sxs-lookup"><span data-stu-id="0a206-168">Separating application secrets (connection strings, passwords, etc.) and encryption keys from the application used to access data is vital.</span></span> <span data-ttu-id="0a206-169">Le chiavi di crittografia e i segreti dell'applicazione non devono mai essere archiviati nel codice dell'applicazione dei file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="0a206-169">Encryption keys and application secrets should never be stored in the application code of configuration files.</span></span> <span data-ttu-id="0a206-170">Bisogna utilizzare, in alternativa, un archivio protetto, ad esempio Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="0a206-170">Instead, a secure store such as Azure Key Vault should be used.</span></span> <span data-ttu-id="0a206-171">L'accesso ai dati sensibili può quindi essere limitato alle identità dell'applicazione tramite le identità del servizio gestito e le chiavi possano essere ruotate a intervalli regolari per limitare l'esposizione nel caso di divulgazione delle chiavi di crittografia.</span><span class="sxs-lookup"><span data-stu-id="0a206-171">Access to this sensitive data can then be limited to application identities through Managed Service Identities and keys can be rotated on a regular basis to limit exposure in the case of encryption key leakage.</span></span> <span data-ttu-id="0a206-172">I clienti possono anche scegliere di usare chiavi di crittografia proprie generate da moduli di protezione hardware locali e persino decidere che anche le istanze di Azure Key Vault siano implementate in moduli di protezione hardware discreti a tenant singolo.</span><span class="sxs-lookup"><span data-stu-id="0a206-172">Customers can also choose to use their own encryption keys generated by on-premies Hardware Security Modules (HSM) and even mandate that Azure Key Vault instances are implemented in single-tenant, discrete HSMs.</span></span>

<!-- ### Secure and immutable file storage

All Azure storage accounts are encrypted by default using Microsoft managed keys. Azure customers also have the ability to use their own encryption keys (BYOK) to encrypt blob, file and queue data so that even the hosting provider has no access to unencrypted data. Data immutability is often required for auditing purposes or when legal disputes call for data to be effectively frozen for a determined amount of time. Azure has recently introduced an [immutable data storage](https://docs.microsoft.com/en-us/azure/storage/blobs/storage-blob-immutable-storage) option known as Write-Once, Read many (WORM) for this scenario. -->

## <a name="application-security-at-lamna-healthcare"></a><span data-ttu-id="0a206-173">Sicurezza delle applicazioni presso Lamna Healthcare</span><span class="sxs-lookup"><span data-stu-id="0a206-173">Application security at Lamna Healthcare</span></span>

## <a name="summary"></a><span data-ttu-id="0a206-174">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="0a206-174">Summary</span></span>