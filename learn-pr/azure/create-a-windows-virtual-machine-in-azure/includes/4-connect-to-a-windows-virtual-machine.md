<span data-ttu-id="8a2e2-101">Ora che è disponibile una macchina virtuale Windows in Azure, il passaggio successivo consiste nell'inserire le applicazioni e i dati in tali macchine virtuali per elaborare i video del traffico.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-101">Now that we have a Windows VM in Azure, the next thing you’ll do is put your applications and data on those VMs to process our traffic videos.</span></span> 

<span data-ttu-id="8a2e2-102">Se tuttavia non è stata configurata una VPN da sito a sito in Azure, le macchine virtuali di Azure non saranno accessibili dalla rete locale.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-102">However, unless you’ve set up a site-to-site VPN to Azure, your Azure VMs won’t be accessible from your local network.</span></span> <span data-ttu-id="8a2e2-103">Se si è agli inizi con l'uso di Azure, è improbabile che sia disponibile una rete VPN da sito a sito funzionante.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-103">If you’re just getting started with Azure, it’s unlikely that you have a working site-to-site VPN.</span></span> <span data-ttu-id="8a2e2-104">Per trasferire quindi i file nelle macchine virtuali di Azure,</span><span class="sxs-lookup"><span data-stu-id="8a2e2-104">So how can you transfer files to Azure VMs?</span></span> <span data-ttu-id="8a2e2-105">un modo semplice consiste nell'usare la funzionalità Connessione Desktop remoto di Azure per condividere le unità locali con le nuove macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-105">One easy way is to use Azure’s Remote Desktop Connections feature to share your local drives with your new Azure VMs.</span></span>

<span data-ttu-id="8a2e2-106">Ora che è disponibile una nuova macchina virtuale Windows, è necessario installarvi il software personalizzato.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-106">Now that we have a new Windows virtual machine, we need to install our custom software on to it.</span></span> <span data-ttu-id="8a2e2-107">È possibile eseguire questa operazione in due modi:</span><span class="sxs-lookup"><span data-stu-id="8a2e2-107">There are two ways we can use:</span></span>

- <span data-ttu-id="8a2e2-108">Remote Desktop Protocol (RDP)</span><span class="sxs-lookup"><span data-stu-id="8a2e2-108">Remote Desktop Protocol (RDP)</span></span>
- <span data-ttu-id="8a2e2-109">Script personalizzati</span><span class="sxs-lookup"><span data-stu-id="8a2e2-109">Custom scripts</span></span>
- <span data-ttu-id="8a2e2-110">Immagini di macchina virtuale personalizzate (con il software preinstallato)</span><span class="sxs-lookup"><span data-stu-id="8a2e2-110">Custom VM images (with the software preinstalled)</span></span>

<span data-ttu-id="8a2e2-111">Verrà ora esaminato l'approccio più semplice per le macchine virtuali Windows: Desktop remoto.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-111">Let's look at the simplest approach for Windows VMs: Remote Desktop.</span></span>

## <a name="what-is-the-remote-desktop-protocol"></a><span data-ttu-id="8a2e2-112">Cos'è Remote Desktop Protocol (RDP)?</span><span class="sxs-lookup"><span data-stu-id="8a2e2-112">What is the Remote Desktop Protocol?</span></span>

<span data-ttu-id="8a2e2-113">Remote Desktop Protocol (RDP) fornisce connettività remota all'interfaccia utente dei computer basati su Windows.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-113">Remote Desktop (RDP) provides remote connectivity to the UI of Windows-based computers.</span></span> <span data-ttu-id="8a2e2-114">Il protocollo RDP consente di accedere a un computer fisico remoto o virtuale di Windows e controllare il computer come dalla console.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-114">RDP enables you to sign in to a remote physical or virtual Windows computer and control that computer as if you were seated at the console.</span></span> <span data-ttu-id="8a2e2-115">Una connessione RDP consente di svolgere la maggior parte delle operazioni che è possibile eseguire dalla console di un computer fisico, ad eccezione di alcune funzioni di alimentazione e relative all'hardware.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-115">An RDP connection enables you to carry out the vast majority of operations that you can do from the console of a physical computer, with the exception of some power and hardware-related functions.</span></span>

<span data-ttu-id="8a2e2-116">Una connessione RDP richiede un client RDP.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-116">An RDP connection requires an RDP client.</span></span> <span data-ttu-id="8a2e2-117">Microsoft fornisce client RDP per i sistemi operativi seguenti:</span><span class="sxs-lookup"><span data-stu-id="8a2e2-117">Microsoft provides RDP clients for the following operating systems:</span></span>

- <span data-ttu-id="8a2e2-118">Windows (predefinito)</span><span class="sxs-lookup"><span data-stu-id="8a2e2-118">Windows (built-in)</span></span>
- <span data-ttu-id="8a2e2-119">MacOS</span><span class="sxs-lookup"><span data-stu-id="8a2e2-119">MacOS</span></span>
- <span data-ttu-id="8a2e2-120">iOS</span><span class="sxs-lookup"><span data-stu-id="8a2e2-120">iOS</span></span>
- <span data-ttu-id="8a2e2-121">Android</span><span class="sxs-lookup"><span data-stu-id="8a2e2-121">Android</span></span>

<span data-ttu-id="8a2e2-122">Lo screenshot seguente illustra il client Remote Desktop Protocol in Windows 10.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-122">The following screenshot displays the Remote Desktop Protocol client in Windows 10.</span></span>

![Screenshot dell'interfaccia utente del client Remote Desktop Protocol.](../media/4-rdp-client.png)

<span data-ttu-id="8a2e2-124">Sono disponibili anche client Linux open source, ad esempio Remmina, che consentono di connettersi a un PC Windows da una distribuzione Ubuntu.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-124">There are also open source Linux clients, such as Remmina that enable you to connect to a Windows PC from an Ubuntu distribution.</span></span>

## <a name="connecting-to-an-azure-vm"></a><span data-ttu-id="8a2e2-125">Connessione a una macchina virtuale di Azure</span><span class="sxs-lookup"><span data-stu-id="8a2e2-125">Connecting to an Azure VM</span></span>

<span data-ttu-id="8a2e2-126">Come si è visto poco fa, le macchine virtuali di Azure comunicano in una rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-126">As we saw a moment ago, Azure VMs communicate on a virtual network.</span></span> <span data-ttu-id="8a2e2-127">Possono anche avere un indirizzo IP pubblico facoltativo assegnato.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-127">They can also have an optional public IP address assigned to them.</span></span> <span data-ttu-id="8a2e2-128">Con un IP pubblico, è possibile comunicare con la macchina virtuale tramite Internet.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-128">With a public IP, we can communicate with the VM over the Internet.</span></span> <span data-ttu-id="8a2e2-129">In alternativa, è possibile configurare una rete privata virtuale (VPN) che connette la rete locale ad Azure, permettendo di connettersi in modo sicuro alla macchina virtuale senza esporre un indirizzo IP pubblico.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-129">Alternatively, we can setup a virtual private network (VPN) that connects our on-premises network to Azure - letting us securely connect to the VM without exposing a public IP.</span></span> <span data-ttu-id="8a2e2-130">Questo approccio è descritto in un altro modulo ed è completamente documentato se si è interessati a esplorare tale opzione.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-130">This approach is covered in another module and is fully documented if you are interested in exploring that option.</span></span>

<span data-ttu-id="8a2e2-131">Un aspetto da tenere presente per gli indirizzi IP pubblici in Azure è che spesso vengono allocati in modo dinamico.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-131">One thing to be aware of with public IP addresses in Azure is they are often dynamically allocated.</span></span> <span data-ttu-id="8a2e2-132">Ciò significa che l'indirizzo IP può cambiare nel corso del tempo, ad esempio quando la macchina virtuale viene riavviata.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-132">That means the IP address can change over time - for VMs this happens when the VM is restarted.</span></span> <span data-ttu-id="8a2e2-133">È possibile pagare una tariffa aggiuntiva per assegnare indirizzi statici, se ci si vuole connettere direttamente a un indirizzo IP invece che a un nome ed è necessario fare in modo che l'indirizzo IP non cambi.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-133">You can pay more to assign static addresses if you want to connect directly to an IP address instead of a name and need to ensure that the IP address will not change.</span></span>

### <a name="how-do-you-connect-to-a-vm-in-azure-using-rdp"></a><span data-ttu-id="8a2e2-134">In che modo è possibile connettersi a una macchina virtuale in Azure tramite RDP?</span><span class="sxs-lookup"><span data-stu-id="8a2e2-134">How do you connect to a VM in Azure using RDP?</span></span>

<span data-ttu-id="8a2e2-135">La connessione a una macchina virtuale in Azure tramite RDP è un processo semplice.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-135">Connecting to a VM in Azure using RDP is a simple process.</span></span> <span data-ttu-id="8a2e2-136">Nel portale di Azure passare alle proprietà della macchina virtuale e nella parte superiore fare clic su **Connetti**.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-136">In the Azure portal, you go to the properties of your VM, and at the top, click **Connect**.</span></span> <span data-ttu-id="8a2e2-137">Verranno visualizzati gli indirizzi IP assegnati alla macchina virtuale e sarà possibile scaricare un file **RDP** preconfigurato che Windows aprirà nel client RDP.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-137">This will show you the IP addresses assigned to the VM and give you the option to download a preconfigured **.rdp** file that Windows then opens in the RDP client.</span></span> <span data-ttu-id="8a2e2-138">È possibile scegliere di connettersi tramite l'indirizzo IP pubblico della macchina virtuale nel file RDP.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-138">You can choose to connect over the public IP address of the VM in the RDP file.</span></span> <span data-ttu-id="8a2e2-139">In alternativa, se ci si connette tramite VPN o ExpressRoute, è possibile selezionare l'indirizzo IP interno.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-139">Alternatively, if you're connecting over VPN or ExpressRoute, you can select the internal IP address.</span></span> <span data-ttu-id="8a2e2-140">È anche possibile selezionare il numero di porta per la connessione.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-140">You can also select the port number for the connection.</span></span>

<span data-ttu-id="8a2e2-141">Se si usa un indirizzo IP pubblico statico per la macchina virtuale, è possibile salvare il file **RDP** sul desktop.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-141">If you're using a static public IP address for the VM, you can save the **.rdp** file to your desktop.</span></span> <span data-ttu-id="8a2e2-142">Se si usano indirizzi IP dinamici, il file **RDP** rimane valido solo mentre la macchina virtuale è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-142">If you're using dynamic IP addressing, the **.rdp** file only remains valid while the VM is running.</span></span> <span data-ttu-id="8a2e2-143">Se si arresta e si riavvia la macchina virtuale, è necessario scaricare un altro file **RDP**.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-143">If you stop and restart the VM, you must download another **.rdp** file.</span></span>

> [!TIP]
> <span data-ttu-id="8a2e2-144">È anche possibile immettere l'indirizzo IP pubblico della macchina virtuale nel client RDP di Windows e fare clic su **Connetti**.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-144">You can also enter the public IP address of the VM into the Windows RDP client and click **Connect**.</span></span>

<span data-ttu-id="8a2e2-145">Quando ci si connette, in genere verranno visualizzati due avvisi.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-145">When you connect, you will typically receive two warnings.</span></span> <span data-ttu-id="8a2e2-146">Si tratta di:</span><span class="sxs-lookup"><span data-stu-id="8a2e2-146">These are:</span></span>

<span data-ttu-id="8a2e2-147">-**Avviso editore**: generato dal file **RDP** non firmato pubblicamente.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-147">-**Publisher warning** - caused by the **.rdp** file not being publicly signed.</span></span>
- <span data-ttu-id="8a2e2-148">**Avviso certificato**: generato dal certificato del computer non considerato attendibile.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-148">**Certificate warning** - caused by the machine certificate not being trusted.</span></span>

<span data-ttu-id="8a2e2-149">Negli ambienti di test è possibile ignorare questi avvisi.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-149">In test environments, these warnings can be ignored.</span></span> <span data-ttu-id="8a2e2-150">Negli ambienti di produzione il file **RDP** può essere firmato usando **RDPSIGN.EXE** e il certificato del computer inserito nell'archivio del client **Autorità di certificazione radice attendibili**.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-150">In production environments, the **.rdp** file can be signed using **RDPSIGN.EXE** and the machine certificate placed in the client's **Trusted Root Certification Authorities** store.</span></span>

<span data-ttu-id="8a2e2-151">Si proverà ora a usare RDP per connettersi alla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="8a2e2-151">Let's try using RDP to connect to our VM.</span></span>