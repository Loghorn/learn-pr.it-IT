<span data-ttu-id="96b29-101">Si supponga di essere un fotografo con un sito Web in cui si pubblicano le immagini della giornata.</span><span class="sxs-lookup"><span data-stu-id="96b29-101">Imagine you're a photographer and you have a website where you display your pictures of the day.</span></span> <span data-ttu-id="96b29-102">A causa dei molti impegni non si dispone di una pianificazione di caricamento coerente, ma si desidera inviare una notifica ai fan quando si carica un'immagine.</span><span class="sxs-lookup"><span data-stu-id="96b29-102">Because you're busy, you don't have a consistent upload schedule, but you want to notify your fans when you upload a picture.</span></span> <span data-ttu-id="96b29-103">Si decide di creare una funzione di Azure per inviare automaticamente un tweet ogni volta che si carica un'immagine nel contenitore BLOB dell'archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="96b29-103">You decide to create an Azure function to automatically send a tweet whenever you upload an image to your Azure Storage blob container.</span></span>

<span data-ttu-id="96b29-104">Qui è possibile ottenere informazioni su come creare un trigger del BLOB e fare in modo che monitori un percorso specifico nel contenitore BLOB dell'archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="96b29-104">Here, you learn how to create a blob trigger and instruct it to monitor a specific location in your Azure Storage blob container.</span></span>

## <a name="what-is-azure-storage"></a><span data-ttu-id="96b29-105">Che cos'è Archiviazione di Azure?</span><span class="sxs-lookup"><span data-stu-id="96b29-105">What is Azure Storage?</span></span>

<span data-ttu-id="96b29-106">Archiviazione di Azure è la soluzione di archiviazione cloud di Microsoft che supporta tutti i tipi di dati, inclusi BLOB, code e NoSQL.</span><span class="sxs-lookup"><span data-stu-id="96b29-106">Azure Storage is Microsoft's cloud storage solution that supports all types of data, including: blobs, queues, and NoSQL.</span></span> <span data-ttu-id="96b29-107">L'obiettivo di Archiviazione di Azure è fornire un'archiviazione dei dati:</span><span class="sxs-lookup"><span data-stu-id="96b29-107">The goal of Azure Storage is to provide data storage that's:</span></span>

- <span data-ttu-id="96b29-108">Ad elevata disponibilità</span><span class="sxs-lookup"><span data-stu-id="96b29-108">Highly available</span></span>
- <span data-ttu-id="96b29-109">Sicura</span><span class="sxs-lookup"><span data-stu-id="96b29-109">Secure</span></span>
- <span data-ttu-id="96b29-110">Scalabile</span><span class="sxs-lookup"><span data-stu-id="96b29-110">Scalable</span></span>
- <span data-ttu-id="96b29-111">Gestita</span><span class="sxs-lookup"><span data-stu-id="96b29-111">Managed</span></span>

<span data-ttu-id="96b29-112">Il focus tuttavia non verrà posto su Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="96b29-112">We're not going to focus on Azure Storage too much.</span></span> <span data-ttu-id="96b29-113">Verrà usato solo per creare BLOB che attiveranno l'esecuzione della funzione.</span><span class="sxs-lookup"><span data-stu-id="96b29-113">Instead, we use it to create blobs that will trigger our function to run.</span></span>

## <a name="what-is-azure-blob-storage"></a><span data-ttu-id="96b29-114">Cos'è l'Archiviazione BLOB di Azure?</span><span class="sxs-lookup"><span data-stu-id="96b29-114">What is Azure Blob storage?</span></span>

<span data-ttu-id="96b29-115">Archiviazione BLOB di Azure è una soluzione di archiviazione oggetti progettata per archiviare grandi quantità di dati non strutturati.</span><span class="sxs-lookup"><span data-stu-id="96b29-115">Azure Blob storage is an object storage solution that's designed to store large amounts of unstructured data.</span></span> 

<span data-ttu-id="96b29-116">Ad esempio, Archiviazione BLOB di Azure è ideale per eseguire operazioni quali:</span><span class="sxs-lookup"><span data-stu-id="96b29-116">For example, Azure Blob storage is great at doing things like:</span></span>

- <span data-ttu-id="96b29-117">Archiviazione di file.</span><span class="sxs-lookup"><span data-stu-id="96b29-117">Storing files.</span></span>
- <span data-ttu-id="96b29-118">Gestione di file.</span><span class="sxs-lookup"><span data-stu-id="96b29-118">Serving files.</span></span>
- <span data-ttu-id="96b29-119">Streaming di audio e video.</span><span class="sxs-lookup"><span data-stu-id="96b29-119">Streaming video and audio.</span></span>
- <span data-ttu-id="96b29-120">Registrazione dei dati.</span><span class="sxs-lookup"><span data-stu-id="96b29-120">Logging data.</span></span>

<span data-ttu-id="96b29-121">Esistono tre tipi di BLOB: **BLOB in blocchi**, **BLOB di accodamento** e **BLOB di pagine**.</span><span class="sxs-lookup"><span data-stu-id="96b29-121">There are three types of blobs: **block blobs**, **append blobs**, and **page blobs**.</span></span> <span data-ttu-id="96b29-122">I BLOB in blocchi sono i tipi più comuni.</span><span class="sxs-lookup"><span data-stu-id="96b29-122">Block blobs are the most common type.</span></span> <span data-ttu-id="96b29-123">Consentono di archiviare in modo efficiente dati binari o testo.</span><span class="sxs-lookup"><span data-stu-id="96b29-123">They allow you to store text or binary data efficiently.</span></span> <span data-ttu-id="96b29-124">I BLOB di accodamento sono simili ai BLOB in blocchi, ma sono stati progettati più che altro per le operazioni di accodamento, quali la creazione di un file di log che viene continuamente aggiornato.</span><span class="sxs-lookup"><span data-stu-id="96b29-124">Append blobs are like block blobs, but they're designed more for append operations like creating a log file that's being constantly updated.</span></span> <span data-ttu-id="96b29-125">Infine, i BLOB di pagine sono costituiti da pagine e sono progettati per operazioni frequenti di lettura e scrittura casuali.</span><span class="sxs-lookup"><span data-stu-id="96b29-125">Finally, page blobs are made up of pages and are designed for frequent random read and write operations.</span></span>

## <a name="what-is-a-blob-trigger"></a><span data-ttu-id="96b29-126">Che cos'è un trigger del BLOB?</span><span class="sxs-lookup"><span data-stu-id="96b29-126">What is a blob trigger?</span></span>

<span data-ttu-id="96b29-127">Un trigger del BLOB è un trigger che esegue una funzione quando un file viene caricato o aggiornato nell'archivio BLOB di Azure.</span><span class="sxs-lookup"><span data-stu-id="96b29-127">A blob trigger is a trigger that executes a function when a file is uploaded or updated in Azure Blob storage.</span></span> <span data-ttu-id="96b29-128">Per creare un trigger del BLOB, creare un account di Archiviazione di Azure e fornire un percorso che verrà monitorato dal trigger.</span><span class="sxs-lookup"><span data-stu-id="96b29-128">To create a blob trigger, you create an Azure Storage account and provide a location that the trigger monitors.</span></span>

## <a name="how-to-create-a-blob-trigger"></a><span data-ttu-id="96b29-129">Come creare un trigger del blob</span><span class="sxs-lookup"><span data-stu-id="96b29-129">How to create a blob trigger</span></span>

<span data-ttu-id="96b29-130">Proprio come gli altri trigger trattati fino ad ora, il trigger del BLOB viene creato nel portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="96b29-130">Just like the other triggers we've seen so far, we create a blob trigger in the Azure portal.</span></span> <span data-ttu-id="96b29-131">All'interno della funzione di Azure, selezionare **Trigger del BLOB** dall'elenco dei tipi di trigger predefiniti.</span><span class="sxs-lookup"><span data-stu-id="96b29-131">Inside your Azure function, select **Blob trigger** from the list of predefined trigger types.</span></span> <span data-ttu-id="96b29-132">Immettere quindi la logica da eseguire quando viene creato o aggiornato un BLOB.</span><span class="sxs-lookup"><span data-stu-id="96b29-132">Then enter the logic to execute when a blob is created or updated.</span></span>

<span data-ttu-id="96b29-133">Un'impostazione che è opportuno esaminare è il **Percorso**.</span><span class="sxs-lookup"><span data-stu-id="96b29-133">One setting that you'll want to look at is the **Path**.</span></span> <span data-ttu-id="96b29-134">Il **Percorso** indica al trigger del BLOB la posizione da monitorare per vedere se un BLOB viene caricato o aggiornato.</span><span class="sxs-lookup"><span data-stu-id="96b29-134">The **Path** tells the blob trigger where to monitor to see if a blob is uploaded or updated.</span></span> <span data-ttu-id="96b29-135">Per impostazione predefinita, il valore di **Percorso** è:</span><span class="sxs-lookup"><span data-stu-id="96b29-135">By default, the **Path** value is:</span></span> 

> <span data-ttu-id="96b29-136">samples-workitems/{name}</span><span class="sxs-lookup"><span data-stu-id="96b29-136">samples-workitems/{name}</span></span>

<span data-ttu-id="96b29-137">Se si scompone questo concetto in due parti, si ottiene *samples-workitems* e *{name}*.</span><span class="sxs-lookup"><span data-stu-id="96b29-137">Let's break down this concept into two pieces: *samples-workitems* and *{name}*.</span></span> <span data-ttu-id="96b29-138">La prima parte, *samples-workitems*, rappresenta il contenitore BLOB monitorato dal trigger.</span><span class="sxs-lookup"><span data-stu-id="96b29-138">The first part, *samples-workitems*, represents the blob container that the trigger monitors.</span></span> <span data-ttu-id="96b29-139">La seconda parte, *{name}*, significa che tutti i tipi di file determinano la richiamata della funzione da parte del trigger.</span><span class="sxs-lookup"><span data-stu-id="96b29-139">The second part, *{name}*, means that every type of file will cause the trigger to invoke the function.</span></span> <span data-ttu-id="96b29-140">La funzione viene richiamata perché non è presente alcun filtro.</span><span class="sxs-lookup"><span data-stu-id="96b29-140">The function is invoked because there's no filter.</span></span> <span data-ttu-id="96b29-141">Ad esempio, il trigger può richiamare la funzione solo se viene aggiunto un file PNG utilizzando una sintassi del tipo:</span><span class="sxs-lookup"><span data-stu-id="96b29-141">For example, I could make the trigger invoke the function only when a PNG file is added by using syntax like:</span></span>

> <span data-ttu-id="96b29-142">samples-workitems/{name}.png</span><span class="sxs-lookup"><span data-stu-id="96b29-142">samples-workitems/{name}.png</span></span>

<span data-ttu-id="96b29-143">L'ultima parte di informazioni significative all'interno di questo concetto è il testo *name*.</span><span class="sxs-lookup"><span data-stu-id="96b29-143">The last significant piece of information with this concept is the text *name*.</span></span> <span data-ttu-id="96b29-144">*name* rappresenta un parametro nella funzione di Azure che riceve il nome del file aggiunto.</span><span class="sxs-lookup"><span data-stu-id="96b29-144">The *name* represents a parameter in your Azure function that receives the name of the added file.</span></span> <span data-ttu-id="96b29-145">Ad esempio, se si carica un file denominato *resume.txt*, la funzione di Azure riceve il valore sotto forma di stringa tramite un parametro denominato *name*.</span><span class="sxs-lookup"><span data-stu-id="96b29-145">For example, if I upload a file named *resume.txt*, my Azure function receives that value as a string through a parameter called *name*.</span></span>

## <a name="summary"></a><span data-ttu-id="96b29-146">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="96b29-146">Summary</span></span>

<span data-ttu-id="96b29-147">Un trigger del BLOB richiama una funzione di Azure quando rileva attività in una posizione specifica nell'account BLOB di Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="96b29-147">A blob trigger invokes an Azure function when it sees activity at a specific location in your Azure Storage blob account.</span></span> <span data-ttu-id="96b29-148">Per impostare il percorso da monitorare, modificare il valore **Percorso** nel portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="96b29-148">You set the location to monitor by modifying the **Path** value in the Azure portal.</span></span>
