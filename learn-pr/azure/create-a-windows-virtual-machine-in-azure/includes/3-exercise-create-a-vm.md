<span data-ttu-id="748d3-101">È importante ricordare che l'azienda elabora contenuti video in macchine virtuali Windows.</span><span class="sxs-lookup"><span data-stu-id="748d3-101">Recall that our company processes video content on Windows VMs.</span></span> <span data-ttu-id="748d3-102">Una nuova città ha assunto l'azienda perché elabori le fotocamere del traffico, ma il modello non è mai stato usato prima dall'azienda.</span><span class="sxs-lookup"><span data-stu-id="748d3-102">A new city has contracted us to process their traffic cameras, but it's a model we've not worked with before.</span></span> <span data-ttu-id="748d3-103">È necessario creare una nuova macchina virtuale Windows e installare alcuni codec proprietari in modo da poter iniziare a elaborare e ad analizzare le immagini.</span><span class="sxs-lookup"><span data-stu-id="748d3-103">We need to create a new Windows VM and install some proprietary codecs so we can begin processing and analyzing their images.</span></span>

## <a name="create-a-new-windows-virtual-machine"></a><span data-ttu-id="748d3-104">Creare una macchina virtuale Windows</span><span class="sxs-lookup"><span data-stu-id="748d3-104">Create a new Windows virtual machine</span></span>

<span data-ttu-id="748d3-105">È possibile creare macchine virtuali Windows con il portale di Azure, l'interfaccia della riga di comando di Azure o Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="748d3-105">We can create Windows VMs with the Azure portal, Azure CLI, or Azure PowerShell.</span></span> <span data-ttu-id="748d3-106">L'approccio più semplice consiste nell'usare il portale, perché offre tutte le informazioni dettagliate necessarie e fornisce suggerimenti e messaggi utili durante la creazione.</span><span class="sxs-lookup"><span data-stu-id="748d3-106">The easiest approach is to the portal because it walks you through the required information and provides hints and helpful messages during the creation.</span></span>

1. <span data-ttu-id="748d3-107">Accedere al [portale di Azure](https://portal.azure.com?azure-portal=true).</span><span class="sxs-lookup"><span data-stu-id="748d3-107">Sign into the [Azure portal](https://portal.azure.com?azure-portal=true).</span></span>

1. <span data-ttu-id="748d3-108">Fare clic su **Crea una risorsa** nell'angolo in alto a sinistra del portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="748d3-108">Click **Create a resource** in the upper left corner of the Azure portal.</span></span>

1. <span data-ttu-id="748d3-109">Nella casella di ricerca immettere **Windows Server 2016 Datacenter** e quindi fare clic sul collegamento con lo stesso titolo nell'elenco visualizzato.</span><span class="sxs-lookup"><span data-stu-id="748d3-109">In the search box, enter  **Windows Server 2016 Datacenter**  and then click on the link with the same title in the presented list.</span></span>

1. <span data-ttu-id="748d3-110">Fare clic sul pulsante **Crea** per avviare la configurazione della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="748d3-110">Click the **Create** button to start configuring the VM.</span></span>

## <a name="configure-the-vm-settings"></a><span data-ttu-id="748d3-111">Configurare le impostazioni della macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="748d3-111">Configure the VM settings</span></span>

<span data-ttu-id="748d3-112">L'esperienza di creazione della macchina virtuale nel portale viene presentata sotto forma di "procedura guidata", che offre tutte le informazioni dettagliate necessarie per le aree di configurazione della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="748d3-112">The VM creation experience in the portal is presented in a "wizard" format to walk you through all the configuration areas for the VM.</span></span> <span data-ttu-id="748d3-113">Facendo clic sul pulsante "Avanti" si passerà alla sezione configurabile successiva.</span><span class="sxs-lookup"><span data-stu-id="748d3-113">Clicking the "Next" button will take you to the next configurable section.</span></span> <span data-ttu-id="748d3-114">È comunque possibile spostarsi tra le sezioni nel modo preferito usando le schede nella parte superiore che identificano ogni sezione.</span><span class="sxs-lookup"><span data-stu-id="748d3-114">However, you can move between the sections at will with the tabs running across the top that identify each section.</span></span>

![Creare una macchina virtuale nel portale di Azure](../media-drafts/3-azure-portal-create-vm.png)

<span data-ttu-id="748d3-116">Dopo aver compilato tutte le opzioni obbligatorie identificate con asterischi rossi, è possibile ignorare il resto della procedura guidata e iniziare a creare la macchina virtuale tramite il pulsante **Rivedi e crea** nella parte inferiore.</span><span class="sxs-lookup"><span data-stu-id="748d3-116">Once you fill in all the required options (identified with red stars), you can skip the remainder of the wizard experience and start creating the VM through the **Review + Create** button at the bottom.</span></span>

<span data-ttu-id="748d3-117">Si inizierà con la sezione **Informazioni di base**.</span><span class="sxs-lookup"><span data-stu-id="748d3-117">We'll start with the **Basics** section.</span></span>

### <a name="configure-basic-vm-settings"></a><span data-ttu-id="748d3-118">Configurare le impostazioni di base della macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="748d3-118">Configure basic VM settings</span></span>

1. <span data-ttu-id="748d3-119">Selezionare la **sottoscrizione** per cui devono essere fatturate le ore della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="748d3-119">Select the **Subscription** that should be billed for VM hours.</span></span>

1. <span data-ttu-id="748d3-120">In **Gruppo di risorse** selezionare **Crea nuovo** e assegnare al gruppo di risorse il nome **ExerciseResources**.</span><span class="sxs-lookup"><span data-stu-id="748d3-120">For **Resource group**, select **Create new** and give the resource group the name **ExerciseResources**.</span></span>

> [!NOTE]
> <span data-ttu-id="748d3-121">Quando si modificano le impostazioni e si esce da ogni campo, Azure convalida automaticamente ogni valore e visualizza un segno di spunta verde accanto se è corretto.</span><span class="sxs-lookup"><span data-stu-id="748d3-121">As you change settings and tab out of each field Azure will validate each value automatically and place a green check-mark next to it when it's good.</span></span> <span data-ttu-id="748d3-122">È possibile passare il puntatore del mouse sopra gli indicatori di errore per ottenere altre informazioni sui problemi individuati.</span><span class="sxs-lookup"><span data-stu-id="748d3-122">You can hover over error indicators to get more information for issues it discovers.</span></span>

1. <span data-ttu-id="748d3-123">Nella sezione **DETTAGLI ISTANZA** immettere un nome per la macchina virtuale, ad esempio "vm2-pv-test" per "VM 2 processore video di test".</span><span class="sxs-lookup"><span data-stu-id="748d3-123">In the **INSTANCE DETAILS** section, enter a name for your VM, such as "test-vp-vm2" (for Test Video Processor VM #2).</span></span>
    - <span data-ttu-id="748d3-124">È consigliabile standardizzare i nomi delle risorse in modo da poterne identificare rapidamente lo scopo.</span><span class="sxs-lookup"><span data-stu-id="748d3-124">It's best practice to standardize your resource names so you can easily identify their purpose.</span></span> <span data-ttu-id="748d3-125">I nomi delle macchine virtuali Windows devono rispettare un limite di bit ed essere composti da 2-15 caratteri costituiti da numeri, lettere e trattini.</span><span class="sxs-lookup"><span data-stu-id="748d3-125">Windows VM names are a bit limited - they must be between 2 and 15 characters and be comprised of numbers, letters, and dashes.</span></span>

1. <span data-ttu-id="748d3-126">Selezionare un'area nelle vicinanze.</span><span class="sxs-lookup"><span data-stu-id="748d3-126">Select a region close to you.</span></span>

1. <span data-ttu-id="748d3-127">Lasciare l'opzione **Availability options** (Opzioni di disponibilità) impostata su "Nessuna".</span><span class="sxs-lookup"><span data-stu-id="748d3-127">Leave **Availability options** as "None".</span></span> <span data-ttu-id="748d3-128">Questa opzione viene usata per assicurarsi che la macchina virtuale sia a disponibilità elevata mediante il raggruppamento di più macchine virtuali tra loro in un set per gestire gli eventi di manutenzione pianificata o non pianificata o le interruzioni.</span><span class="sxs-lookup"><span data-stu-id="748d3-128">This option is used to ensure the VM is highly available by grouping multiple VMs together a set to deal with planned or unplanned maintenance events or outages.</span></span>

1. <span data-ttu-id="748d3-129">Assicurarsi che l'immagine sia impostata su "Windows Server 2016 Datacenter".</span><span class="sxs-lookup"><span data-stu-id="748d3-129">Ensure the image is set to "Windows Server 2016 Datacenter".</span></span> <span data-ttu-id="748d3-130">È possibile aprire l'elenco a discesa per visualizzare tutte le opzioni disponibili.</span><span class="sxs-lookup"><span data-stu-id="748d3-130">You can open the drop-down list to see all the options available.</span></span>

1. <span data-ttu-id="748d3-131">Nel campo **Tipo di disco della macchina virtuale** fare clic sul menu a discesa per visualizzare le opzioni.</span><span class="sxs-lookup"><span data-stu-id="748d3-131">In the **VM Disk Type** field, click the drop-down menu to see the options.</span></span> <span data-ttu-id="748d3-132">Assicurarsi che sia selezionata l'opzione **SSD**.</span><span class="sxs-lookup"><span data-stu-id="748d3-132">Ensure that **SSD** is selected.</span></span>

1. <span data-ttu-id="748d3-133">Il campo **Dimensioni** non è direttamente modificabile ed è impostato sulla dimensione predefinita DS1.</span><span class="sxs-lookup"><span data-stu-id="748d3-133">The **Size** field is not directly editable and has a DS1 default size.</span></span> <span data-ttu-id="748d3-134">Fare clic sul collegamento **Modifica dimensioni** per esplorare altre dimensioni di macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="748d3-134">Click the **Change size** link to explore other VM sizes.</span></span> <span data-ttu-id="748d3-135">Nella finestra di dialogo risultante è possibile filtrare in base al numero di CPU, al nome e al tipo di disco.</span><span class="sxs-lookup"><span data-stu-id="748d3-135">The resulting dialog allows you to filter based on # of CPUs, Name, and Disk Type.</span></span> <span data-ttu-id="748d3-136">Al termine, selezionare "DS1 Standard v2" (in genere l'impostazione predefinita).</span><span class="sxs-lookup"><span data-stu-id="748d3-136">Select "Standard DS1 v2" (normally the default) when you are done.</span></span> <span data-ttu-id="748d3-137">Questa impostazione assegna alla macchina virtuale una CPU e 3,5 GB di memoria.</span><span class="sxs-lookup"><span data-stu-id="748d3-137">That will give the VM 1 CPU and 3.5 GB of memory.</span></span>

    > [!TIP]
    > <span data-ttu-id="748d3-138">È anche possibile fare scorrere la visualizzazione a sinistra per tornare alle impostazioni della macchina virtuale come se venissero aperte in una nuova finestra a destra e fare scorrere la finestra per visualizzarla.</span><span class="sxs-lookup"><span data-stu-id="748d3-138">You can also just slide the view to the left to get back to the VM settings as it opened a new window off to the right and slid the window over to view it.</span></span>

1. <span data-ttu-id="748d3-139">Nella sezione **ACCESSO AMMINISTRATORE** impostare il campo **Nome utente** sul nome utente che verrà usato per accedere alla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="748d3-139">In the **ADMINISTRATOR ACCESS** section, set the **Username** field to a username you will use to sign in to the VM.</span></span>

1. <span data-ttu-id="748d3-140">Nel campo **Password** immettere una password di almeno 12 caratteri.</span><span class="sxs-lookup"><span data-stu-id="748d3-140">In the **Password** field, enter a password that's at least 12 characters long.</span></span> <span data-ttu-id="748d3-141">La password deve contenere almeno tre di questi elementi: un carattere minuscolo, un carattere maiuscolo, un numero e un carattere speciale diverso da "\'" o "-".</span><span class="sxs-lookup"><span data-stu-id="748d3-141">It must have three of the following: one lower case character, one uppercase character, one number, and one special character that is not '\' or '-'.</span></span> <span data-ttu-id="748d3-142">Usare una password facile da ricordare o annotarla, perché servirà più avanti.</span><span class="sxs-lookup"><span data-stu-id="748d3-142">Use something you will remember or write it down, you will need it later.</span></span>

1. <span data-ttu-id="748d3-143">Confermare la **password**.</span><span class="sxs-lookup"><span data-stu-id="748d3-143">Confirm the **password**.</span></span>

1. <span data-ttu-id="748d3-144">Nella sezione **REGOLE PORTA IN INGRESSO** aprire l'elenco e _deselezionare_ "Nessuna".</span><span class="sxs-lookup"><span data-stu-id="748d3-144">In the **INBOUND PORT RULES** section, open the list and _uncheck_ "None".</span></span> <span data-ttu-id="748d3-145">Poiché si tratta di una macchina virtuale Windows, è necessario avere la possibilità di accedere al desktop tramite RDP.</span><span class="sxs-lookup"><span data-stu-id="748d3-145">Since this is a Windows VM, we want to be able to access the desktop using RDP.</span></span> <span data-ttu-id="748d3-146">Se necessario, scorrere l'elenco fino a individuare RDP (3389) e selezionare questa opzione.</span><span class="sxs-lookup"><span data-stu-id="748d3-146">Scroll the list if necessary until you find RDP (3389) and select it.</span></span> <span data-ttu-id="748d3-147">Come indicato nella nota nell'interfaccia utente, è possibile modificare anche le porte di rete dopo aver creato la macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="748d3-147">As the note in the UI indicates, we can also adjust the network ports after we create the VM.</span></span>

    ![Aprire la porta per l'accesso RDP nella macchina virtuale Windows](../media-drafts/3-open-ports.png)

## <a name="configure-disks-for-the-vm"></a><span data-ttu-id="748d3-149">Configurare i dischi per la macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="748d3-149">Configure Disks for the VM</span></span>

1. <span data-ttu-id="748d3-150">Fare clic su **Avanti** per passare alla sezione Dischi.</span><span class="sxs-lookup"><span data-stu-id="748d3-150">Click **Next** to move to the Disks section.</span></span>

    ![Configurare i dischi per la macchina virtuale](../media-drafts/3-configure-disks.png)

1. <span data-ttu-id="748d3-152">Scegliere "SSD Premium" per **Tipo di disco del sistema operativo**.</span><span class="sxs-lookup"><span data-stu-id="748d3-152">Choose "Premium SSD" for the **OS disk type**.</span></span>

1. <span data-ttu-id="748d3-153">Usare dischi gestiti, in modo da non dover usare account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="748d3-153">Use managed disks so we don't have to work with storage accounts.</span></span> <span data-ttu-id="748d3-154">Se è necessario, è possibile modificare l'opzione nella GUI per visualizzare le differenze per le informazioni richieste da Azure.</span><span class="sxs-lookup"><span data-stu-id="748d3-154">You can flip the switch in the GUI to see the difference in information that Azure needs if you like.</span></span>

### <a name="create-a-data-disk"></a><span data-ttu-id="748d3-155">Creare un disco dati</span><span class="sxs-lookup"><span data-stu-id="748d3-155">Create a data disk</span></span>

<span data-ttu-id="748d3-156">Tenere presente che si otterrà un disco del sistema operativo (C:) e un disco temporaneo (D:).</span><span class="sxs-lookup"><span data-stu-id="748d3-156">Recall we will get an OS disk (C:) and Temporary disk (D:).</span></span> <span data-ttu-id="748d3-157">Aggiungere anche un disco dati.</span><span class="sxs-lookup"><span data-stu-id="748d3-157">Let's add a data disk as well.</span></span>

1. <span data-ttu-id="748d3-158">Fare clic sul collegamento **Create and attach a new disk** (Crea e collega un nuovo disco) nella sezione **Dischi dati**.</span><span class="sxs-lookup"><span data-stu-id="748d3-158">Click the **Create and attach a new disk** link in the **DATA DISKS** section.</span></span>

    ![Creare un disco dati per la macchina virtuale nel portale](../media-drafts/3-add-data-disk.png)

1. <span data-ttu-id="748d3-160">È possibile accettare tutte le impostazioni predefinite: SSD Premium, 1023 GB e Nessuno (disco vuoto). Si noti, tuttavia, che questa è la posizione in cui si potrebbe usare uno snapshot o un BLOB di archiviazione per creare un disco rigido virtuale.</span><span class="sxs-lookup"><span data-stu-id="748d3-160">You can take all the defaults: Premium SSD, 1023 GB, and None (empty disk); although notice that here is where we could use a snapshot, or Storage Blob to create a VHD.</span></span>

1. <span data-ttu-id="748d3-161">Fare clic su **OK** per creare il disco e tornare alla sezione **DISCHI DATI**.</span><span class="sxs-lookup"><span data-stu-id="748d3-161">Click **OK** to create the disk and go back to the **DATA DISKS** section.</span></span>

1. <span data-ttu-id="748d3-162">A questo punto, nella prima riga sarà presente un nuovo disco.</span><span class="sxs-lookup"><span data-stu-id="748d3-162">There should now be a new disk in the first row.</span></span>

    ![Nuovo disco nella macchina virtuale](../media-drafts/3-new-disk.png)

## <a name="configure-the-network"></a><span data-ttu-id="748d3-164">Configurare la rete</span><span class="sxs-lookup"><span data-stu-id="748d3-164">Configure the Network</span></span>

1. <span data-ttu-id="748d3-165">Fare clic su **Avanti** per passare alla sezione Rete.</span><span class="sxs-lookup"><span data-stu-id="748d3-165">Click **Next** to move to the Networking section.</span></span>

1. <span data-ttu-id="748d3-166">In un sistema di produzione in cui sono già presenti altri componenti è consigliabile usare una rete virtuale _esistente_.</span><span class="sxs-lookup"><span data-stu-id="748d3-166">In a production system where we already have other components, we'd want to utilize an _existing_ virtual network.</span></span> <span data-ttu-id="748d3-167">In questo modo, la macchina virtuale può comunicare con altri servizi cloud nella soluzione.</span><span class="sxs-lookup"><span data-stu-id="748d3-167">That way our VM can communicate with the other cloud services in our solution.</span></span> <span data-ttu-id="748d3-168">Se non è già stata definita una rete virtuale per questa località, è possibile crearla e configurare gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="748d3-168">If there isn't one defined in this location yet, we can create it here and configure the:</span></span>
    - <span data-ttu-id="748d3-169">**Spazio di indirizzi**: spazio IPV4 complessivo disponibile per questa rete.</span><span class="sxs-lookup"><span data-stu-id="748d3-169">**Address space**: the overall IPV4 space available to this network.</span></span>
    - <span data-ttu-id="748d3-170">**Intervallo IP subnet**: prima subnet in cui suddividere lo spazio di indirizzi. Deve rientrare nello spazio di indirizzi definito.</span><span class="sxs-lookup"><span data-stu-id="748d3-170">**Subnet range**: the first subnet to subdivide the address space - it must fit within the defined address space.</span></span> <span data-ttu-id="748d3-171">Dopo aver creato la rete virtuale, è possibile aggiungere altre subnet.</span><span class="sxs-lookup"><span data-stu-id="748d3-171">Once the VNet is created you can add additional subnets.</span></span>

1. <span data-ttu-id="748d3-172">Modificare gli intervalli predefiniti in modo da usare lo spazio di indirizzi IP `172.xxx`.</span><span class="sxs-lookup"><span data-stu-id="748d3-172">Let's change the default ranges to use the `172.xxx` IP address space.</span></span>
    - <span data-ttu-id="748d3-173">Modificare il campo **Spazio indirizzi** specificando `172.16.0.0/16` per assegnare l'intervallo completo di indirizzi</span><span class="sxs-lookup"><span data-stu-id="748d3-173">Change the **Address space** field to be `172.16.0.0/16` to give it the full range of addresses</span></span>
    - <span data-ttu-id="748d3-174">Modificare il campo **Intervallo IP subnet** specificando `172.16.1.0/24` per assegnare 256 indirizzi IP dello spazio.</span><span class="sxs-lookup"><span data-stu-id="748d3-174">Change the **Subnet range** field to be `172.16.1.0/24` to give it 256 IP addresses of the space.</span></span>

> [!NOTE]
> <span data-ttu-id="748d3-175">Per impostazione predefinita, Azure creerà una rete virtuale, l'interfaccia di rete e l'indirizzo IP pubblico per la macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="748d3-175">By default, Azure will create a virtual network, network interface, and public IP for your VM.</span></span> <span data-ttu-id="748d3-176">Poiché non è facile modificare le opzioni di rete dopo aver creato la macchina virtuale, controllare sempre con attenzione le assegnazioni di rete per i servizi creati in Azure.</span><span class="sxs-lookup"><span data-stu-id="748d3-176">It's not trivial to change the networking options after the VM has been created so always double-check the network assignments on services you create in Azure.</span></span>

## <a name="finish-configuring-the-vm-and-create-the-image"></a><span data-ttu-id="748d3-177">Completare la configurazione della macchina virtuale e creare l'immagine</span><span class="sxs-lookup"><span data-stu-id="748d3-177">Finish configuring the VM and create the image</span></span>

<span data-ttu-id="748d3-178">Le opzioni rimanenti hanno impostazioni predefinite ragionevoli che non è necessario modificare.</span><span class="sxs-lookup"><span data-stu-id="748d3-178">The rest of the options have reasonable defaults and there's no need to change any of them.</span></span> <span data-ttu-id="748d3-179">Se lo si desidera, è possibile esplorare le altre schede.</span><span class="sxs-lookup"><span data-stu-id="748d3-179">You can explore the other tabs if you like.</span></span> <span data-ttu-id="748d3-180">Accanto alle singole opzioni è disponibile un'icona `(i)` che permette di visualizzare una finestra della Guida con una spiegazione dell'opzione.</span><span class="sxs-lookup"><span data-stu-id="748d3-180">The individual options have an `(i)` icon next to them that will show a help bubble to explain the option.</span></span> <span data-ttu-id="748d3-181">Questo è un ottimo modo per ottenere informazioni sulle varie opzioni che è possibile usare per configurare la macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="748d3-181">This is a great way to learn about the various options you can use to configure the VM.</span></span>

1. <span data-ttu-id="748d3-182">Fare clic sul pulsante **Rivedi e crea** nella parte inferiore del pannello.</span><span class="sxs-lookup"><span data-stu-id="748d3-182">Click the **Review + create** button at the bottom of the panel.</span></span>

1. <span data-ttu-id="748d3-183">Il sistema convaliderà le opzioni e fornirà informazioni dettagliate sulla macchina virtuale in fase di creazione.</span><span class="sxs-lookup"><span data-stu-id="748d3-183">The system will validate your options and give you details about the VM being created.</span></span>

1. <span data-ttu-id="748d3-184">Fare clic su **Crea** per creare e distribuire la macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="748d3-184">Click **Create** to create and deploy the VM.</span></span> <span data-ttu-id="748d3-185">Il dashboard di Azure mostrerà la macchina virtuale da distribuire.</span><span class="sxs-lookup"><span data-stu-id="748d3-185">The Azure dashboard will show the VM that's being deployed.</span></span> <span data-ttu-id="748d3-186">Questa operazione può richiedere alcuni minuti.</span><span class="sxs-lookup"><span data-stu-id="748d3-186">This may take several minutes.</span></span>

<span data-ttu-id="748d3-187">Durante la distribuzione, si esaminerà che cosa si può fare con questa macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="748d3-187">While that's deploying, let's look at what we can do with this VM.</span></span>