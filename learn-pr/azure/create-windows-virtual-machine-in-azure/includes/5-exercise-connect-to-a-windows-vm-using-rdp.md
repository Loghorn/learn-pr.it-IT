<span data-ttu-id="bc04d-101">A questo punto la macchina virtuale Windows è stata distribuita ed è in esecuzione, ma non è configurata per eseguire alcuna operazione.</span><span class="sxs-lookup"><span data-stu-id="bc04d-101">We have our Windows VM deployed and running, but it's not configured to do any work.</span></span>

<span data-ttu-id="bc04d-102">È importante ricordare che questo scenario è un sistema di elaborazione video.</span><span class="sxs-lookup"><span data-stu-id="bc04d-102">Recall our scenario is a video processing system.</span></span> <span data-ttu-id="bc04d-103">La piattaforma riceve i file tramite FTP.</span><span class="sxs-lookup"><span data-stu-id="bc04d-103">Our platform receives files through FTP.</span></span> <span data-ttu-id="bc04d-104">Le telecamere del traffico caricano i clip video in un URL noto di cui è stato eseguito il mapping a una cartella nel server.</span><span class="sxs-lookup"><span data-stu-id="bc04d-104">The traffic cameras upload video clips to a known URL, which is mapped to a folder on the server.</span></span> <span data-ttu-id="bc04d-105">Il software personalizzato in ogni macchina virtuale Windows viene eseguito come servizio, controlla la cartella ed elabora ogni clip caricato.</span><span class="sxs-lookup"><span data-stu-id="bc04d-105">The custom software on each Windows VM runs as a service and watches the folder and processes each uploaded clip.</span></span> <span data-ttu-id="bc04d-106">Passa quindi il video normalizzato agli algoritmi in esecuzione in altri servizi di Azure.</span><span class="sxs-lookup"><span data-stu-id="bc04d-106">It then passes the normalized video to our algorithms running on other Azure services.</span></span>

<span data-ttu-id="bc04d-107">Sono necessarie alcune configurazioni per supportare questo scenario:</span><span class="sxs-lookup"><span data-stu-id="bc04d-107">There are a few things we would need to configure to support this scenario:</span></span>

- <span data-ttu-id="bc04d-108">Installare FTP e aprire le porte necessarie per comunicare.</span><span class="sxs-lookup"><span data-stu-id="bc04d-108">Install FTP and open the ports it needs to communicate.</span></span>
- <span data-ttu-id="bc04d-109">Installare il codec video proprietario univoco per il sistema di telecamere della città.</span><span class="sxs-lookup"><span data-stu-id="bc04d-109">Install the proprietary video codec unique to the city's camera system.</span></span>
- <span data-ttu-id="bc04d-110">Installare il servizio di transcodifica che elabora i video caricati.</span><span class="sxs-lookup"><span data-stu-id="bc04d-110">Install our transcoding service that processes uploaded videos.</span></span>

<span data-ttu-id="bc04d-111">Molte di queste sono tipiche attività amministrative che di fatto non verranno illustrate di seguito e quindi non richiedono software da installare.</span><span class="sxs-lookup"><span data-stu-id="bc04d-111">Many of these are typical administrative tasks we won't actually cover here, and we don't have software to install.</span></span> <span data-ttu-id="bc04d-112">Verrà invece descritta la procedura dettagliata per illustrare come è _possibile_ installare software personalizzato o di terze parti usando Desktop remoto.</span><span class="sxs-lookup"><span data-stu-id="bc04d-112">Instead, we will walk through the steps and show you how you _could_ install custom or third-party software using Remote Desktop.</span></span> <span data-ttu-id="bc04d-113">Si inizierà ottenendo le informazioni di connessione.</span><span class="sxs-lookup"><span data-stu-id="bc04d-113">Let's start by getting the connection information.</span></span>

## <a name="connect-to-the-vm-with-remote-desktop-protocol"></a><span data-ttu-id="bc04d-114">Connettersi alla macchina virtuale con Remote Desktop Protocol</span><span class="sxs-lookup"><span data-stu-id="bc04d-114">Connect to the VM with Remote Desktop Protocol</span></span>

<span data-ttu-id="bc04d-115">Per connettersi a una macchina virtuale di Azure con un client RDP, sono necessari:</span><span class="sxs-lookup"><span data-stu-id="bc04d-115">To connect to an Azure VM with an RDP client, you will need:</span></span>

- <span data-ttu-id="bc04d-116">L'indirizzo IP pubblico della macchina virtuale (o privato se la macchina virtuale è configurata per connettersi alla rete).</span><span class="sxs-lookup"><span data-stu-id="bc04d-116">The public IP address of the VM (or private if the VM is configured to connect to your network).</span></span>
- <span data-ttu-id="bc04d-117">Il numero della porta.</span><span class="sxs-lookup"><span data-stu-id="bc04d-117">The port number.</span></span>

<span data-ttu-id="bc04d-118">È possibile immettere queste informazioni nel client RDP o scaricare un file **RDP** preconfigurato.</span><span class="sxs-lookup"><span data-stu-id="bc04d-118">You can enter this information into the RDP client, or download a pre-configured **RDP** file.</span></span>

### <a name="download-the-rdp-file"></a><span data-ttu-id="bc04d-119">Scaricare il file RDP</span><span class="sxs-lookup"><span data-stu-id="bc04d-119">Download the RDP file</span></span>

1. <span data-ttu-id="bc04d-120">Nel [portale di Azure](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true) verificare che il pannello **Panoramica** per la macchina virtuale creata in precedenza sia aperto.</span><span class="sxs-lookup"><span data-stu-id="bc04d-120">In the [Azure portal](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true), ensure the **Overview** panel for the virtual machine that you created earlier is open.</span></span> <span data-ttu-id="bc04d-121">La macchina virtuale è disponibile in **Tutte le risorse** se è necessario aprirla.</span><span class="sxs-lookup"><span data-stu-id="bc04d-121">You can find the VM under **All Resources** if you need to open it.</span></span> <span data-ttu-id="bc04d-122">Il pannello di panoramica presenta numerose informazioni sulla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="bc04d-122">The overview panel has a lot of information about the VM.</span></span>

    - <span data-ttu-id="bc04d-123">È possibile vedere se la macchina virtuale è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="bc04d-123">You can see whether the VM is running.</span></span>
    - <span data-ttu-id="bc04d-124">Arrestarla o riavviarla.</span><span class="sxs-lookup"><span data-stu-id="bc04d-124">Stop or restart it.</span></span>
    - <span data-ttu-id="bc04d-125">Ottenere l'indirizzo IP pubblico per connettersi alla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="bc04d-125">Get the public IP address to connect to the VM.</span></span>
    - <span data-ttu-id="bc04d-126">Visualizzare l'attività di CPU, disco e rete.</span><span class="sxs-lookup"><span data-stu-id="bc04d-126">See the activity of the CPU, disk, and network.</span></span>

1. <span data-ttu-id="bc04d-127">Fare clic sul pulsante **Connetti** nella parte superiore del riquadro.</span><span class="sxs-lookup"><span data-stu-id="bc04d-127">Click the **Connect** button at the top of the pane.</span></span>

1. <span data-ttu-id="bc04d-128">Nel pannello **Connetti a macchina virtuale** prendere nota delle impostazioni **Indirizzo IP** e **Numero di porta**, quindi fare clic su **Scarica file RDP** e salvarlo nel computer.</span><span class="sxs-lookup"><span data-stu-id="bc04d-128">In the **Connect to virtual machine** blade, note the **IP address** and **Port number** settings, then click **Download RDP File** and save it to your computer.</span></span>

1. <span data-ttu-id="bc04d-129">Prima di connettersi, verranno modificate alcune impostazioni.</span><span class="sxs-lookup"><span data-stu-id="bc04d-129">Before we connect, let's adjust a few settings.</span></span> <span data-ttu-id="bc04d-130">In Windows trovare il file usando Esplora risorse, fare clic con il pulsante destro del mouse e scegliere **Modifica**.</span><span class="sxs-lookup"><span data-stu-id="bc04d-130">On Windows, find the file using Explorer, right-click and select **Edit**.</span></span> <span data-ttu-id="bc04d-131">In MacOS sarà necessario aprire prima il file con il client RDP e quindi fare clic con il pulsante destro del mouse sull'elemento nell'elenco visualizzato e scegliere **Modifica**.</span><span class="sxs-lookup"><span data-stu-id="bc04d-131">On MacOS you will need to open the file first with the RDP client and then right-click on the item in the displayed list and select **Edit**.</span></span>

1. <span data-ttu-id="bc04d-132">È possibile modificare diverse impostazioni per controllare l'esperienza di connessione alla macchina virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="bc04d-132">You can adjust a variety of settings to control the experience in connecting to the Azure VM.</span></span> <span data-ttu-id="bc04d-133">Le impostazioni che è possibile esaminare sono:</span><span class="sxs-lookup"><span data-stu-id="bc04d-133">The settings you will want to examine are:</span></span>

    - <span data-ttu-id="bc04d-134">**Visualizzazione**: Per impostazione predefinita sarà a schermo intero.</span><span class="sxs-lookup"><span data-stu-id="bc04d-134">**Display**: By default, it will be full screen.</span></span> <span data-ttu-id="bc04d-135">È possibile sostituirla con una risoluzione inferiore o usare tutti i monitor se ne è disponibile più di uno.</span><span class="sxs-lookup"><span data-stu-id="bc04d-135">You can change this to a lower resolution, or use all your monitors if you have more than one.</span></span>
    - <span data-ttu-id="bc04d-136">**Risorse locali**: è possibile condividere le unità locali con la macchina virtuale per poter copiare i file dal PC alla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="bc04d-136">**Local Resources**: You can share local drives with the VM - allowing you to copy files from your PC to the VM.</span></span> <span data-ttu-id="bc04d-137">Fare clic sul pulsante **Altro** in **Dispositivi e risorse locali** per selezionare gli elementi da condividere.</span><span class="sxs-lookup"><span data-stu-id="bc04d-137">Click the **More** button under **Local devices and resources** to select what is shared.</span></span>
    - <span data-ttu-id="bc04d-138">**Esperienza**: regolare l'esperienza visiva in base alla qualità della rete.</span><span class="sxs-lookup"><span data-stu-id="bc04d-138">**Experience**: Adjust the visual experience based on your network quality.</span></span>

1. <span data-ttu-id="bc04d-139">Condividere l'unità C: locale in modo che sia visibile alla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="bc04d-139">Share your Local C: drive so it will be visible to the VM.</span></span>

1. <span data-ttu-id="bc04d-140">Tornare alla scheda **Generale** e fare clic su **Salva** per salvare le modifiche.</span><span class="sxs-lookup"><span data-stu-id="bc04d-140">Switch back to the **General** tab and click **Save** to save the changes.</span></span> <span data-ttu-id="bc04d-141">È sempre possibile tornare indietro e modificare questo file in un secondo momento per provare altre impostazioni.</span><span class="sxs-lookup"><span data-stu-id="bc04d-141">You can always come back and edit this file later to try other settings.</span></span>

### <a name="connect-to-the-windows-vm"></a><span data-ttu-id="bc04d-142">Connettersi alla macchina virtuale Windows</span><span class="sxs-lookup"><span data-stu-id="bc04d-142">Connect to the Windows VM</span></span>

1. <span data-ttu-id="bc04d-143">Fare clic sul pulsante **Connetti** per avviare la connessione alla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="bc04d-143">Click the **Connect** button to start the connection to the VM.</span></span>

1. <span data-ttu-id="bc04d-144">Nella finestra di dialogo **Connessione Desktop remoto** prendere nota dell'avviso di sicurezza e dell'indirizzo IP del computer remoto, quindi fare clic su **Connetti**.</span><span class="sxs-lookup"><span data-stu-id="bc04d-144">In the **Remote Desktop Connection** dialog box, note the security warning and the remote computer IP address, then click **Connect**.</span></span>

1. <span data-ttu-id="bc04d-145">Nella finestra di dialogo **Sicurezza di Windows** immettere il nome utente e la password usati nei passaggi 6 e 7.</span><span class="sxs-lookup"><span data-stu-id="bc04d-145">In the **Windows Security** dialog box, enter your username and password that you used in steps 6 and 7.</span></span>

    > [!NOTE]
    > <span data-ttu-id="bc04d-146">Se si usa un client Windows per connettersi alla macchina virtuale, per impostazione predefinita verranno usate le identità note nel computer.</span><span class="sxs-lookup"><span data-stu-id="bc04d-146">If you are using a Windows client to connect to the VM, it will default to known identities on your machine.</span></span> <span data-ttu-id="bc04d-147">È possibile fare clic sull'opzione **Altre opzioni** e selezionare "Usa un account diverso" per poter immettere una combinazione diversa di nome utente/password.</span><span class="sxs-lookup"><span data-stu-id="bc04d-147">You can click the **More choices** option and select "Use a different account" to let you enter a different username/password combination.</span></span>

1. <span data-ttu-id="bc04d-148">Nella seconda finestra di dialogo **Connessione Desktop remoto** prendere nota degli errori di certificato e fare clic su **Sì**.</span><span class="sxs-lookup"><span data-stu-id="bc04d-148">In the second **Remote Desktop Connection** dialog box, note the certificate errors, then click **Yes**.</span></span>

### <a name="install-worker-roles"></a><span data-ttu-id="bc04d-149">Installare i ruoli di lavoro</span><span class="sxs-lookup"><span data-stu-id="bc04d-149">Install worker roles</span></span>

<span data-ttu-id="bc04d-150">La prima volta che ci si connette a una macchina virtuale Windows Server, verrà avviato Server Manager.</span><span class="sxs-lookup"><span data-stu-id="bc04d-150">The first time you connect to a Windows server VM, it will launch Server Manager.</span></span> <span data-ttu-id="bc04d-151">In questo modo è possibile assegnare un ruolo di lavoro per le attività di dati o Web comuni.</span><span class="sxs-lookup"><span data-stu-id="bc04d-151">This allows you to assign a worker role for common web or data tasks.</span></span> <span data-ttu-id="bc04d-152">È anche possibile avviare Server Manager tramite il menu Start.</span><span class="sxs-lookup"><span data-stu-id="bc04d-152">You can also launch the Server Manager through the Start Menu.</span></span>

<span data-ttu-id="bc04d-153">È a questo punto che si aggiungerebbe il ruolo del server Web al server.</span><span class="sxs-lookup"><span data-stu-id="bc04d-153">This is where we would add the Web Server role to the server.</span></span> <span data-ttu-id="bc04d-154">In questo modo verrebbe installato IIS e durante la configurazione si disattiverebbero le richieste HTTP e si abiliterebbe il server FTP.</span><span class="sxs-lookup"><span data-stu-id="bc04d-154">This will install IIS and as part of the configuration you would turn off HTTP requests and enable the FTP server.</span></span> <span data-ttu-id="bc04d-155">Si potrebbe anche possibile ignorare IIS e installare un server FTP di terze parti.</span><span class="sxs-lookup"><span data-stu-id="bc04d-155">Or, we could ignore IIS and install a third-party FTP server.</span></span> <span data-ttu-id="bc04d-156">Si configurerebbe quindi il server FTP per consentire l'accesso a una cartella nell'unità dei Big Data aggiunta alla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="bc04d-156">We'd then configure the FTP server to allow access to a folder on our big data drive we added to the VM.</span></span>

<span data-ttu-id="bc04d-157">Poiché questo server non verrà effettivamente configurato qui, chiudere Server Manager.</span><span class="sxs-lookup"><span data-stu-id="bc04d-157">Since we aren't going to actually configure that here, just close Server Manager.</span></span>

## <a name="install-custom-software"></a><span data-ttu-id="bc04d-158">Installare software personalizzato</span><span class="sxs-lookup"><span data-stu-id="bc04d-158">Install custom software</span></span>

<span data-ttu-id="bc04d-159">Esistono due approcci che è possibile usare per installare il software.</span><span class="sxs-lookup"><span data-stu-id="bc04d-159">We have two approaches we can use to install software.</span></span> <span data-ttu-id="bc04d-160">In primo luogo, questa macchina virtuale viene connessa a Internet.</span><span class="sxs-lookup"><span data-stu-id="bc04d-160">First, this VM is connected to the Internet.</span></span> <span data-ttu-id="bc04d-161">Se il software necessario include un programma di installazione scaricabile, è possibile aprire un Web browser nella sessione RDP, scaricare il software e installarlo.</span><span class="sxs-lookup"><span data-stu-id="bc04d-161">If the software you need has a downloadable installer, you can open a web browser in the RDP session, download the software, and install it.</span></span> <span data-ttu-id="bc04d-162">In secondo luogo, se il software è personalizzato, come il servizio usato, è possibile copiarlo dal computer locale nella macchina virtuale per installarlo.</span><span class="sxs-lookup"><span data-stu-id="bc04d-162">Second, if your software is custom - like our custom service, you can copy it from your local machine over to the VM to install it.</span></span> <span data-ttu-id="bc04d-163">Ora verrà esaminato questo secondo approccio.</span><span class="sxs-lookup"><span data-stu-id="bc04d-163">Let's look at this latter approach.</span></span>

1. <span data-ttu-id="bc04d-164">Aprire Esplora file.</span><span class="sxs-lookup"><span data-stu-id="bc04d-164">Open File Explorer.</span></span> <span data-ttu-id="bc04d-165">Fare clic su **Questo PC** nella barra laterale.</span><span class="sxs-lookup"><span data-stu-id="bc04d-165">Click on **This PC** in the sidebar.</span></span> <span data-ttu-id="bc04d-166">Verranno visualizzate più unità:</span><span class="sxs-lookup"><span data-stu-id="bc04d-166">You should see several drives:</span></span>

    - <span data-ttu-id="bc04d-167">Unità Windows (C:) che rappresenta il sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="bc04d-167">Windows (C:) drive representing the OS.</span></span>
    - <span data-ttu-id="bc04d-168">Unità di archiviazione temporanea (D:).</span><span class="sxs-lookup"><span data-stu-id="bc04d-168">Temporary Storage (D:) drive.</span></span>
    - <span data-ttu-id="bc04d-169">L'unità C: locale, che avrà un nome diverso da quello visualizzato sotto.</span><span class="sxs-lookup"><span data-stu-id="bc04d-169">Your local C: drive (it will have a different name than shown below).</span></span>

    ![Screenshot che mostra l'unità locale condivisa con la macchina virtuale di Azure.](../media/6-drive-list.png)

<span data-ttu-id="bc04d-171">Con l'accesso all'unità locale, è possibile copiare i file per il software personalizzato nella macchina virtuale e installare il software.</span><span class="sxs-lookup"><span data-stu-id="bc04d-171">With access to your local drive, you can copy the files for the custom software onto the VM and install the software.</span></span> <span data-ttu-id="bc04d-172">Questa operazione non verrà effettivamente eseguita perché si tratta solo di uno scenario simulato, ma si può immaginare come funzionerebbe.</span><span class="sxs-lookup"><span data-stu-id="bc04d-172">We won't actually do that since it's just a simulated scenario, but you can imagine how it would work.</span></span>

<span data-ttu-id="bc04d-173">L'aspetto più interessante da osservare nell'elenco delle unità è cosa _manca_.</span><span class="sxs-lookup"><span data-stu-id="bc04d-173">The more interesting thing to observe in the list of drives is what is _missing_.</span></span> <span data-ttu-id="bc04d-174">Si noti che l'unità **dati** non è presente.</span><span class="sxs-lookup"><span data-stu-id="bc04d-174">Notice that our **Data** drive is not present.</span></span> <span data-ttu-id="bc04d-175">Azure ha aggiunto un disco rigido virtuale, ma non l'ha inizializzato.</span><span class="sxs-lookup"><span data-stu-id="bc04d-175">Azure added a VHD but didn't initialize it.</span></span>

## <a name="initialize-data-disks"></a><span data-ttu-id="bc04d-176">Inizializzare i dischi dati</span><span class="sxs-lookup"><span data-stu-id="bc04d-176">Initialize data disks</span></span>

<span data-ttu-id="bc04d-177">Tutte le unità aggiuntive create da zero dovranno essere inizializzate e formattate.</span><span class="sxs-lookup"><span data-stu-id="bc04d-177">Any additional drives you create from scratch will need to be initialized and formatted.</span></span> <span data-ttu-id="bc04d-178">Il processo per eseguire questa operazione è identico a quello valido per un'unità fisica.</span><span class="sxs-lookup"><span data-stu-id="bc04d-178">The process for doing this is identical to a physical drive.</span></span>

1. <span data-ttu-id="bc04d-179">Avviare lo strumento **Gestione disco** dal menu Start.</span><span class="sxs-lookup"><span data-stu-id="bc04d-179">Launch the **Disk Management** tool from the Start Menu.</span></span> <span data-ttu-id="bc04d-180">Potrebbe essere necessario passare prima di tutto allo strumento Gestione computer e poi a Gestione disco oppure provare a cercare "Gestione disco" nel menu Start.</span><span class="sxs-lookup"><span data-stu-id="bc04d-180">You may have to go to the Computer Management tool first, then Disk Management, or try searching for "Disk Management" in the Start Menu.</span></span>

1. <span data-ttu-id="bc04d-181">Verrà visualizzato un avviso che informa che è stato rilevato un disco non inizializzato.</span><span class="sxs-lookup"><span data-stu-id="bc04d-181">It will display a warning that it has detected an uninitialized disk.</span></span>

    ![Screenshot che mostra l'avviso dello strumento Gestione disco su un disco dati non inizializzato nella macchina virtuale.](../media/6-disk-management.png)

1. <span data-ttu-id="bc04d-183">Fare clic su **OK** per inizializzare il disco.</span><span class="sxs-lookup"><span data-stu-id="bc04d-183">Click **OK** to initialize the disk.</span></span> <span data-ttu-id="bc04d-184">Verrà quindi visualizzato nell'elenco di volumi in cui è possibile formattarlo e assegnare una lettera di unità.</span><span class="sxs-lookup"><span data-stu-id="bc04d-184">It will then show up in the list of volumes where you can format it and assign a drive letter.</span></span>

1. <span data-ttu-id="bc04d-185">Aprire Esplora File. Ora l'unità dati è visualizzata.</span><span class="sxs-lookup"><span data-stu-id="bc04d-185">Open File Explorer and you should now see your data drive.</span></span>

1. <span data-ttu-id="bc04d-186">Proseguire e chiudere il client RDP per uscire dalla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="bc04d-186">Go ahead and close the RDP client to sign out of the VM.</span></span> <span data-ttu-id="bc04d-187">Il server continuerà a venire eseguito.</span><span class="sxs-lookup"><span data-stu-id="bc04d-187">The server will continue to run.</span></span>

<span data-ttu-id="bc04d-188">RDP consente di lavorare con la macchina virtuale di Azure come con un computer locale.</span><span class="sxs-lookup"><span data-stu-id="bc04d-188">RDP allows you to work with the Azure VM just like a local computer.</span></span> <span data-ttu-id="bc04d-189">Con l'accesso all'interfaccia utente del desktop, è possibile amministrare questa macchina virtuale come qualsiasi computer Windows: installare software, configurare ruoli, mettere a punto le funzionalità ed eseguire altre attività comuni.</span><span class="sxs-lookup"><span data-stu-id="bc04d-189">With Desktop UI access, you can administer this VM as you would any Windows computer: installing software, configuring roles, adjusting features and other common tasks.</span></span> <span data-ttu-id="bc04d-190">Si tratta tuttavia di processi manuali. Se è necessario installare sempre alcuni software, valutare la possibilità di automatizzare il processo tramite scripting.</span><span class="sxs-lookup"><span data-stu-id="bc04d-190">However, it's a manual process - if we always need to install some software, you might consider automating the process using scripting.</span></span>