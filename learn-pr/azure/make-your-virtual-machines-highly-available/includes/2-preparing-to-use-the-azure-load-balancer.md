<span data-ttu-id="a9c19-101">L'azienda vuole verificare se Azure Load Balancer supporta l'applicazione ERP (Enterprise Resource Planning).</span><span class="sxs-lookup"><span data-stu-id="a9c19-101">Your company wants to see if Azure Load Balancer will support your Enterprise Resource Planning (ERP) application.</span></span> <span data-ttu-id="a9c19-102">L'applicazione ha un'interfaccia Web per gli utenti e viene eseguita su più server.</span><span class="sxs-lookup"><span data-stu-id="a9c19-102">Your application has a web interface for users and runs on multiple web servers.</span></span> <span data-ttu-id="a9c19-103">Ogni server ha una copia locale del database ERP che viene sincronizzata su tutti i server.</span><span class="sxs-lookup"><span data-stu-id="a9c19-103">Each server has a local copy of the ERP database, which is synced across all servers.</span></span>

<span data-ttu-id="a9c19-104">Di seguito si esaminerà come un servizio di bilanciamento del carico può garantire la disponibilità elevata dei servizi.</span><span class="sxs-lookup"><span data-stu-id="a9c19-104">Here, you will look at how a load balancer can help provide high availability of services.</span></span> <span data-ttu-id="a9c19-105">Si identificherà la differenza tra le opzioni Basic e Standard del servizio di bilanciamento del carico e si osserverà come creare un servizio di bilanciamento del carico per Macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="a9c19-105">You will identify the difference between the basic and standard load balancer options and see how to create a load balancer for Azure Virtual Machines.</span></span>

## <a name="what-is-load-balancing"></a><span data-ttu-id="a9c19-106">Che cos'è il bilanciamento del carico?</span><span class="sxs-lookup"><span data-stu-id="a9c19-106">What is load balancing?</span></span>

<span data-ttu-id="a9c19-107">Il _bilanciamento del carico_ include varie tecniche per distribuire i carichi di lavoro, ad esempio di calcolo, di archiviazione e di rete, in più dispositivi.</span><span class="sxs-lookup"><span data-stu-id="a9c19-107">_Load balancing_ describes various techniques for distributing workloads across multiple devices, such as compute, storage, and networking devices.</span></span> <span data-ttu-id="a9c19-108">L'obiettivo del bilanciamento del carico è ottimizzare l'uso di più risorse, in modo da garantirne la massima efficienza in caso di aumento del numero di istanze nell'infrastruttura e da assicurare il mantenimento dei servizi se alcuni componenti risultano non disponibili.</span><span class="sxs-lookup"><span data-stu-id="a9c19-108">The goal of load balancing is to optimize the use of multiple resources, to make the most efficient use of these resources as an infrastructure is scaled out, and to ensure services are maintained if some components are unavailable.</span></span>

<span data-ttu-id="a9c19-109">Di seguito verrà esaminato il supporto del bilanciamento del carico offerto da Azure per le macchine virtuali (VM).</span><span class="sxs-lookup"><span data-stu-id="a9c19-109">Here, we'll look at Azure's load balancing support for virtual machines (VMs).</span></span>

### <a name="what-is-high-availability"></a><span data-ttu-id="a9c19-110">Che cos'è la disponibilità elevata?</span><span class="sxs-lookup"><span data-stu-id="a9c19-110">What is high availability?</span></span>

<span data-ttu-id="a9c19-111">La disponibilità elevata misura la capacità di un'applicazione o un servizio di rimanere accessibile nonostante un errore in qualsiasi componente del sistema.</span><span class="sxs-lookup"><span data-stu-id="a9c19-111">High availability (HA) measures the ability of an application or service to remain accessible despite a failure in any system component.</span></span> <span data-ttu-id="a9c19-112">Idealmente, non dovrebbe verificarsi alcuna perdita evidente di servizio.</span><span class="sxs-lookup"><span data-stu-id="a9c19-112">Ideally, there will not be any noticeable loss of service.</span></span>

<span data-ttu-id="a9c19-113">Il bilanciamento del carico è fondamentale per garantire la disponibilità elevata perché consente a più VM di fungere da pool di server.</span><span class="sxs-lookup"><span data-stu-id="a9c19-113">Load balancing is fundamental to the delivery of HA because it allows multiple VMs to act as a pool of servers.</span></span> <span data-ttu-id="a9c19-114">Il pool può continuare a gestire le richieste anche se alcune VM si arrestano in modo anomalo o vengono portate offline a scopo di manutenzione.</span><span class="sxs-lookup"><span data-stu-id="a9c19-114">The pool can continue to service requests even if some VMs crash or are taken offline for maintenance.</span></span>

## <a name="what-is-azure-load-balancer"></a><span data-ttu-id="a9c19-115">Che cos'è Azure Load Balancer?</span><span class="sxs-lookup"><span data-stu-id="a9c19-115">What is Azure Load Balancer?</span></span>

<span data-ttu-id="a9c19-116">**Azure Load Balancer** è un servizio di Azure che distribuisce le richieste in ingresso tra più VM di un pool.</span><span class="sxs-lookup"><span data-stu-id="a9c19-116">**Azure Load Balancer** is an Azure service that distributes incoming requests across multiple VMs in a pool.</span></span> <span data-ttu-id="a9c19-117">Distribuisce il traffico di rete in ingresso tra un set di VM integre evitando le VM che non possono rispondere.</span><span class="sxs-lookup"><span data-stu-id="a9c19-117">It distributes incoming network traffic across a set of healthy VMs and avoids any VM that is not able to respond.</span></span>

 <span data-ttu-id="a9c19-118">Azure Load Balancer opera al livello 4 (TCP, UDP) del modello a 7 livelli OSI.</span><span class="sxs-lookup"><span data-stu-id="a9c19-118">Azure Load Balancer operates at Layer-4 (TCP, UDP) of the OSI 7-layer model.</span></span> <span data-ttu-id="a9c19-119">Può essere configurato per supportare scenari di applicazione TCP e UDP con traffico in ingresso verso VM di Azure nonché scenari in uscita in cui altri servizi di Azure passano traffico TCP e UDP a endpoint esterni tramite VM di Azure.</span><span class="sxs-lookup"><span data-stu-id="a9c19-119">It can be configured to support TCP and UDP application scenarios where the traffic is inbound to Azure VMs, as well as outbound scenarios where other Azure services are passing TCP and UDP traffic out through Azure VMs to external endpoints.</span></span>

#### <a name="what-is-a-load-balancer"></a><span data-ttu-id="a9c19-120">Che cos'è un servizio di bilanciamento del carico?</span><span class="sxs-lookup"><span data-stu-id="a9c19-120">What is a Load Balancer?</span></span>

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE2yBWo]

## <a name="public-vs-internal-load-balancers"></a><span data-ttu-id="a9c19-121">Servizi di bilanciamento del carico pubblici e interni</span><span class="sxs-lookup"><span data-stu-id="a9c19-121">Public vs. internal load balancers</span></span>

<span data-ttu-id="a9c19-122">Un'istanza di Azure Load Balancer può essere _pubblica_ o _interna_ a seconda dell'origine delle richieste in ingresso.</span><span class="sxs-lookup"><span data-stu-id="a9c19-122">An Azure Load Balancer can be either _public_ or _internal_ depending on the source of incoming requests.</span></span>

<span data-ttu-id="a9c19-123">Un **servizio di bilanciamento del carico pubblico** gestisce le richieste client provenienti dall'esterno dell'infrastruttura di Azure.</span><span class="sxs-lookup"><span data-stu-id="a9c19-123">A **public load balancer** handles client requests from outside the Azure infrastructure.</span></span> <span data-ttu-id="a9c19-124">L'indirizzo IP pubblico viene assegnato al servizio di bilanciamento del carico e instrada le richieste in ingresso a un set di risorse presenti in una rete virtuale privata.</span><span class="sxs-lookup"><span data-stu-id="a9c19-124">The public IP address is assigned to the load balancer and it routes the inbound requests to a set of resources that are on a private virtual network.</span></span> <span data-ttu-id="a9c19-125">Questo approccio viene solitamente adottato per garantire la disponibilità elevata dei server Web.</span><span class="sxs-lookup"><span data-stu-id="a9c19-125">This approach is commonly used for making web servers highly available.</span></span> <span data-ttu-id="a9c19-126">La figura seguente illustra un servizio di bilanciamento del carico pubblico.</span><span class="sxs-lookup"><span data-stu-id="a9c19-126">The following illustration shows a public load balancer.</span></span>

![Figura con un servizio di bilanciamento del carico pubblico che distribuisce le richieste client da Internet a tre VM in una rete virtuale.](../media/2-public-load-balancer.png)

<span data-ttu-id="a9c19-128">Un **servizio di bilanciamento del carico interno** elabora le richieste provenienti dall'interno di una rete virtuale o tramite una VPN.</span><span class="sxs-lookup"><span data-stu-id="a9c19-128">An **internal load balancer** processes requests from within a virtual network (or through a VPN).</span></span> <span data-ttu-id="a9c19-129">Distribuisce le richieste alle risorse all'interno della rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="a9c19-129">It distributes requests to resources within that virtual network.</span></span> <span data-ttu-id="a9c19-130">Il servizio di bilanciamento del carico, gli indirizzi IP front-end e le reti virtuali non sono direttamente accessibili da Internet.</span><span class="sxs-lookup"><span data-stu-id="a9c19-130">The load balancer, front-end IP addresses, and virtual networks are not directly accessible from the Internet.</span></span> <span data-ttu-id="a9c19-131">La figura seguente illustra un'architettura contenente sia un servizio di bilanciamento del carico pubblico che uno interno.</span><span class="sxs-lookup"><span data-stu-id="a9c19-131">The following illustration shows an architecture containing both a public and internal load balancer.</span></span> <span data-ttu-id="a9c19-132">Il servizio di bilanciamento del carico pubblico gestisce le richieste esterne, mentre quello interno inoltra le richieste alle VM e ai database interni per l'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="a9c19-132">The public load balancer handles external requests while the internal load balancer forwards the requests to the internal VMs and databases for processing.</span></span>

![Figura con un servizio di bilanciamento del carico pubblico che inoltra le richieste client a un servizio di bilanciamento del carico interno.](../media/2-internal-load-balancer.png)

## <a name="how-does-azure-load-balancer-work"></a><span data-ttu-id="a9c19-136">Come funziona Azure Load Balancer?</span><span class="sxs-lookup"><span data-stu-id="a9c19-136">How does Azure Load Balancer work?</span></span>

<span data-ttu-id="a9c19-137">Azure Load Balancer usa le informazioni configurate nelle _regole_ e nei _probe di integrità_ per determinare come il traffico in ingresso ricevuto nel _front-end_ di Load Balancer viene distribuito alle istanze di VM di un _pool di indirizzi back-end_.</span><span class="sxs-lookup"><span data-stu-id="a9c19-137">Azure Load Balancer uses information configured in _rules_ and _health probes_ to determine how inbound traffic that is received on the load balancer _front end_ is distributed to VM instances in a _backend address pool_.</span></span> <span data-ttu-id="a9c19-138">Di seguito sono descritti i singoli componenti.</span><span class="sxs-lookup"><span data-stu-id="a9c19-138">Let's examine each of these components.</span></span>

### <a name="what-is-the-load-balancer-front-end"></a><span data-ttu-id="a9c19-139">Che cos'è il front-end del servizio di bilanciamento del carico?</span><span class="sxs-lookup"><span data-stu-id="a9c19-139">What is the load balancer front end?</span></span>

<span data-ttu-id="a9c19-140">Il front-end del servizio di bilanciamento del carico è una configurazione IP contenente uno o più indirizzi IP pubblici che consente l'accesso al servizio e alle relative applicazioni tramite Internet.</span><span class="sxs-lookup"><span data-stu-id="a9c19-140">The load balancer front end is an IP configuration, containing one or more public IP addresses, that enables access to the load balancer and its applications over the Internet.</span></span>

### <a name="what-is-the-backend-address-pool"></a><span data-ttu-id="a9c19-141">Che cos'è il pool di indirizzi back-end?</span><span class="sxs-lookup"><span data-stu-id="a9c19-141">What is the backend address pool?</span></span>

<span data-ttu-id="a9c19-142">Le macchine virtuali si connettono a un servizio di bilanciamento del carico tramite la scheda di interfaccia di rete virtuale (vNIC).</span><span class="sxs-lookup"><span data-stu-id="a9c19-142">Virtual machines connect to a load balancer using their virtual network interface (vNIC).</span></span> <span data-ttu-id="a9c19-143">Il pool di indirizzi back-end contiene gli indirizzi IP delle schede di interfaccia di rete virtuali connesse al servizio di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="a9c19-143">The backend address pool contains the IP addresses of the vNICs that are connected to the load balancer.</span></span> <span data-ttu-id="a9c19-144">Se si inseriscono tutte le VM in un set di disponibilità, è possibile usare il set per aggiungere facilmente le VM al pool back-end durante la configurazione del servizio di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="a9c19-144">If you place all your VMs in an availability set, you can use this to easily add your VMs to a backend pool when you're configuring the load balancer.</span></span>

### <a name="what-is-a-health-probe"></a><span data-ttu-id="a9c19-145">Che cos'è un probe di integrità?</span><span class="sxs-lookup"><span data-stu-id="a9c19-145">What is a health probe?</span></span>

<span data-ttu-id="a9c19-146">I servizi di bilanciamento del carico usano i _probe di integrità_ per determinare quali macchine virtuali possono gestire le richieste.</span><span class="sxs-lookup"><span data-stu-id="a9c19-146">Load balancers use _health probes_ to determine which virtual machines can service requests.</span></span> <span data-ttu-id="a9c19-147">Il servizio di bilanciamento del carico distribuirà il traffico solo alle VM disponibili e operative.</span><span class="sxs-lookup"><span data-stu-id="a9c19-147">The load balancer will only distribute traffic to VMs that are available and operational.</span></span>

<span data-ttu-id="a9c19-148">Un probe di integrità monitora porte specifiche in ogni VM.</span><span class="sxs-lookup"><span data-stu-id="a9c19-148">A health probe monitors specific ports on each VM.</span></span> <span data-ttu-id="a9c19-149">È possibile definire il tipo di risposta corrispondente all'integrità. Da un'applicazione Web, ad esempio, si può richiedere una risposta `HTTP 200 Available`.</span><span class="sxs-lookup"><span data-stu-id="a9c19-149">You can define what type of response corresponds to "health"; for example, you might require an `HTTP 200 Available` response from a web application.</span></span> <span data-ttu-id="a9c19-150">Per impostazione predefinita, una VM verrà contrassegnata come non disponibile dopo due errori consecutivi a intervalli di 15 secondi.</span><span class="sxs-lookup"><span data-stu-id="a9c19-150">By default, a VM will be marked as "unavailable" after two consecutive failures at 15-second intervals.</span></span>

### <a name="load-balancer-rules"></a><span data-ttu-id="a9c19-151">Regole del servizio di bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="a9c19-151">Load balancer rules</span></span>

<span data-ttu-id="a9c19-152">Le _regole_ del servizio di bilanciamento del carico definiscono come verrà distribuito il traffico alle VM back-end.</span><span class="sxs-lookup"><span data-stu-id="a9c19-152">Load balancer _rules_ define how traffic is distributed to backend VMs.</span></span> <span data-ttu-id="a9c19-153">L'obiettivo è distribuire equamente le richieste tra le VM integre del pool back-end.</span><span class="sxs-lookup"><span data-stu-id="a9c19-153">The goal is to distribute requests fairly across the healthy VMs in the backend pool.</span></span>

<span data-ttu-id="a9c19-154">Azure Load Balancer usa un algoritmo basato su hash per riscrivere le intestazioni dei pacchetti in ingresso.</span><span class="sxs-lookup"><span data-stu-id="a9c19-154">Azure Load Balancer uses a hash-based algorithm to rewrite the headers of inbound packets.</span></span> <span data-ttu-id="a9c19-155">Per impostazione predefinita, Load Balancer crea un hash da:</span><span class="sxs-lookup"><span data-stu-id="a9c19-155">By default, Load Balancer creates a hash from:</span></span>

- <span data-ttu-id="a9c19-156">Indirizzo IP di origine</span><span class="sxs-lookup"><span data-stu-id="a9c19-156">Source IP address</span></span>
- <span data-ttu-id="a9c19-157">Porta di origine</span><span class="sxs-lookup"><span data-stu-id="a9c19-157">Source port</span></span>
- <span data-ttu-id="a9c19-158">Indirizzo IP di destinazione</span><span class="sxs-lookup"><span data-stu-id="a9c19-158">Destination IP address</span></span>
- <span data-ttu-id="a9c19-159">Porta di destinazione</span><span class="sxs-lookup"><span data-stu-id="a9c19-159">Destination port</span></span>
- <span data-ttu-id="a9c19-160">Numero di protocollo IP</span><span class="sxs-lookup"><span data-stu-id="a9c19-160">IP protocol number</span></span>

<span data-ttu-id="a9c19-161">Questo meccanismo garantisce che tutti i pacchetti in un flusso client di pacchetti vengano inviati alla stessa istanza di VM back-end.</span><span class="sxs-lookup"><span data-stu-id="a9c19-161">This mechanism ensures that all packets within a packet client flow are sent to the same backend VM instance.</span></span> <span data-ttu-id="a9c19-162">Un nuovo flusso da un client userà una diversa porta di origine allocata in modo casuale.</span><span class="sxs-lookup"><span data-stu-id="a9c19-162">A new flow from a client will use a different randomly allocated source port.</span></span> <span data-ttu-id="a9c19-163">Ciò significa che verrà modificato l'hash e il servizio di bilanciamento del carico può inviare il flusso a un endpoint back-end diverso.</span><span class="sxs-lookup"><span data-stu-id="a9c19-163">This means that the hash will change, and the load balancer may send this flow to a different backend endpoint.</span></span>

## <a name="basic-vs-standard-load-balancer-skus"></a><span data-ttu-id="a9c19-164">SKU Basic e Standard di Load Balancer</span><span class="sxs-lookup"><span data-stu-id="a9c19-164">Basic vs. Standard Load Balancer SKUs</span></span>

<span data-ttu-id="a9c19-165">Sono disponibili due versioni di Azure Load Balancer: **Basic** e **Standard**,</span><span class="sxs-lookup"><span data-stu-id="a9c19-165">There are two versions of Azure Load Balancer: **Basic** and **Standard**.</span></span> <span data-ttu-id="a9c19-166">con differenze di scalabilità, funzionalità e prezzo.</span><span class="sxs-lookup"><span data-stu-id="a9c19-166">They differ in scale, features, and pricing.</span></span> <span data-ttu-id="a9c19-167">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="a9c19-167">For example:</span></span>

- <span data-ttu-id="a9c19-168">La versione Standard supporta il routing del traffico protetto tramite HTTPS.</span><span class="sxs-lookup"><span data-stu-id="a9c19-168">Standard supports secure traffic routing over HTTPS.</span></span>
- <span data-ttu-id="a9c19-169">La dimensione dei pool back-end può essere maggiore nella versione Standard (1000 nello SKU Standard e 100 nello SKU Basic).</span><span class="sxs-lookup"><span data-stu-id="a9c19-169">Backend pool size can be much larger in Standard (1000 vs. 100 in the Basic SKU).</span></span>
- <span data-ttu-id="a9c19-170">Il traffico può essere indirizzato a un pool di endpoint più grande, che include diversi set di scalabilità, set di disponibilità e macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="a9c19-170">Traffic can be directed to a larger pool of endpoints, including blends of scale sets, availability sets, and VMs.</span></span> <span data-ttu-id="a9c19-171">Lo SKU Basic è limitato a un singolo set di disponibilità, set di scalabilità o macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="a9c19-171">The Basic SKU  is restricted to a single availability set, scale set, or VM.</span></span>
- <span data-ttu-id="a9c19-172">Il supporto delle porte a disponibilità elevata consente di bilanciare il carico di flussi TCP e UDP in tutte le porte simultaneamente quando viene usato come servizio di bilanciamento del carico interno.</span><span class="sxs-lookup"><span data-stu-id="a9c19-172">Support for High Availability (HA) ports to load-balance TCP and UDP flows on all ports simultaneously when you're using it as an internal load balancer.</span></span>
- <span data-ttu-id="a9c19-173">Lo SKU Basic è gratuito, mentre lo SKU Standard comporta l'addebito di costi in base alle regole e alla velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="a9c19-173">Basic is no-cost, while Standard is charged based on rules and throughput.</span></span>

<span data-ttu-id="a9c19-174">Poiché lo SKU Standard è una versione avanzata dello SKU Basic, qualsiasi scenario idoneo alla versione Basic funzionerà anche nella versione Standard.</span><span class="sxs-lookup"><span data-stu-id="a9c19-174">Standard is a superset of Basic, so any scenario suitable for Basic should also work on Standard.</span></span> <span data-ttu-id="a9c19-175">Lo SKU Basic viene in genere usato per prototipi e test, mentre lo SKU Standard è consigliato per la produzione.</span><span class="sxs-lookup"><span data-stu-id="a9c19-175">The Basic SKU is generally intended for prototyping and testing while Standard is recommended for production.</span></span>

## <a name="start-the-deployment-of-a-basic-public-load-balancer"></a><span data-ttu-id="a9c19-176">Avviare la distribuzione di un servizio di bilanciamento del carico pubblico Basic</span><span class="sxs-lookup"><span data-stu-id="a9c19-176">Start the deployment of a basic public load balancer</span></span>

<span data-ttu-id="a9c19-177">Per creare un sistema di VM con carico bilanciato, è necessario creare il servizio di bilanciamento del carico e una rete virtuale che conterrà le macchine virtuali e quindi aggiungere le VM alla rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="a9c19-177">To create a load-balanced VM system, you need to create the load balancer itself, create a virtual network to contain your virtual machines, and then add VMs to the virtual network.</span></span>

<span data-ttu-id="a9c19-178">Per creare il servizio di bilanciamento del carico con il portale di Azure, si definiscono gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="a9c19-178">To create the load balancer using the Azure portal, you define the following:</span></span>

- <span data-ttu-id="a9c19-179">Nome del servizio di bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="a9c19-179">Load balancer name</span></span>
- <span data-ttu-id="a9c19-180">Tipo: pubblico o interno</span><span class="sxs-lookup"><span data-stu-id="a9c19-180">Type: public or internal</span></span>
- <span data-ttu-id="a9c19-181">SKU: Basic o Standard</span><span class="sxs-lookup"><span data-stu-id="a9c19-181">SKU: Basic or Standard</span></span>
- <span data-ttu-id="a9c19-182">Indirizzo IP pubblico: dinamico o statico</span><span class="sxs-lookup"><span data-stu-id="a9c19-182">Public IP address: dynamic or static</span></span>
- <span data-ttu-id="a9c19-183">Gruppo di risorse e località</span><span class="sxs-lookup"><span data-stu-id="a9c19-183">Resource group and location</span></span>

<span data-ttu-id="a9c19-184">Poiché le VM back-end verranno tutte connesse alla stessa rete virtuale, è necessario configurare le risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="a9c19-184">Your backend VMs will all be connected to the same virtual network, so you need to configure this resource next:</span></span>

- <span data-ttu-id="a9c19-185">Nome della rete virtuale</span><span class="sxs-lookup"><span data-stu-id="a9c19-185">Virtual network name</span></span>
- <span data-ttu-id="a9c19-186">Spazio indirizzi da usare, ad esempio 172.20.0.0/16</span><span class="sxs-lookup"><span data-stu-id="a9c19-186">Address space to use, such as 172.20.0.0/16</span></span>
- <span data-ttu-id="a9c19-187">Gruppo di risorse</span><span class="sxs-lookup"><span data-stu-id="a9c19-187">Resource group</span></span>
- <span data-ttu-id="a9c19-188">Nome della subnet da usare</span><span class="sxs-lookup"><span data-stu-id="a9c19-188">Name for the subnet to use</span></span>
- <span data-ttu-id="a9c19-189">Spazio indirizzi della subnet (che deve essere incluso nello spazio principale), ad esempio 172.20.0.0/24</span><span class="sxs-lookup"><span data-stu-id="a9c19-189">Address space for the subnet (must be within the main space), such as 172.20.0.0/24</span></span>

<span data-ttu-id="a9c19-190">Poiché si prevede un traffico in ingresso, è necessario creare regole di sicurezza di rete usando un gruppo di sicurezza di rete (NSG).</span><span class="sxs-lookup"><span data-stu-id="a9c19-190">Since we expect inbound traffic, we'll have to create some network security rules using a network security group (NSG).</span></span> <span data-ttu-id="a9c19-191">In questo caso, è opportuno aprire la porta 80 per il traffico HTTP.</span><span class="sxs-lookup"><span data-stu-id="a9c19-191">In this case, we'll want to open port 80 for HTTP traffic.</span></span>

<span data-ttu-id="a9c19-192">Infine, è necessario creare e distribuire le macchine virtuali e configurarle per l'uso della rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="a9c19-192">Finally, we then need to create and deploy the virtual machines and configure them to use your virtual network.</span></span> <span data-ttu-id="a9c19-193">Viene anche creato un set di disponibilità per raggrupparle insieme.</span><span class="sxs-lookup"><span data-stu-id="a9c19-193">We will also create an availability set to group them together.</span></span> <span data-ttu-id="a9c19-194">I set di disponibilità definiscono il livello di tolleranza di errore in un gruppo di VM, ma per il bilanciamento del carico facilitano anche l'assegnazione delle VM ai pool back-end.</span><span class="sxs-lookup"><span data-stu-id="a9c19-194">Availability sets define the level of fault tolerance across a group of VMs, but for load balancing, they also help you assign your VMs to backend pools.</span></span>

<span data-ttu-id="a9c19-195">È stato illustrato come usare Azure Load Balancer nell'ambito di una soluzione a disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="a9c19-195">You have now seen how to use Azure Load Balancer as part of a high-availability solution.</span></span> <span data-ttu-id="a9c19-196">Successivamente, questi passaggi verranno usati per distribuire il servizio di bilanciamento del carico personalizzato.</span><span class="sxs-lookup"><span data-stu-id="a9c19-196">Next, you will use these steps to deploy your own load balancer.</span></span>