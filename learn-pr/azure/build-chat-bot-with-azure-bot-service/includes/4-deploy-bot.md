[!INCLUDE [0-vm-note](0-vm-note.md)]

<span data-ttu-id="2afb4-101">Quando è stato creato un bot dell'app Web di Azure, è stata distribuita un'app Web di Azure per ospitarlo.</span><span class="sxs-lookup"><span data-stu-id="2afb4-101">When you created an Azure web app bot, an Azure web app was deployed to host it.</span></span> <span data-ttu-id="2afb4-102">Il bot tuttavia richiede del codice e in seguito deve essere distribuito all'app Web di Azure.</span><span class="sxs-lookup"><span data-stu-id="2afb4-102">But the bot does require some code, and it still needs to be deployed to the Azure web app.</span></span> <span data-ttu-id="2afb4-103">Fortunatamente, il codice è stato generato automaticamente dal servizio Azure Bot.</span><span class="sxs-lookup"><span data-stu-id="2afb4-103">Fortunately, the code was generated for you by the Azure Bot Service.</span></span> <span data-ttu-id="2afb4-104">In questa unità si userà Visual Studio Code per inserire il codice in un repository Git locale e pubblicare il bot in Azure eseguendo il push delle modifiche dal repository locale in un repository remoto connesso all'app Web di Azure che ospita il bot, un processo noto come [integrazione continua](https://wikipedia.org/wiki/Continuous_integration).</span><span class="sxs-lookup"><span data-stu-id="2afb4-104">In this unit, you will use Visual Studio Code to place the code in a local Git repository and publish the bot to Azure by pushing changes from the local repository to a remote repository connected to the Azure web app that hosts the bot — a process known as [continuous integration](https://wikipedia.org/wiki/Continuous_integration).</span></span>

1. <span data-ttu-id="2afb4-105">Creare una cartella denominata "Factbot" per il codice sorgente del bot in un percorso a scelta del disco rigido.</span><span class="sxs-lookup"><span data-stu-id="2afb4-105">Create a folder named "Factbot" in the location of your choice on your hard disk to hold the bot's source code.</span></span>

1. <span data-ttu-id="2afb4-106">Tornare al portale di Azure nel browser della macchina virtuale e aprire il gruppo di risorse creato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="2afb4-106">Return to the Azure portal in the VM browser and open the pre-created exercise resource group.</span></span> <span data-ttu-id="2afb4-107">In seguito selezionare il bot dell'app Web creato nell'esercizio precedente.</span><span class="sxs-lookup"><span data-stu-id="2afb4-107">Then, select the Web App Bot you created in the prior exercise.</span></span>

1. <span data-ttu-id="2afb4-108">Selezionare **Compila** nel menu a sinistra, quindi selezionare **Download Bot source code** (Scarica codice sorgente bot) per preparare un file con estensione zip contenente il codice sorgente del bot.</span><span class="sxs-lookup"><span data-stu-id="2afb4-108">Select **Build** in the menu on the left, then select **Download Bot source code** to prepare a zip file containing the bot's source code.</span></span> <span data-ttu-id="2afb4-109">Dopo aver preparato il file con estensione zip, selezionare il pulsante **Download Bot source code** (Scarica codice sorgente bot) per scaricarlo.</span><span class="sxs-lookup"><span data-stu-id="2afb4-109">Once the zip file is prepared, select the **Download Bot source code** button to download it.</span></span> <span data-ttu-id="2afb4-110">Al termine del download, estrarre il contenuto del file ZIP nella cartella "Factbot" creata precedentemente.</span><span class="sxs-lookup"><span data-stu-id="2afb4-110">When the download is complete, extract the contents of the zip file to the "Factbot" folder that you created earlier.</span></span>

1. <span data-ttu-id="2afb4-111">Tornare al pannello di compilazione dell'app Web del bot nel portale di Azure e selezionare **Configure continuous deployment** (Configura distribuzione continua).</span><span class="sxs-lookup"><span data-stu-id="2afb4-111">Back in the Web App Bot's Build blade in the Azure portal, select **Configure continuous deployment**.</span></span>

1. <span data-ttu-id="2afb4-112">Selezionare **Configura** nella parte superiore del pannello **Distribuzioni** e quindi su **Scegliere l'origine**.</span><span class="sxs-lookup"><span data-stu-id="2afb4-112">Select **Setup** at the top of the **Deployments** blade, followed by **Choose Source**.</span></span>

1. <span data-ttu-id="2afb4-113">Selezionare **Archivio Git locale** come origine della distribuzione.</span><span class="sxs-lookup"><span data-stu-id="2afb4-113">Then, select **Local Git Repository** as the deployment source.</span></span>

1. <span data-ttu-id="2afb4-114">Successivamente, selezionare **Configura connessione** e immettere nome utente e password.</span><span class="sxs-lookup"><span data-stu-id="2afb4-114">Next, select **Setup connection** and enter a username and password.</span></span> <span data-ttu-id="2afb4-115">Probabilmente si dovrà immettere un nome utente diverso da "FactbotAdministrator", perché il nome deve essere univoco all'interno di Azure.</span><span class="sxs-lookup"><span data-stu-id="2afb4-115">You will probably have to enter a user name other than "FactbotAdministrator" because the name must be unique within Azure.</span></span> <span data-ttu-id="2afb4-116">In seguito, selezionare **OK** per tornare al pannello **Opzione di distribuzione** e selezionare nuovamente **OK** per tornare al pannello **Distribuzioni**.</span><span class="sxs-lookup"><span data-stu-id="2afb4-116">Then, select **OK** to return to the **Deployment option** blade and **OK** again to return to the **Deployments** blade.</span></span>

    ![Screenshot del portale di Azure che include il pannello del servizio app per il nuovo bot con la schermata delle credenziali di distribuzione con la voce di menu Credenziali distribuzione e il pulsante Salva evidenziati.](../media/4-portal-enter-ci-creds.png)

1. <span data-ttu-id="2afb4-118">Mentre il sistema di distribuzione esegue il provisioning, chiudere il pannello **Distribuzioni** e selezionare **All App service settings** (Tutte le impostazioni servizio app) nel menu a sinistra.</span><span class="sxs-lookup"><span data-stu-id="2afb4-118">While the deployment system is provisioning, close the **Deployments** blade, and select **All App service settings** in the menu on the left.</span></span>

1. <span data-ttu-id="2afb4-119">Avviare **Visual Studio Code** e usare il comando **File** > **Apri cartella** per aprire la cartella "Factbot" in cui è stato copiato il codice sorgente del bot.</span><span class="sxs-lookup"><span data-stu-id="2afb4-119">Start **Visual Studio Code**, and use the **File** > **Open Folder...** command to open the "Factbot" folder where you copied the bot's source code.</span></span>

1. <span data-ttu-id="2afb4-120">Selezionare il pulsante **Controllo codice sorgente** sulla barra delle attività a sinistra di Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="2afb4-120">Select the **Source Control** button in the activity bar on the left side of Visual Studio Code.</span></span>

1. <span data-ttu-id="2afb4-121">Selezionare l'icona **Inizializza repository** nella parte superiore.</span><span class="sxs-lookup"><span data-stu-id="2afb4-121">Select the **Initialize Repository** icon at the top.</span></span>

1. <span data-ttu-id="2afb4-122">Selezionare il pulsante **Inizializza repository** nella finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="2afb4-122">Select the **Initialize Repository** button in the dialog.</span></span>

1. <span data-ttu-id="2afb4-123">Digitare "First commit."</span><span class="sxs-lookup"><span data-stu-id="2afb4-123">Type "First commit."</span></span> <span data-ttu-id="2afb4-124">nella finestra di messaggio.</span><span class="sxs-lookup"><span data-stu-id="2afb4-124">into the message box.</span></span>

1. <span data-ttu-id="2afb4-125">Selezionare il segno di spunta per eseguire il commit delle modifiche, eseguendo un'installazione di appoggio di tutti i file quando viene richiesto.</span><span class="sxs-lookup"><span data-stu-id="2afb4-125">Select the check mark to commit your changes, staging all the files when prompted.</span></span>

    > [!NOTE]
    > <span data-ttu-id="2afb4-126">Se si verifica un errore di Git perché non è stata individuata un'identità impostata in Git, avviare un prompt dei comandi ed eseguire i comandi seguenti, sostituendo i valori segnaposto per l'indirizzo di posta elettronica e il nome, se si vuole.</span><span class="sxs-lookup"><span data-stu-id="2afb4-126">If you get a Git error about not having your identity set in Git, launch a Command Prompt and run the following commands, replacing the placeholder email and name values if you wish.</span></span> <span data-ttu-id="2afb4-127">In seguito, tentare di eseguire di nuovo il commit.</span><span class="sxs-lookup"><span data-stu-id="2afb4-127">Then retry the commit button.</span></span>
    >
    > ```bash
    > git config --global user.email "Lab User"
    > git config --global user.name "LabUser#######@learn"
    > ```

1. <span data-ttu-id="2afb4-128">Selezionare **Terminale** dal menu **Visualizza** di Visual Studio Code per aprire un terminale integrato.</span><span class="sxs-lookup"><span data-stu-id="2afb4-128">Select **Terminal** from Visual Studio Code's **View** menu to open an integrated terminal.</span></span>

1. <span data-ttu-id="2afb4-129">Eseguire il comando seguente nel terminale integrato, sostituendo BOT_NAME nei due punti seguenti con il nome del bot immesso nell'Esercizio 1.</span><span class="sxs-lookup"><span data-stu-id="2afb4-129">Execute the following command in the integrated terminal, replacing BOT_NAME in the following two places with the bot name you entered in Exercise 1.</span></span>

    > [!NOTE]
    > <span data-ttu-id="2afb4-130">L'URL remoto completo di Git è disponibile anche nella sezione **Panoramica** della risorsa del servizio app sotto **URL clone GIT**.</span><span class="sxs-lookup"><span data-stu-id="2afb4-130">The full Git remote URL can also be found in the App Service resource's **Overview** section under **Git clone url**.</span></span>

    ```bash
    git remote add qna-factbot https://BOT_NAME.scm.azurewebsites.net:443/BOT_NAME.git
    ```

1. <span data-ttu-id="2afb4-131">Tornare al pannello **Controllo codice sorgente**, selezionare i puntini di sospensione nella parte superiore del pannello e quindi **Pubblica ramo** dal menu per eseguire il push del codice del bot dal repository locale ad Azure.</span><span class="sxs-lookup"><span data-stu-id="2afb4-131">Return to the **Source Control** panel and select the ellipsis (the three dots) at the top of the SOURCE CONTROL panel, and select **Publish Branch** from the menu to push the bot code from the local repository to Azure.</span></span> <span data-ttu-id="2afb4-132">Se vengono richieste le credenziali, immettere il nome utente e la password specificati al passaggio 9 di questo esercizio.</span><span class="sxs-lookup"><span data-stu-id="2afb4-132">If prompted for credentials, enter the username and password you specified in Step 9 of this exercise.</span></span>

<span data-ttu-id="2afb4-133">Il bot è stato pubblicato in Azure.</span><span class="sxs-lookup"><span data-stu-id="2afb4-133">Your bot has been published to Azure.</span></span> <span data-ttu-id="2afb4-134">Prima di testarlo in Azure, tuttavia, verrà eseguito in locale e si apprenderà come eseguirne il debug in Visual Studio Code.</span><span class="sxs-lookup"><span data-stu-id="2afb4-134">But before you test it there, let's run it locally and learn how to debug it in Visual Studio Code.</span></span>
