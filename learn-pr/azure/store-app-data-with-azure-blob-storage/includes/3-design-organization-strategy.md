<span data-ttu-id="a6634-101">Quando si progetta un'app che richiede l'archiviazione di dati, è importante pensare al modo in cui l'app organizzerà i dati tra gli account di archiviazione, i contenitori e i BLOB.</span><span class="sxs-lookup"><span data-stu-id="a6634-101">When designing an app that needs to store data, it's important to think about how the app is going to organize data across storage accounts, containers, and blobs.</span></span>

## <a name="storage-accounts"></a><span data-ttu-id="a6634-102">Account di archiviazione</span><span class="sxs-lookup"><span data-stu-id="a6634-102">Storage accounts</span></span>

<span data-ttu-id="a6634-103">Un singolo account di archiviazione è abbastanza flessibile per organizzare i BLOB nel modo desiderato, ma è consigliabile usare altri account di archiviazione, a seconda delle esigenze, per controllare l'accesso ai dati e separare i costi in modo logico.</span><span class="sxs-lookup"><span data-stu-id="a6634-103">A single storage account is flexible enough to organize your blobs however you like, but you should use additional storage accounts as necessary to logically separate costs and control access to data.</span></span>

## <a name="containers-and-blobs"></a><span data-ttu-id="a6634-104">Contenitori e BLOB</span><span class="sxs-lookup"><span data-stu-id="a6634-104">Containers and blobs</span></span>

<span data-ttu-id="a6634-105">La strategia per la denominazione e l'organizzazione di contenitori e BLOB dovrebbe essere determinata dalla natura dell'applicazione e dai dati archiviati.</span><span class="sxs-lookup"><span data-stu-id="a6634-105">The nature of your application and the data that it stores should drive your strategy for naming and organizing containers and blobs.</span></span>

<span data-ttu-id="a6634-106">Le app che usano i BLOB come parte di uno schema di archiviazione con database non devono normalmente basarsi sull'organizzazione, la denominazione o i metadati per fornire indicazioni sui propri dati.</span><span class="sxs-lookup"><span data-stu-id="a6634-106">Apps using blobs as part of a storage scheme that includes a database often don't need to rely heavily on organization, naming, or metadata to indicate anything about their data.</span></span> <span data-ttu-id="a6634-107">Le app di questo tipo usano in genere come nomi di BLOB degli identificatori, ad esempio GUID, e fanno riferimento a tali identificatori nei record di database.</span><span class="sxs-lookup"><span data-stu-id="a6634-107">Such apps commonly use identifiers like GUIDs as blob names and reference these identifiers in database records.</span></span> <span data-ttu-id="a6634-108">Per determinare la posizione di archiviazione del BLOB e il tipo di dati contenuti viene usato il database.</span><span class="sxs-lookup"><span data-stu-id="a6634-108">The app will use the database to determine where blobs are stored and the kind of data they contain.</span></span>

<span data-ttu-id="a6634-109">Altre app possono usare l'archiviazione BLOB di Azure in modo analogo a un sistema di file personali, in cui i nomi di contenitori e BLOB vengono usati per indicare il significato e la struttura.</span><span class="sxs-lookup"><span data-stu-id="a6634-109">Other apps may use Azure Blob storage more like a personal file system, where container and blob names are used to indicate meaning and structure.</span></span> <span data-ttu-id="a6634-110">I nomi di BLOB in questi tipi di app hanno spesso un aspetto simile ai nomi di file tradizionali e includono le estensioni dei nomi di file, ad esempio `.jpg`, per indicare il tipo di dati che contengono.</span><span class="sxs-lookup"><span data-stu-id="a6634-110">Blob names in these kinds of apps will often look like traditional file names and include file name extensions like `.jpg` to indicate what kind of data they contain.</span></span> <span data-ttu-id="a6634-111">Per organizzare i BLOB vengono usate directory virtuali (vedere di seguito) e per archiviare le informazioni su BLOB e contenitori vengono spesso usati tag di metadati.</span><span class="sxs-lookup"><span data-stu-id="a6634-111">They'll use virtual directories (see below) to organize blobs and will frequently use metadata tags to store information about blobs and containers.</span></span>

<span data-ttu-id="a6634-112">Vi sono alcuni aspetti da considerare quando si decide come organizzare e archiviare BLOB e contenitori.</span><span class="sxs-lookup"><span data-stu-id="a6634-112">There are a few key things to consider when deciding how to organize and store blobs and containers.</span></span>

### <a name="naming-limitations"></a><span data-ttu-id="a6634-113">Limitazioni di denominazione</span><span class="sxs-lookup"><span data-stu-id="a6634-113">Naming limitations</span></span>

<span data-ttu-id="a6634-114">I nomi di contenitori e BLOB devono essere conformi a un set di regole, incluse le limitazioni di lunghezza e di caratteri.</span><span class="sxs-lookup"><span data-stu-id="a6634-114">Container and blob names must conform to a set of rules, including length limitations and character restrictions.</span></span> <span data-ttu-id="a6634-115">Vedere la sezione Altre informazioni alla fine di questo modulo per informazioni più dettagliate sulle regole di denominazione.</span><span class="sxs-lookup"><span data-stu-id="a6634-115">See the Further Reading section at the end of this module for more specific information about naming rules.</span></span>

### <a name="public-access-and-containers-as-security-boundaries"></a><span data-ttu-id="a6634-116">Accesso pubblico e contenitori come limiti di sicurezza</span><span class="sxs-lookup"><span data-stu-id="a6634-116">Public access and containers as security boundaries</span></span>

<span data-ttu-id="a6634-117">Per impostazione predefinita, tutti i BLOB richiedono l'autenticazione per l'accesso.</span><span class="sxs-lookup"><span data-stu-id="a6634-117">By default, all blobs require authentication to access.</span></span> <span data-ttu-id="a6634-118">È tuttavia possibile configurare singoli contenitori in modo da consentire il download pubblico dei BLOB senza autenticazione.</span><span class="sxs-lookup"><span data-stu-id="a6634-118">However, individual containers can be configured to allow public downloading of their blobs without authentication.</span></span> <span data-ttu-id="a6634-119">Questa funzionalità supporta molti casi d'uso, ad esempio l'hosting di asset di sito Web statici e la condivisione di file.</span><span class="sxs-lookup"><span data-stu-id="a6634-119">This feature supports many use cases, such as hosting static website assets and sharing files.</span></span> <span data-ttu-id="a6634-120">Il download del contenuto di BLOB funziona infatti come la lettura di qualsiasi altro tipo di dati sul Web. È sufficiente puntare un browser o qualsiasi elemento che può eseguire una richiesta GET all'URL del BLOB.</span><span class="sxs-lookup"><span data-stu-id="a6634-120">This is because downloading blob contents works the same way as reading any other kind of data over the web: you just point a browser or anything that can make a GET request at the blob URL.</span></span>

<span data-ttu-id="a6634-121">L'abilitazione dell'accesso pubblico è importante per la scalabilità perché i dati scaricati direttamente da un'archiviazione BLOB non generano traffico nell'app sul lato server.</span><span class="sxs-lookup"><span data-stu-id="a6634-121">Enabling public access is important for scalability because data downloaded directly from Blob storage doesn't generate any traffic in your server-side app.</span></span> <span data-ttu-id="a6634-122">Anche se non si sfrutta immediatamente l'accesso pubblico o se si prevede di usare un database per controllare l'accesso ai dati tramite l'applicazione, pianificare l'uso di contenitori separati per i dati da rendere disponibili pubblicamente.</span><span class="sxs-lookup"><span data-stu-id="a6634-122">Even if you don't immediately take advantage of public access or if you will use a database to control data access via your application, plan on using separate containers for data you want to be publicly available.</span></span>

> [!CAUTION]
> <span data-ttu-id="a6634-123">I BLOB presenti in un contenitore configurato per l'accesso pubblico possono essere scaricati senza alcun tipo di autenticazione o controllo da qualsiasi utente che conosca i relativi URL di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="a6634-123">Blobs in a container configured for public access can be downloaded without any kind of authentication or auditing by anyone who knows their storage URLs.</span></span> <span data-ttu-id="a6634-124">Non inserire mai i dati dei BLOB in un contenitore pubblico che non si prevede di condividere pubblicamente.</span><span class="sxs-lookup"><span data-stu-id="a6634-124">Never put blob data in a public container that you don't intend to share publicly.</span></span>

<span data-ttu-id="a6634-125">Oltre all'accesso pubblico, Azure offre una funzionalità di firma di accesso condiviso che consente un controllo dettagliato delle autorizzazioni sui contenitori.</span><span class="sxs-lookup"><span data-stu-id="a6634-125">In addition to public access, Azure has a shared access signature feature that allows fine-grained permissions control on containers.</span></span> <span data-ttu-id="a6634-126">Una maggiore precisione nel controllo degli accessi consente un ulteriore miglioramento della scalabilità. È pertanto utile pensare in generale ai contenitori come limiti di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="a6634-126">Precision access control enables scenarios that further improve scalability, so thinking about containers as security boundaries in general is a helpful guideline.</span></span>

### <a name="blob-name-prefixes-virtual-directories"></a><span data-ttu-id="a6634-127">Prefissi dei nomi di BLOB (directory virtuali)</span><span class="sxs-lookup"><span data-stu-id="a6634-127">Blob name prefixes (virtual directories)</span></span>

<span data-ttu-id="a6634-128">Tecnicamente, i contenitori sono "piatti" e non supportano alcun tipo di nidificazione o gerarchia.</span><span class="sxs-lookup"><span data-stu-id="a6634-128">Technically, containers are "flat" and do not support any kind of nesting or hierarchy.</span></span> <span data-ttu-id="a6634-129">Se tuttavia si assegnano ai BLOB nomi gerarchici simili a percorsi di file, ad esempio `finance/budgets/2017/q1.xls`, l'operazione dell'API che genera l'elenco dei nomi può filtrare i risultati in base a prefissi specifici.</span><span class="sxs-lookup"><span data-stu-id="a6634-129">But if you give your blobs hierarchical names that look like file paths (such as `finance/budgets/2017/q1.xls`), the API's listing operation can filter results to specific prefixes.</span></span> <span data-ttu-id="a6634-130">È così possibile esaminare l'elenco in modo analogo a un sistema gerarchico di file e cartelle.</span><span class="sxs-lookup"><span data-stu-id="a6634-130">This allows you to navigate the list as if it was a hierarchical system of files and folders.</span></span>

<span data-ttu-id="a6634-131">Questa funzionalità è spesso indicata con il termine *directory virtuali* perché viene usata da alcuni strumenti e librerie client per visualizzare ed esplorare le risorse di archiviazione BLOB come un file system.</span><span class="sxs-lookup"><span data-stu-id="a6634-131">This feature is often called *virtual directories* because some tools and client libraries use it to visualize and navigate Blob storage as if it was a file system.</span></span> <span data-ttu-id="a6634-132">L'esplorazione di ogni cartella attiva una chiamata separata per elencare i BLOB presenti in tale cartella.</span><span class="sxs-lookup"><span data-stu-id="a6634-132">Each folder navigation triggers a separate call to list the blobs in that folder.</span></span>

<span data-ttu-id="a6634-133">L'uso di nomi simili ai file per i BLOB è una tecnica comune per l'organizzazione e l'esplorazione di dati di BLOB complessi.</span><span class="sxs-lookup"><span data-stu-id="a6634-133">Using names that are like file names for blobs is a common technique for organizing and navigating complex blob data.</span></span>

### <a name="blob-types"></a><span data-ttu-id="a6634-134">Tipi di BLOB</span><span class="sxs-lookup"><span data-stu-id="a6634-134">Blob types</span></span>

<span data-ttu-id="a6634-135">Esistono tre diversi tipi di BLOB in cui è possibile archiviare i dati:</span><span class="sxs-lookup"><span data-stu-id="a6634-135">There are three different kinds of blobs you can store data in:</span></span>

- <span data-ttu-id="a6634-136">I **BLOB in blocchi** sono costituiti da blocchi di dimensioni diverse che possono essere caricati in modo indipendente e in parallelo.</span><span class="sxs-lookup"><span data-stu-id="a6634-136">**Block blobs** are composed of blocks of different sizes that can be uploaded independently and in parallel.</span></span> <span data-ttu-id="a6634-137">La scrittura in un BLOB in blocchi comporta il caricamento dei dati nei blocchi e l'esecuzione del commit nel BLOB.</span><span class="sxs-lookup"><span data-stu-id="a6634-137">Writing to a block blob involves uploading data to blocks and committing them to the blob.</span></span>
- <span data-ttu-id="a6634-138">I **BLOB di accodamento** sono BLOB in blocchi specializzati che supportano solo l'aggiunta di nuovi dati (non l'aggiornamento o l'eliminazione di dati esistenti), ma con un notevole grado di efficienza.</span><span class="sxs-lookup"><span data-stu-id="a6634-138">**Append blobs** are specialized block blobs that support only appending new data (not updating or deleting existing data), but they're very efficient at it.</span></span> <span data-ttu-id="a6634-139">I BLOB di accodamento sono ideali per scenari quali l'archiviazione di log o la scrittura di dati di streaming.</span><span class="sxs-lookup"><span data-stu-id="a6634-139">Append blobs are great for scenarios like storing logs or writing streamed data.</span></span>
- <span data-ttu-id="a6634-140">I **BLOB di pagine** sono progettati per gli scenari che prevedono operazioni di lettura e scrittura ad accesso casuale.</span><span class="sxs-lookup"><span data-stu-id="a6634-140">**Page blobs** are designed for scenarios that involve random-access reads and writes.</span></span> <span data-ttu-id="a6634-141">I BLOB di pagine vengono usati per archiviare i file di disco rigido virtuale (VHD) usati da Macchine virtuali di Azure, ma sono efficaci per qualsiasi scenario che comporta l'accesso casuale.</span><span class="sxs-lookup"><span data-stu-id="a6634-141">Page blobs are used to store the virtual hard disk (VHD) files used by Azure Virtual Machines, but they're great for any scenario that involves random access.</span></span>

<span data-ttu-id="a6634-142">I BLOB in blocchi sono la soluzione ideale per la maggior parte degli scenari che non richiedono specificamente BLOB di accodamento o BLOB di pagine.</span><span class="sxs-lookup"><span data-stu-id="a6634-142">Block blobs are the best choice for most scenarios that don't specifically call for append or page blobs.</span></span> <span data-ttu-id="a6634-143">La struttura basata su blocchi supporta operazioni di caricamento e download molto rapide e accesso efficiente a singoli elementi di un BLOB.</span><span class="sxs-lookup"><span data-stu-id="a6634-143">Their block-based structure supports very fast uploads and downloads and efficient access to individual pieces of a blob.</span></span> <span data-ttu-id="a6634-144">La gestione e il commit dei blocchi sono gestiti automaticamente dalla maggior parte delle librerie client che, in alcuni casi, gestiscono le operazioni di caricamento e download in parallelo per ottimizzare le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="a6634-144">The process of managing and committing blocks is automatically handled by most client libraries, and some will also handle parallel uploads and downloads to maximize performance.</span></span>