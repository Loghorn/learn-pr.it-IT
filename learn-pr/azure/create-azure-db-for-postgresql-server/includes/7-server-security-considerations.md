<span data-ttu-id="db9d5-101">Si supponga di usare un database PostgreSQL locale.</span><span class="sxs-lookup"><span data-stu-id="db9d5-101">Lets' assume you're using an on-premises PostgreSQL database.</span></span> <span data-ttu-id="db9d5-102">Si gestiscono tutti gli aspetti relativi alla sicurezza ed è stato bloccato l'accesso ai server tramite le regole del firewall standard a livello del server PostgreSQL.</span><span class="sxs-lookup"><span data-stu-id="db9d5-102">You're managing all security aspects and locked down all access to your servers using the standard PostgreSQL server level firewall rules.</span></span> <span data-ttu-id="db9d5-103">A questo punto, si vuole assicurarsi di poter configurare le stesse regole del firewall a livello del server in Azure.</span><span class="sxs-lookup"><span data-stu-id="db9d5-103">You now want to make sure that you can configure the same server level firewall rules in Azure.</span></span>

## <a name="server-security-considerations-and-connection-methods"></a><span data-ttu-id="db9d5-104">Considerazioni sulla sicurezza del server e metodi di connessione</span><span class="sxs-lookup"><span data-stu-id="db9d5-104">Server Security Considerations and Connection Methods</span></span>

<span data-ttu-id="db9d5-105">Sono disponibili numerose opzioni per limitare l'accesso ai database e al server di Database di Azure per PostgreSQL.</span><span class="sxs-lookup"><span data-stu-id="db9d5-105">You have a number of options to restrict access to your Azure Database for PostgreSQL server and databases.</span></span> <span data-ttu-id="db9d5-106">L'accesso alla rete può essere limitato a livello di rete, di server o di database.</span><span class="sxs-lookup"><span data-stu-id="db9d5-106">Network access can be restricted at a network, server, or database level.</span></span> <span data-ttu-id="db9d5-107">È possibile usare una delle opzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="db9d5-107">You can use any of the following options:</span></span>

- <span data-ttu-id="db9d5-108">Account utente per limitare l'accesso al database</span><span class="sxs-lookup"><span data-stu-id="db9d5-108">User accounts to restrict database access</span></span>
- <span data-ttu-id="db9d5-109">Reti virtuali per limitare l'accesso alla rete</span><span class="sxs-lookup"><span data-stu-id="db9d5-109">Virtual networks to restrict network access</span></span>
- <span data-ttu-id="db9d5-110">Regole del firewall per limitare l'accesso al server</span><span class="sxs-lookup"><span data-stu-id="db9d5-110">Firewall rules to restrict server access</span></span>

### <a name="authentication-and-authorization"></a><span data-ttu-id="db9d5-111">Autenticazione e autorizzazione</span><span class="sxs-lookup"><span data-stu-id="db9d5-111">Authentication and authorization</span></span>

<span data-ttu-id="db9d5-112">Il server di Database di Azure per PostgreSQL supporta l'autenticazione nativa a PostgreSQL.</span><span class="sxs-lookup"><span data-stu-id="db9d5-112">Azure Database for PostgreSQL server supports native PostgreSQL authentication.</span></span> <span data-ttu-id="db9d5-113">È possibile connettersi ed eseguire l'autenticazione al server con l'account di accesso amministratore del server.</span><span class="sxs-lookup"><span data-stu-id="db9d5-113">You can connect and authenticate to server with the server's admin login.</span></span> <span data-ttu-id="db9d5-114">Si creeranno inoltre utenti da connettere a database specifici per limitare l'accesso.</span><span class="sxs-lookup"><span data-stu-id="db9d5-114">You'll also create users to connect to specific databases to limit access.</span></span>

### <a name="what-is-a-virtual-network"></a><span data-ttu-id="db9d5-115">Che cos'è una rete virtuale?</span><span class="sxs-lookup"><span data-stu-id="db9d5-115">What is a Virtual Network?</span></span>

<span data-ttu-id="db9d5-116">Una rete virtuale è una rete isolata logicamente creata all'interno della rete di Azure.</span><span class="sxs-lookup"><span data-stu-id="db9d5-116">A virtual network is a logically isolated network created within the Azure network.</span></span> <span data-ttu-id="db9d5-117">È possibile usare una rete virtuale per controllare le risorse di Azure che possono connettersi ad altre risorse.</span><span class="sxs-lookup"><span data-stu-id="db9d5-117">You can use a virtual network to control what Azure resources can connect to other resources.</span></span>

<span data-ttu-id="db9d5-118">Si immagini di eseguire un'applicazione Web che si connette a un database.</span><span class="sxs-lookup"><span data-stu-id="db9d5-118">Imagine you're running a web application that connects to a database.</span></span> <span data-ttu-id="db9d5-119">Si useranno le subnet per isolare le diverse parti della rete.</span><span class="sxs-lookup"><span data-stu-id="db9d5-119">You'll use subnets to isolate different parts of the network.</span></span> <span data-ttu-id="db9d5-120">Una subnet è una parte di una rete basata su un intervallo di indirizzi IP.</span><span class="sxs-lookup"><span data-stu-id="db9d5-120">A subnet is a part of a network based upon a range of IP addresses.</span></span>

<span data-ttu-id="db9d5-121">Per configurare queste subnet, verrà creata una rete virtuale e quindi la rete verrà suddivisa in subnet.</span><span class="sxs-lookup"><span data-stu-id="db9d5-121">To configure these subnets, you'll create a virtual network and then subdivide the network into subnets.</span></span> <span data-ttu-id="db9d5-122">L'applicazione Web opererà in una subnet e il database in un'altra.</span><span class="sxs-lookup"><span data-stu-id="db9d5-122">The web application will operate on one subnet and the database on another subnet.</span></span> <span data-ttu-id="db9d5-123">Ogni subnet avrà regole specifiche per la comunicazione da e verso l'altra rete.</span><span class="sxs-lookup"><span data-stu-id="db9d5-123">Each subnet would have its own rules for communicating to and from the other network.</span></span> <span data-ttu-id="db9d5-124">Queste regole consentono di limitare l'accesso dal database all'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="db9d5-124">These rules give you the ability to restrict access from the database to the web application.</span></span>

<span data-ttu-id="db9d5-125">La creazione di una rete virtuale non rientra nell'ambito di questo modulo.</span><span class="sxs-lookup"><span data-stu-id="db9d5-125">Creating a virtual network is beyond the scope of this module.</span></span> <span data-ttu-id="db9d5-126">Se sono necessarie altre informazioni, esplorare gli altri moduli di apprendimento correlati alle reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="db9d5-126">If you need more information, please explore other learning modules related to virtual networks.</span></span>

### <a name="what-is-a-firewall"></a><span data-ttu-id="db9d5-127">Che cos'è un firewall?</span><span class="sxs-lookup"><span data-stu-id="db9d5-127">What is a firewall?</span></span>

<span data-ttu-id="db9d5-128">Un firewall è un servizio che concede ai server l'accesso in base all'indirizzo IP di origine di ogni richiesta.</span><span class="sxs-lookup"><span data-stu-id="db9d5-128">A firewall is a service that grants server access based on the originating IP address of each request.</span></span> <span data-ttu-id="db9d5-129">È possibile creare regole del firewall che specificano gli intervalli di indirizzi IP.</span><span class="sxs-lookup"><span data-stu-id="db9d5-129">You create firewall rules that specify ranges of IP addresses.</span></span> <span data-ttu-id="db9d5-130">Solo i client di questi indirizzi IP concessi potranno accedere al server.</span><span class="sxs-lookup"><span data-stu-id="db9d5-130">Only clients from these granted IP addresses, will be allowed to access the server.</span></span> <span data-ttu-id="db9d5-131">In generale, le regole del firewall includono anche informazioni specifiche sul protocollo di rete e sulla porta.</span><span class="sxs-lookup"><span data-stu-id="db9d5-131">Firewall rules generally speaking also includes specific network protocol and port information.</span></span> <span data-ttu-id="db9d5-132">Ad esempio, un server PostgreSQL per impostazione predefinita è in ascolto delle richieste TCP sulla porta 5432.</span><span class="sxs-lookup"><span data-stu-id="db9d5-132">For example, a PostgreSQL server by default listens to TCP requests on port 5432.</span></span>

### <a name="azure-database-for-postgresql-server-firewall"></a><span data-ttu-id="db9d5-133">Firewall del server di Database di Azure per PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="db9d5-133">Azure Database for PostgreSQL server firewall</span></span>

<span data-ttu-id="db9d5-134">Il firewall del server di Database di Azure per PostgreSQL impedisce qualsiasi accesso al server di database finché non vengono specificati i computer autorizzati.</span><span class="sxs-lookup"><span data-stu-id="db9d5-134">The Azure Database for PostgreSQL server firewall prevents all access to your database server until you specify which computers have permission.</span></span> <span data-ttu-id="db9d5-135">La configurazione del firewall consente di specificare un intervallo di indirizzi IP autorizzati a connettersi al server.</span><span class="sxs-lookup"><span data-stu-id="db9d5-135">The firewall configuration allows you to specify a range of IP addresses that are allowed to connect to the server.</span></span> <span data-ttu-id="db9d5-136">Il server usa sempre le informazioni di connessione di PostgreSQL predefinite.</span><span class="sxs-lookup"><span data-stu-id="db9d5-136">The server always uses the default PostgreSQL connection information.</span></span>

![Diagramma funzionale del firewall di Azure](../media-draft/7-firewall-diagram.png)

### <a name="azure-database-for-postgresql-server-ssl-connections"></a><span data-ttu-id="db9d5-138">Connessioni SSL del server di Database di Azure per PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="db9d5-138">Azure Database for PostgreSQL server SSL connections</span></span>

<span data-ttu-id="db9d5-139">Il Database di Azure per PostgreSQL preferisce che le applicazioni client vengano connesse al servizio PostgreSQL usando la connettività SSL (Secure Sockets Layer).</span><span class="sxs-lookup"><span data-stu-id="db9d5-139">Azure Database for PostgreSQL prefers your client applications connects to the PostgreSQL service using Secure Sockets Layer (SSL).</span></span> <span data-ttu-id="db9d5-140">L'applicazione delle connessioni SSL tra il server di database e le applicazioni client aiuta a proteggersi dagli attacchi "man in the middle" e da altri attacchi simili crittografando i dati tra il server e il client.</span><span class="sxs-lookup"><span data-stu-id="db9d5-140">Enforcing SSL connections between your database server and your client applications helps protect against "man in the middle" and similar attacks by encrypting the data between the server and client.</span></span> <span data-ttu-id="db9d5-141">L'abilitazione di SSL richiede lo scambio di chiavi e un'autenticazione più restrittiva tra client e server affinché la connessione funzioni.</span><span class="sxs-lookup"><span data-stu-id="db9d5-141">Enabling SSL requires the exchange of keys and strict authentication between client and server for the connection to work.</span></span> <span data-ttu-id="db9d5-142">Le informazioni dettagliate sull'utilizzo di SSL non rientrano nell'ambito di questo modulo di apprendimento.</span><span class="sxs-lookup"><span data-stu-id="db9d5-142">Details about using SSL are beyond the scope of this learning module.</span></span> <span data-ttu-id="db9d5-143">Se sono necessarie altre informazioni, esplorare gli altri moduli di apprendimento correlati a SSL.</span><span class="sxs-lookup"><span data-stu-id="db9d5-143">If you need more information, please explore other learning modules related to SSL.</span></span>

## <a name="configure-connection-security"></a><span data-ttu-id="db9d5-144">Configurare la sicurezza della connessione</span><span class="sxs-lookup"><span data-stu-id="db9d5-144">Configure Connection Security</span></span>

<span data-ttu-id="db9d5-145">Esaminiamo le decisioni e passaggi da effettuare per configurare un firewall del server di Database di Azure per PostgreSQL.</span><span class="sxs-lookup"><span data-stu-id="db9d5-145">Let's look at the decisions and steps you make to configure an Azure Database for PostgreSQL server firewall.</span></span> <span data-ttu-id="db9d5-146">Verrà anche illustrato come connettersi al server creato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="db9d5-146">You'll also see how to connect to the server you've created earlier.</span></span>

<span data-ttu-id="db9d5-147">Per prima cosa, aprire il [portale di Azure](https://portal.azure.com?azure-portal=true) e passare alla risorsa server per cui si vuole creare una regola del firewall.</span><span class="sxs-lookup"><span data-stu-id="db9d5-147">First, you'll open the [Azure portal](https://portal.azure.com?azure-portal=true) and navigate to the server resource for which you would like to create a firewall rule.</span></span>

<span data-ttu-id="db9d5-148">Selezionare quindi l'opzione **Sicurezza connessione** per aprire il pannello Sicurezza connessione a destra.</span><span class="sxs-lookup"><span data-stu-id="db9d5-148">Then you'll select the **Connection Security** option to open the connection security blade to the right.</span></span>

![Impostazioni di sicurezza del database PostgreSQL](../media-draft/7-db-security-settings.png)

<span data-ttu-id="db9d5-150">In questa schermata sono disponibili diverse opzioni.</span><span class="sxs-lookup"><span data-stu-id="db9d5-150">On this screen, you have several options.</span></span> <span data-ttu-id="db9d5-151">È possibile:</span><span class="sxs-lookup"><span data-stu-id="db9d5-151">You can:</span></span>

- <span data-ttu-id="db9d5-152">Aggiungere l'indirizzo IP da usare per accedere al portale come voce del firewall facendo clic sul pulsante **+ Aggiungi IP client**</span><span class="sxs-lookup"><span data-stu-id="db9d5-152">Add the IP address you use to access the portal as a firewall entry by clicking on the **+ Add client IP** button</span></span>
- <span data-ttu-id="db9d5-153">Consentire l'accesso ai servizi di Azure.</span><span class="sxs-lookup"><span data-stu-id="db9d5-153">Allow access to Azure services.</span></span> <span data-ttu-id="db9d5-154">Per impostazione predefinita, tutti i servizi di Azure **non** hanno accesso al server PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="db9d5-154">By default all Azure services **don't** have access to the PostgreSQL server</span></span>
- <span data-ttu-id="db9d5-155">Aggiungere le regole del firewall immettendo gli intervalli di indirizzi IP</span><span class="sxs-lookup"><span data-stu-id="db9d5-155">Add firewall rules by entering ranges of IP addresses</span></span>
- <span data-ttu-id="db9d5-156">Applicare le connessioni SSL.</span><span class="sxs-lookup"><span data-stu-id="db9d5-156">Enforce SSL connections.</span></span> <span data-ttu-id="db9d5-157">Questa opzione forza il client a connettersi al server usando un certificato SSL.</span><span class="sxs-lookup"><span data-stu-id="db9d5-157">This option forces you client to connect to the server using an SSL certificate.</span></span>

<span data-ttu-id="db9d5-158">Ricordarsi sempre di fare clic sull'icona **Salva** sopra i campi di immissione per salvare la configurazione aggiornata dopo aver apportato le modifiche.</span><span class="sxs-lookup"><span data-stu-id="db9d5-158">Always remember to click on the **Save** icon above the entry fields to save the updated configuration once you've made changes.</span></span>

### <a name="allow-access-to-azure-services"></a><span data-ttu-id="db9d5-159">Consentire l'accesso ai servizi di Azure</span><span class="sxs-lookup"><span data-stu-id="db9d5-159">Allow access to Azure services</span></span>

<span data-ttu-id="db9d5-160">Per usare Azure Cloud Shell per accedere o configurare il server, assicurarsi di abilitare **Consenti l'accesso a Servizi di Azure**.</span><span class="sxs-lookup"><span data-stu-id="db9d5-160">To use Azure Cloud Shell to access or configure your server, make sure to enable **Allow Access to Azure Services**.</span></span> <span data-ttu-id="db9d5-161">Questo passaggio aggiungerà una regola del firewall alla configurazione del server per consentire l'accesso da Cloud Shell.</span><span class="sxs-lookup"><span data-stu-id="db9d5-161">This step is going to add a firewall rule to the server configuration to allow access from Cloud Shell.</span></span> <span data-ttu-id="db9d5-162">Questa regola non verrà tuttavia mostrata come una delle regole personalizzate aggiunte.</span><span class="sxs-lookup"><span data-stu-id="db9d5-162">This rule will not show as one of the custom rules you add though.</span></span>

<span data-ttu-id="db9d5-163">Sarà anche necessario disabilitare l'opzione **Imponi connessione SSL**.</span><span class="sxs-lookup"><span data-stu-id="db9d5-163">You also need to disable **Enforce SSL connection**.</span></span> <span data-ttu-id="db9d5-164">PowerShell non può connettersi al server se è necessario il protocollo SSL per le connessioni client.</span><span class="sxs-lookup"><span data-stu-id="db9d5-164">PowerShell cann't connect to the server if SSL is required for client connections.</span></span>

<span data-ttu-id="db9d5-165">Entrambe queste opzioni restituiranno un messaggio di errore nella riga di comando se non vengono configurate correttamente.</span><span class="sxs-lookup"><span data-stu-id="db9d5-165">Both of these options will result in an error message displayed on the command line if not configured correctly.</span></span>

<span data-ttu-id="db9d5-166">Ad esempio, se non viene consentito l'accesso ai servizi di Azure ed è abilitata l'opzione Imponi connessione SSL, verrà visualizzato un messaggio di errore simile al seguente quando il firewall blocca l'accesso.</span><span class="sxs-lookup"><span data-stu-id="db9d5-166">For example, if access is not allowed to Azure services and enforce SSL connections is enabled then you'll see something similar to this error when the firewall is blocking access.</span></span>

> <span data-ttu-id="db9d5-167">psql: FATAL: no pg_hba.conf entry for host "123.45.67.89", user "adminuser", database "postgres", SSL on FATAL:  SSL connection is required.</span><span class="sxs-lookup"><span data-stu-id="db9d5-167">psql: FATAL: no pg_hba.conf entry for host "123.45.67.89", user "adminuser", database "postgres", SSL on FATAL:  SSL connection is required.</span></span> <span data-ttu-id="db9d5-168">Please specify SSL options and retry.</span><span class="sxs-lookup"><span data-stu-id="db9d5-168">Please specify SSL options and retry.</span></span>

### <a name="create-a-firewall-rule-using-the-portal"></a><span data-ttu-id="db9d5-169">Creare una regola del firewall usando il portale</span><span class="sxs-lookup"><span data-stu-id="db9d5-169">Create a firewall rule using the portal</span></span>

<span data-ttu-id="db9d5-170">Si supponga di voler creare una regola del firewall che consenta l'accesso da qualsiasi indirizzo IP.</span><span class="sxs-lookup"><span data-stu-id="db9d5-170">Let's say, you want to create a firewall rule that provides access from any IP address.</span></span>

> [!WARNING]
> <span data-ttu-id="db9d5-171">La creazione di questa regola del firewall consentirà a tutti gli indirizzi IP Internet di provare a connettersi al server.</span><span class="sxs-lookup"><span data-stu-id="db9d5-171">Creating this firewall rule will allow any IP address on the Internet to attempt to connect to your server.</span></span> <span data-ttu-id="db9d5-172">Anche se i client non potranno accedere al server senza nome utente e password, prestare attenzione quando si abilita questa regola e assicurarsi di comprendere tutte le implicazioni per la sicurezza.</span><span class="sxs-lookup"><span data-stu-id="db9d5-172">Eventhough clients will not be able access the server without the username and password, enable this rule with caution and make sure you understand the security implications.</span></span>

<span data-ttu-id="db9d5-173">È possibile creare una nuova regola del firewall immettendo i dati seguenti nei campi contrassegnati:</span><span class="sxs-lookup"><span data-stu-id="db9d5-173">You create a new firewall rule by entering the following data in the labeled fields:</span></span>

- <span data-ttu-id="db9d5-174">Nome regola: `AllowAll`</span><span class="sxs-lookup"><span data-stu-id="db9d5-174">Rule Name: `AllowAll`</span></span>
- <span data-ttu-id="db9d5-175">Indirizzo IP iniziale: `0.0.0.0`</span><span class="sxs-lookup"><span data-stu-id="db9d5-175">Start IP: `0.0.0.0`</span></span>
- <span data-ttu-id="db9d5-176">Indirizzo IP finale: `255.255.255.255`</span><span class="sxs-lookup"><span data-stu-id="db9d5-176">End IP: `255.255.255.255`</span></span>

<span data-ttu-id="db9d5-177">Per rimuovere una regola del firewall, fare clic sui puntini di sospensione alla fine della regola che si vuole eliminare.</span><span class="sxs-lookup"><span data-stu-id="db9d5-177">To remove a firewall rule, you'll click the ellipsis at the end of the rule you want to delete.</span></span> <span data-ttu-id="db9d5-178">Fare clic sul pulsante Elimina per eliminare la regola.</span><span class="sxs-lookup"><span data-stu-id="db9d5-178">Click the Delete button to delete the rule.</span></span>

<span data-ttu-id="db9d5-179">Fare clic sull'icona **Salva** sopra i campi di immissione per confermare l'eliminazione della regola.</span><span class="sxs-lookup"><span data-stu-id="db9d5-179">Click on the **Save** icon above the entry fields to commit the deletion of the rule.</span></span>

### <a name="create-a-firewall-rule-using-the-azure-cli"></a><span data-ttu-id="db9d5-180">Creare una regola del firewall usando l'interfaccia della riga di comando di Azure</span><span class="sxs-lookup"><span data-stu-id="db9d5-180">Create a firewall rule using the Azure CLI</span></span>

<span data-ttu-id="db9d5-181">È possibile usare l'interfaccia della riga di comando di Azure per aggiungere le regole del firewall al server con il comando `az postgres server firewall-rule create` mediante Azure Cloud Shell.</span><span class="sxs-lookup"><span data-stu-id="db9d5-181">You use the Azure CLI to add firewall rules to your server with the `az postgres server firewall-rule create` command using Azure CloudShell.</span></span>

<span data-ttu-id="db9d5-182">Se si vogliono creare le stesse regole indicate in precedenza, immettere il comando seguente:</span><span class="sxs-lookup"><span data-stu-id="db9d5-182">Let's say you want to create the same rules as above You'' use the following command:</span></span>

  ```bash
  az postgres server firewall-rule create --resource-group <resource_group_name> --server <server-name> --name AllowAll --start-ip-address 0.0.0.0 --end-ip-address 255.255.255.255
  ```

<span data-ttu-id="db9d5-183">È possibile rimuovere le regole del firewall dal server con il comando `az postgres server firewall-rule delete`.</span><span class="sxs-lookup"><span data-stu-id="db9d5-183">You remove firewall rules from your server with the command `az postgres server firewall-rule delete`.</span></span>

<span data-ttu-id="db9d5-184">Se si vuole eliminare il firewall creato, usare il comando seguente:</span><span class="sxs-lookup"><span data-stu-id="db9d5-184">Let's say you want to delete the firewall you created then use the following command:</span></span>

  ```bash
  az postgres server firewall-rule delete --name AllowAll --resource-group <resource_group_name> --server-name <server-name>
  ```

## <a name="connecting-to-your-server"></a><span data-ttu-id="db9d5-185">Connessione al server</span><span class="sxs-lookup"><span data-stu-id="db9d5-185">Connecting to your server</span></span>

<span data-ttu-id="db9d5-186">Come per qualsiasi database moderno, PostgreSQL richiede un'amministrazione del server regolare per ottenere prestazioni ottimali.</span><span class="sxs-lookup"><span data-stu-id="db9d5-186">Like any modern database, PostgreSQL requires regularly server administration to achieve best performance.</span></span> <span data-ttu-id="db9d5-187">Sono disponibili numerose opzioni per la connessione e la gestione del server di Database di Azure per PostgreSQL.</span><span class="sxs-lookup"><span data-stu-id="db9d5-187">You have a number of options to connect and manage your Azure Database for PostgreSQL server.</span></span> <span data-ttu-id="db9d5-188">Per connettersi al server, verrà usato `psql`.</span><span class="sxs-lookup"><span data-stu-id="db9d5-188">We'll use `psql` to connect to the server.</span></span>

### <a name="what-is-psql"></a><span data-ttu-id="db9d5-189">Che cos'è psql?</span><span class="sxs-lookup"><span data-stu-id="db9d5-189">What is psql?</span></span>

<span data-ttu-id="db9d5-190">Lo strumento da riga di comando denominato `psql` è il terminale interattivo distribuito di PostgreSQL da usare con il server e i database PostgreSQL.</span><span class="sxs-lookup"><span data-stu-id="db9d5-190">The command-line tool called `psql` is the PostgreSQL distributed interactive terminal for working with PostgreSQL server and databases.</span></span> <span data-ttu-id="db9d5-191">`psql` funziona con il Database di Azure per PostgreSQL come con qualsiasi altra implementazione di PostgreSQL ed è incluso con Azure Cloud Shell.</span><span class="sxs-lookup"><span data-stu-id="db9d5-191">`psql` works with Azure Database for PostgreSQL the same as with any other PostgreSQL implementation and is included with the Azure Cloud Shell.</span></span> <span data-ttu-id="db9d5-192">Lo strumento `psql` consente di gestire i database, nonché di eseguire query di strutture su questi database.</span><span class="sxs-lookup"><span data-stu-id="db9d5-192">The `psql` tool allows you to manage databases as well as execute structure queries against these databases.</span></span>

<span data-ttu-id="db9d5-193">Per usare `psql` è necessaria una connessione riuscita a un server PostgreSQL.</span><span class="sxs-lookup"><span data-stu-id="db9d5-193">Using `psql` requires a successful connection to a PostgreSQL server.</span></span> <span data-ttu-id="db9d5-194">Sono disponibili numerosi parametri della riga di comando da usare con `psql`.</span><span class="sxs-lookup"><span data-stu-id="db9d5-194">There are a number of command-line parameters available for use when working with `psql`.</span></span>

- <span data-ttu-id="db9d5-195">`--host` - host a cui connettersi</span><span class="sxs-lookup"><span data-stu-id="db9d5-195">`--host` - the host to which you'd like to connect</span></span>
- <span data-ttu-id="db9d5-196">`--username` -nome/identificativo dell'utente</span><span class="sxs-lookup"><span data-stu-id="db9d5-196">`--username` - the user name/i.d.</span></span> <span data-ttu-id="db9d5-197">con cui connettersi</span><span class="sxs-lookup"><span data-stu-id="db9d5-197">with which to connect</span></span>
- <span data-ttu-id="db9d5-198">`--dbname` - nome del database a cui connettersi.</span><span class="sxs-lookup"><span data-stu-id="db9d5-198">`--dbname` - the name of the database to connect to.</span></span>

> [!Note]
> <span data-ttu-id="db9d5-199">In genere, è necessario connettersi al database di gestione `postgres` per gestire l'accesso al server e la configurazione dei database.</span><span class="sxs-lookup"><span data-stu-id="db9d5-199">You'll typically connect to the `postgres` management database when managing your server access and databases configuration.</span></span>

<span data-ttu-id="db9d5-200">Il comando completo è il seguente:</span><span class="sxs-lookup"><span data-stu-id="db9d5-200">Here is the complete command:</span></span>

  ```bash
  psql --host=<server-name>.postgres.database.azure.com --username=<admin-user>@<server-name> --dbname=<database>
  ```

<span data-ttu-id="db9d5-201">Una volta connessi, verrà visualizzato un prompt dei comandi e sarà possibile eseguire i comandi per il server e i database.</span><span class="sxs-lookup"><span data-stu-id="db9d5-201">Once connected, you'll be presented with a command prompt and can execute commands to your server and databases.</span></span>

<span data-ttu-id="db9d5-202">Sono stati finora illustrati i passaggi da eseguire per configurare le impostazioni di sicurezza di un Database di Azure per PostgreSQL.</span><span class="sxs-lookup"><span data-stu-id="db9d5-202">You've now seen the steps you take to configure an Azure Database for PostgreSQL security settings.</span></span> <span data-ttu-id="db9d5-203">Nell'unità successiva verranno configurate le impostazioni di sicurezza di un Database di Azure per PostgreSQL.</span><span class="sxs-lookup"><span data-stu-id="db9d5-203">In the next unit, you'll configure an  Azure Database for PostgreSQL security settings.</span></span> <span data-ttu-id="db9d5-204">Sarà anche possibile connettersi al server con Cloud Shell.</span><span class="sxs-lookup"><span data-stu-id="db9d5-204">You'll also connect to the server using Cloud Shell.</span></span>