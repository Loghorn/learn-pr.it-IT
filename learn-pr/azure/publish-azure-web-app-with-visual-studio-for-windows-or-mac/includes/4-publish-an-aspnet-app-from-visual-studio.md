<span data-ttu-id="0d3f4-101">È stato creato un sito che ora si desidera distribuire in Azure.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-101">You created a site and you want to deploy it to Azure.</span></span> <span data-ttu-id="0d3f4-102">Dobbiamo considerare quali servizi di Azure sfruttare per soddisfare al meglio le esigenze specifiche.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-102">Now we need to consider which Azure services to leverage to best support our needs.</span></span> <span data-ttu-id="0d3f4-103">Le app Web di Azure forniscono alle applicazioni un servizio di hosting Web ad alta scalabilità e con funzioni di correzione automatica.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-103">Web Apps provides a highly scalable, self-patching web hosting service for your applications.</span></span>

<span data-ttu-id="0d3f4-104">In questo caso, verrà illustrato come usare Visual Studio per pubblicare l'applicazione Web di ASP.NET Core in un piano di servizio app di Azure.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-104">Here, we look at how to use Visual Studio to publish your ASP.NET Core web application to an Azure App Service plan.</span></span>

## <a name="azure-subscription"></a><span data-ttu-id="0d3f4-105">Sottoscrizione di Azure</span><span class="sxs-lookup"><span data-stu-id="0d3f4-105">Azure subscription</span></span>

<span data-ttu-id="0d3f4-106">Per pubblicare in Azure, è necessario avere una sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-106">To publish to Azure, you need to have an Azure subscription.</span></span> <span data-ttu-id="0d3f4-107">È possibile usare una [sottoscrizione gratuita di Azure](https://azure.microsoft.com/free/) per testare le funzionalità del servizio app di Azure.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-107">You can use an [Azure Free Subscription](https://azure.microsoft.com/free/) for testing the Azure App Service features.</span></span>

## <a name="what-is-web-apps"></a><span data-ttu-id="0d3f4-108">Che cos'è app Web</span><span class="sxs-lookup"><span data-stu-id="0d3f4-108">What is Web Apps?</span></span>

<span data-ttu-id="0d3f4-109">La funzione app Web del servizio app di Azure è un servizio per l'hosting di applicazioni Web, API REST e back-end mobili.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-109">The Web Apps feature of Azure App Service is a service for hosting web applications, REST APIs, and mobile backends.</span></span> <span data-ttu-id="0d3f4-110">Il codice host di app Web viene scritto in una vasta gamma di linguaggi, ad esempio .NET, .NET Core, Java, Ruby, Node.js, PHP e Python.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-110">Web Apps host code is written in a variety of languages, such as .NET, .NET Core, Java, Ruby, Node.js, PHP, and Python.</span></span> <span data-ttu-id="0d3f4-111">Web app è ideale per la maggior parte dei siti Web, in particolare se non si richiede un grande controllo sull'infrastruttura di hosting.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-111">Web Apps is ideal for most websites, particularly if you don't need a lot of control over the hosting infrastructure.</span></span>

## <a name="what-is-the-app-service-plan"></a><span data-ttu-id="0d3f4-112">Che cos'è il piano di servizio app</span><span class="sxs-lookup"><span data-stu-id="0d3f4-112">What is the App Service plan?</span></span>

<span data-ttu-id="0d3f4-113">Il piano di servizio app definisce le risorse di calcolo che l'app utilizzerà, dove si trovano tali risorse, il numero di risorse aggiuntivo che il piano può utilizzare e il tipo di piano di servizio in uso.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-113">The App Service plan defines the compute resources your app will consume, where those resources are located, how many additional resources the plan can consume, and the type of service plan in use.</span></span> <span data-ttu-id="0d3f4-114">Queste risorse di calcolo sono analoghe alla server farm di un hosting Web tradizionale.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-114">These compute resources are analogous to the server farm in conventional web hosting.</span></span> <span data-ttu-id="0d3f4-115">È possibile configurare una o più app da eseguire nello stesso piano di servizio app.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-115">One or more apps can be configured to run on the same App Service plan.</span></span>

<span data-ttu-id="0d3f4-116">Quando si distribuiscono le app, è possibile creare un nuovo piano di servizio app o continuare ad aggiungere le app a un piano esistente.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-116">When you deploy your apps, you can create a new App Service plan or you can continue to add apps to an existing plan.</span></span>  <span data-ttu-id="0d3f4-117">Tuttavia, solo le app nello stesso piano di servizio app condividono le stesse risorse di calcolo.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-117">However, apps in the same App Service plan all share the same compute resources.</span></span> <span data-ttu-id="0d3f4-118">Per determinare se la nuova app ha le risorse adeguate, è necessario valutare la capacità del piano di servizio app esistente e il carico previsto per la nuova app.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-118">To determine whether the new app has the necessary resources, you need to understand the capacity of the existing App Service plan, and the expected load for the new app.</span></span> <span data-ttu-id="0d3f4-119">Il sovraccarico di un piano di servizio app può potenzialmente causare tempi di inattività per le app nuove ed esistenti.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-119">Overloading an App Service plan can potentially cause downtime for your new and existing apps.</span></span>

<span data-ttu-id="0d3f4-120">È possibile definire in anticipo un piano di servizio app nel portale di Azure con PowerShell o l'interfaccia della riga di comando di Azure oppure configurarne uno quando si pubblica l'applicazione in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-120">You can define an App Service plan in advance in the Azure portal with PowerShell or the Azure CLI, or set one up as you publish your application in Visual Studio.</span></span>

<span data-ttu-id="0d3f4-121">Ogni piano di servizio app definisce:</span><span class="sxs-lookup"><span data-stu-id="0d3f4-121">Each App Service plan defines:</span></span>

- <span data-ttu-id="0d3f4-122">Area (Stati Uniti occidentali, Stati Uniti orientali e così via)</span><span class="sxs-lookup"><span data-stu-id="0d3f4-122">Region (West US, East US, and so on)</span></span>
- <span data-ttu-id="0d3f4-123">Numero di istanze di VM</span><span class="sxs-lookup"><span data-stu-id="0d3f4-123">Number of VM instances</span></span>
- <span data-ttu-id="0d3f4-124">Dimensioni delle istanze di VM (piccola, media, grande)</span><span class="sxs-lookup"><span data-stu-id="0d3f4-124">Size of VM instances (small, medium, large)</span></span>
- <span data-ttu-id="0d3f4-125">Piano tariffario (Gratuito, Condiviso, Basic, Standard, Premium, Premium V2, Isolato, Consumo)</span><span class="sxs-lookup"><span data-stu-id="0d3f4-125">Pricing tier (Free, Shared, Basic, Standard, Premium, Premium V2, Isolated, Consumption)</span></span>

## <a name="specify-the-region"></a><span data-ttu-id="0d3f4-126">Specificare l'area</span><span class="sxs-lookup"><span data-stu-id="0d3f4-126">Specify the region</span></span>

<span data-ttu-id="0d3f4-127">Quando si crea un piano di servizio app, è necessario definire un'area o una località in cui verrà ospitato tale piano.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-127">When creating an App Service plan, you have to define a region or location where that plan will be hosted.</span></span> <span data-ttu-id="0d3f4-128">In genere, si tende a scegliere un'area geograficamente vicina ai clienti previsti.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-128">Typically, you would choose a region geographically close to your expected customers.</span></span>

## <a name="what-are-the-pricing-and-reliability-levels"></a><span data-ttu-id="0d3f4-129">Quali sono i prezzi e i livelli di affidabilità?</span><span class="sxs-lookup"><span data-stu-id="0d3f4-129">What are the pricing and reliability levels?</span></span>

<span data-ttu-id="0d3f4-130">Un fattore chiave per una distribuzione efficace delle app in servizio app di Azure è la scelta del piano di servizio corretto.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-130">A key factor when deploying apps to Azure App Service is choosing the right service plan.</span></span> <span data-ttu-id="0d3f4-131">È possibile passare a un piano di servizio app superiore o inferiore in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-131">Your App Service plan can be scaled up and down at any time.</span></span> <span data-ttu-id="0d3f4-132">È possibile scegliere prima un piano tariffario inferiore e passare a uno superiore in seguito, quando sono necessarie altre funzionalità del servizio app.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-132">You can choose a lower pricing tier at first and scale up later when you need more App Service features.</span></span>

<span data-ttu-id="0d3f4-133">Esistono alcune categorie di piani tariffari:</span><span class="sxs-lookup"><span data-stu-id="0d3f4-133">There are a few categories of pricing tiers:</span></span>

<span data-ttu-id="0d3f4-134">**Calcolo condiviso**: i due piani di base **Gratuito** e **Condiviso** eseguono un'app nella stessa VM di Azure delle altre app del servizio app, incluse le app di altri clienti.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-134">**Shared compute**: **Free** and **Shared**, the two base tiers, run an app on the same Azure VM as other App Service apps, including apps of other customers.</span></span> <span data-ttu-id="0d3f4-135">Questi piani allocano quote di CPU a ogni app eseguita nelle risorse condivise e non è possibile aumentare il numero di istanze delle risorse.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-135">These tiers allocate CPU quotas to each app that runs on the shared resources, and the resources cannot scale out.</span></span>

<span data-ttu-id="0d3f4-136">I piani Gratuito e Condiviso sono ottimali per i progetti personali su scala ridotta con richieste di traffico molto limitate, con un limite predefinito di 165 MB di dati in uscita ogni 24 ore.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-136">Free and Shared plans are best for small-scale personal projects with very limited traffic demands, with a set limit of 165 MB of outbound data every 24 hours.</span></span>

<span data-ttu-id="0d3f4-137">**Calcolo dedicato**: i piani **Basic, Standard, Premium e Premium V2** eseguono le app in VM di Azure dedicate.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-137">**Dedicated compute**: The **Basic, Standard, Premium, and Premium V2** tiers run apps on dedicated Azure VMs.</span></span> <span data-ttu-id="0d3f4-138">Solo le app nello stesso piano di servizio app condividono le stesse risorse di calcolo.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-138">Only apps in the same App Service plan share the same compute resources.</span></span> <span data-ttu-id="0d3f4-139">È possibile aumentare il numero di istanze delle VM in misura direttamente proporzionale al livello del piano.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-139">The higher the tier, the more VM instances are available to you for scale out.</span></span>

<span data-ttu-id="0d3f4-140">Il piano di servizio Standard è ideale per i carichi di lavoro di produzione in tempo reale, usati per pubblicare applicazioni commerciali per i clienti.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-140">The Standard service plan is best suited for live production workloads, where you are publishing commercial applications to customers.</span></span>
<span data-ttu-id="0d3f4-141">I piani di servizio Premium supportano le app Web ad alta capacità in cui si desidera evitare i costi aggiuntivi di un piano dedicato (Isolato).</span><span class="sxs-lookup"><span data-stu-id="0d3f4-141">The Premium service plans support high-capacity web apps where you do not want the additional costs of a dedicated (isolated) plan.</span></span>

<span data-ttu-id="0d3f4-142">**Isolato**: questo piano esegue le VM di Azure dedicate in reti virtuali di Azure dedicate, che forniscono alle app l'isolamento della rete oltre all'isolamento del calcolo.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-142">**Isolated**: This tier runs dedicated Azure VMs on dedicated Azure virtual networks, which provide network isolation on top of compute isolation to your apps.</span></span> <span data-ttu-id="0d3f4-143">Offre funzionalità ottimali per aumentare il numero di istanze.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-143">It provides the maximum scale-out capabilities.</span></span> <span data-ttu-id="0d3f4-144">Selezionare un piano di servizio Isolato solo in presenza del requisito specifico di garantire livelli massimi di prestazioni e sicurezza.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-144">You would only select an Isolated service plan when you have a specific requirement for the highest levels of security and performance.</span></span>

<span data-ttu-id="0d3f4-145">Isolare l'app in un nuovo piano di servizio app nei casi seguenti:</span><span class="sxs-lookup"><span data-stu-id="0d3f4-145">Isolate your app into a new App Service plan when:</span></span>

- <span data-ttu-id="0d3f4-146">L'app usa molte risorse</span><span class="sxs-lookup"><span data-stu-id="0d3f4-146">The app is resource-intensive</span></span>
- <span data-ttu-id="0d3f4-147">Si vuole ridimensionare l'app indipendentemente dalle altre app nel piano esistente</span><span class="sxs-lookup"><span data-stu-id="0d3f4-147">You want to scale the app independently from the other apps in the existing plan</span></span>
- <span data-ttu-id="0d3f4-148">L'app necessita di risorse dislocate in un'area geografica diversa</span><span class="sxs-lookup"><span data-stu-id="0d3f4-148">The app needs resources in a different geographical region</span></span>

<span data-ttu-id="0d3f4-149">**Consumo**: questo piano è disponibile solo per le app per le funzioni.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-149">**Consumption**: This tier is only available to function apps.</span></span> <span data-ttu-id="0d3f4-150">Ridimensiona le funzioni in modo dinamico a seconda del carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-150">It scales the functions dynamically depending on workload.</span></span> <span data-ttu-id="0d3f4-151">Per altre informazioni, vedere il confronto di piani di hosting per Funzioni di Azure.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-151">For more information, see the Azure Functions hosting plans comparison.</span></span>

## <a name="specify-the-resource-group"></a><span data-ttu-id="0d3f4-152">Specificare il gruppo di risorse</span><span class="sxs-lookup"><span data-stu-id="0d3f4-152">Specify the resource group</span></span>

<span data-ttu-id="0d3f4-153">Come accade per la maggior parte delle risorse di Azure, è necessario specificare il gruppo di risorse da usare.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-153">As with most Azure resources, you will need to specify the resource group you want to use.</span></span> <span data-ttu-id="0d3f4-154">Si può usare un gruppo di risorse esistente o crearne uno nuovo direttamente da Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-154">You can use an existing resource group or create a new one directly from Visual Studio.</span></span> <span data-ttu-id="0d3f4-155">Un gruppo di risorse è un contenitore logico in cui vengono distribuite e gestite risorse di Azure come app Web, database e account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-155">A resource group is a logical container into which Azure resources like web apps, databases, and storage accounts are deployed and managed.</span></span> <span data-ttu-id="0d3f4-156">È un meccanismo utile per mantenere le risorse associate tra loro.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-156">It is a useful mechanism for keeping associated resources together.</span></span>

## <a name="deploy-your-web-app-from-visual-studio"></a><span data-ttu-id="0d3f4-157">Distribuire l'app Web da Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0d3f4-157">Deploy your web app from Visual Studio</span></span>

<span data-ttu-id="0d3f4-158">La procedura per pubblicare l'app in Azure da Visual Studio è breve.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-158">It's a short process to publish your app to Azure from Visual Studio.</span></span>

### <a name="select-the-project"></a><span data-ttu-id="0d3f4-159">Selezionare il progetto</span><span class="sxs-lookup"><span data-stu-id="0d3f4-159">Select the project</span></span>

1. <span data-ttu-id="0d3f4-160">In Esplora soluzioni fare clic con il pulsante destro del mouse sul progetto.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-160">Right-click the project in Solution Explorer.</span></span>
1. <span data-ttu-id="0d3f4-161">Selezionare **Pubblica > Pubblica in Azure**.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-161">Select **Publish > Publish to Azure**.</span></span>

### <a name="configure-the-app-service-plan-in-windows"></a><span data-ttu-id="0d3f4-162">Configurare il piano di servizio app in Windows</span><span class="sxs-lookup"><span data-stu-id="0d3f4-162">Configure the App Service plan in Windows</span></span>

1. <span data-ttu-id="0d3f4-163">Configurare il piano di servizio app</span><span class="sxs-lookup"><span data-stu-id="0d3f4-163">Configure the App Service plan</span></span>
    - <span data-ttu-id="0d3f4-164">Hosting: in questa scheda si configura il piano di servizio app. Specifica la località, le dimensioni e le funzionalità del server Web che ospita l'app.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-164">Hosting: You will configure your App Service plan in this tab. It specifies the location, size, and features of the web server that hosts your app.</span></span> <span data-ttu-id="0d3f4-165">È possibile selezionare un piano di hosting esistente o crearne uno nuovo.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-165">You can select an existing hosting plan or create a new one.</span></span> <span data-ttu-id="0d3f4-166">Windows genererà automaticamente nomi univoci a livello globale che possono essere modificati durante la configurazione.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-166">Windows will automatically generate globally unique names which you can change during setup.</span></span>
    - <span data-ttu-id="0d3f4-167">Servizi: qui è possibile configurare un database SQL per il sito.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-167">Services: You can configure a SQL database for your site here.</span></span>

        > [!NOTE]
        > <span data-ttu-id="0d3f4-168">Sebbene sia possibile connettere e gestire un database SQL di Azure da Visual Studio, questa operazione esula dall'ambito di questo modulo.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-168">Although you can connect and manage a SQL database in Azure from Visual Studio, that is beyond the scope of this module.</span></span>

1. <span data-ttu-id="0d3f4-169">Fare clic su **Crea** per distribuire l'app.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-169">Click **Create** to deploy the app.</span></span> <span data-ttu-id="0d3f4-170">Al termine, Visual Studio avvierà la pagina Web in cui è ospitato il sito.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-170">Once this is done, Visual Studio will launch the web page where your site is hosted.</span></span>

### <a name="configure-the-app-service-plan-for-mac"></a><span data-ttu-id="0d3f4-171">Configurare il piano di servizio app per Mac</span><span class="sxs-lookup"><span data-stu-id="0d3f4-171">Configure the App Service plan for Mac</span></span>

1. <span data-ttu-id="0d3f4-172">È possibile selezionare un piano di servizio app esistente, se in Azure se ne è già configurato uno, oppure crearne uno nuovo.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-172">You can select an existing App Service plan if you have one set up in Azure, or you can create a new one.</span></span>
1. <span data-ttu-id="0d3f4-173">Configurare il piano di servizio app in questa scheda. Specifica la località, le dimensioni e le funzionalità del server Web che ospita l'app.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-173">Configure your  App Service plan in this tab. It specifies the location, size, and features of the web server that hosts your app.</span></span> <span data-ttu-id="0d3f4-174">È possibile selezionare un piano di hosting esistente o crearne uno nuovo.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-174">You can select an existing hosting plan or create a new one.</span></span> <span data-ttu-id="0d3f4-175">Tenere presente che Azure richiede che il nome del sito Web e di tutte le risorse siano globalmente univoci.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-175">Remember that Azure requires the name of your website and all resources to be globally unique.</span></span>
1. <span data-ttu-id="0d3f4-176">Fare clic su **Crea** per distribuire l'app.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-176">Click **Create** to deploy the app.</span></span> <span data-ttu-id="0d3f4-177">Al termine, Visual Studio avvierà la pagina Web in cui è ospitato il sito.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-177">Once this is done, Visual Studio will launch the web page where your site is hosted.</span></span>

## <a name="summary"></a><span data-ttu-id="0d3f4-178">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="0d3f4-178">Summary</span></span>

<span data-ttu-id="0d3f4-179">Le applicazioni Web di ASP.NET Core e il servizio app di Azure rappresentano una soluzione flessibile e scalabile per l'hosting dell'app Web di ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-179">ASP.NET Core web applications and Azure App Services provide a flexible, scalable solution for hosting your ASP.NET web app.</span></span> <span data-ttu-id="0d3f4-180">Come per tutti i servizi di Azure, è necessario specificare un gruppo di risorse e selezionare il piano tariffario che meglio soddisfa le proprie esigenze.</span><span class="sxs-lookup"><span data-stu-id="0d3f4-180">As with all Azure services, you will need to provide a resource group and select the pricing tier which best fulfills your needs.</span></span>
