<span data-ttu-id="97d72-101">Vediamo ora come eseguire lo staging del contenuto e la distribuzione riducendo al minimo i tempi di inattività.</span><span class="sxs-lookup"><span data-stu-id="97d72-101">Now, let's see how we can stage our content and deploy with little or no downtime.</span></span>

## <a name="what-is-a-deployment-slot"></a><span data-ttu-id="97d72-102">Che cos'è uno slot di distribuzione?</span><span class="sxs-lookup"><span data-stu-id="97d72-102">What is a deployment slot?</span></span>

<span data-ttu-id="97d72-103">Uno slot di distribuzione è un'app **indipendente** in Servizio app con contenuto e configurazione propri e un nome host univoco.</span><span class="sxs-lookup"><span data-stu-id="97d72-103">A deployment slot is an **independent** app in App Service with its own content, configuration, and even a unique host name.</span></span> <span data-ttu-id="97d72-104">Funziona quindi come qualsiasi altra app in Servizio app.</span><span class="sxs-lookup"><span data-stu-id="97d72-104">Therefore, it functions like any other app in App Service.</span></span>

<span data-ttu-id="97d72-105">Gli slot di distribuzione sono accessibili dai rispettivi URL univoci.</span><span class="sxs-lookup"><span data-stu-id="97d72-105">Each deployment slot is accessible from its unique URL.</span></span> <span data-ttu-id="97d72-106">Si supponga ad esempio di aver aggiunto uno slot di distribuzione di **staging** denominandolo `BESTBIKE`.</span><span class="sxs-lookup"><span data-stu-id="97d72-106">For instance, let's say I've added a **staging** deployment slot with the name `BESTBIKE`.</span></span> <span data-ttu-id="97d72-107">Gli URL per l'applicazione e lo slot di distribuzione sono i seguenti:</span><span class="sxs-lookup"><span data-stu-id="97d72-107">The URLs for the application and deployment slot are:</span></span>

- https://BESTBIKE.azurewebsites.net/
- https://BESTBIKE-staging.azurewebsites.net/

## <a name="why-are-deployment-slots-useful"></a><span data-ttu-id="97d72-108">Perché gli slot di distribuzione sono utili?</span><span class="sxs-lookup"><span data-stu-id="97d72-108">Why are deployment slots useful?</span></span>

<span data-ttu-id="97d72-109">Distribuire l'app Web in modo tradizionale, vale a dire tramite FTP, Distribuzione Web, Git o qualsiasi altro modo, presenta alcuni svantaggi:</span><span class="sxs-lookup"><span data-stu-id="97d72-109">Deploying your web app in the traditional way, whether it be via FTP, Web Deploy, Git, or another way, has some weaknesses:</span></span>

- <span data-ttu-id="97d72-110">Dopo essere stata distribuita, l'app potrebbe riavviarsi causando un **avvio a freddo** dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="97d72-110">After the deployment completes, the app might restart, causing a **cold start** for the application.</span></span> <span data-ttu-id="97d72-111">La prima richiesta all'applicazione sarà più lenta.</span><span class="sxs-lookup"><span data-stu-id="97d72-111">The first request to the application will be slower.</span></span>

- <span data-ttu-id="97d72-112">Potenzialmente, si distribuisce una versione *non corretta* dell'app. È quindi consigliabile testarla in un ambiente di produzione prima di rilasciarla nel client.</span><span class="sxs-lookup"><span data-stu-id="97d72-112">Potentially, you are deploying a *bad* version of your app, and you should test it (in production) before releasing it to your client.</span></span>

<span data-ttu-id="97d72-113">È in queste condizioni che entrano in gioco gli slot di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="97d72-113">This is where deployment slots come into play.</span></span> <span data-ttu-id="97d72-114">È possibile apportare modifiche all'app nello slot di distribuzione di **staging** e testare le modifiche senza alcun impatto sugli utenti che accedono allo slot di distribuzione di **produzione**.</span><span class="sxs-lookup"><span data-stu-id="97d72-114">You can make changes to your app to a **staging** deployment slot and test the changes without impacting users who are accessing the **production** deployment slot.</span></span> <span data-ttu-id="97d72-115">Quando si è pronti a spostare le nuove funzionalità nell'ambiente di produzione, è sufficiente **scambiare** gli slot di staging e di produzione **senza tempi di inattività**.</span><span class="sxs-lookup"><span data-stu-id="97d72-115">When you are ready to move the new features into production, you can just **swap** the staging and production slots with **no downtime**.</span></span>

<span data-ttu-id="97d72-116">Un altro vantaggio dell'uso degli slot di distribuzione consiste nel fatto che è possibile **preparare** l'applicazione in uno slot di staging prima di scambiarla nello slot di produzione.</span><span class="sxs-lookup"><span data-stu-id="97d72-116">Another benefit of using deployment slots is that you can **warm up** your application in a staging slot before swapping it into the production slot.</span></span> <span data-ttu-id="97d72-117">Si eviteranno così **avvio a freddo** e codice di inizializzazione di lunga durata.</span><span class="sxs-lookup"><span data-stu-id="97d72-117">You will avoid the delays of a **cold start** and the lengthy initialization code.</span></span>

<span data-ttu-id="97d72-118">Infine, è possibile **effettuare un nuovo scambio** con lo slot di distribuzione precedente se ci si accorge che la nuova versione dell'applicazione non funziona come previsto.</span><span class="sxs-lookup"><span data-stu-id="97d72-118">Finally, you can **swap back** to the previous deployment slot if you realize that the new version of your application is not working as you expected.</span></span>

## <a name="what-is-automated-deployment"></a><span data-ttu-id="97d72-119">Che cos'è la distribuzione automatica?</span><span class="sxs-lookup"><span data-stu-id="97d72-119">What is automated deployment?</span></span>

<span data-ttu-id="97d72-120">La distribuzione automatica, o integrazione continua, è un processo usato per effettuare il push di nuove funzionalità e correggere bug in modo veloce e ripetitivo, con impatto minimo sugli utenti finali.</span><span class="sxs-lookup"><span data-stu-id="97d72-120">Automated deployment, or continuous integration, is a process used to push out new features and bug fixes in a fast and repetitive pattern with minimal impact on end users.</span></span>

<span data-ttu-id="97d72-121">Azure supporta la distribuzione automatica direttamente da diverse origini.</span><span class="sxs-lookup"><span data-stu-id="97d72-121">Azure supports automated deployment directly from several sources.</span></span> <span data-ttu-id="97d72-122">Sono disponibili le opzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="97d72-122">The following options are available:</span></span>

- <span data-ttu-id="97d72-123">**Visual Studio Team Services (VSTS)**: è possibile eseguire il push del codice in VSTS, compilare il codice nel cloud, eseguire i test, generare una versione dal codice e infine eseguire il push del codice in un'app Web di Azure.</span><span class="sxs-lookup"><span data-stu-id="97d72-123">**Visual Studio Team Services (VSTS)**: You can push your code to VSTS, build your code in the cloud, run the tests, generate a release from the code, and finally, push your code to an Azure Web App.</span></span>

- <span data-ttu-id="97d72-124">**GitHub**: Azure supporta la distribuzione automatica direttamente da GitHub.</span><span class="sxs-lookup"><span data-stu-id="97d72-124">**GitHub**: Azure supports automated deployment directly from GitHub.</span></span> <span data-ttu-id="97d72-125">Quando si connette il repository di GitHub ad Azure per eseguire la distribuzione automatica, tutte le modifiche di cui si effettua il push nel ramo di produzione in GitHub saranno automaticamente distribuite all'utente.</span><span class="sxs-lookup"><span data-stu-id="97d72-125">When you connect your GitHub repository to Azure for automated deployment, any changes you push to your production branch on GitHub will be automatically deployed for you.</span></span>

- <span data-ttu-id="97d72-126">**Bitbucket**: analogamente a GitHub, è possibile configurare una distribuzione automatica con Bitbucket.</span><span class="sxs-lookup"><span data-stu-id="97d72-126">**Bitbucket**: With its similarities to GitHub, you can configure an automated deployment with Bitbucket.</span></span>

- <span data-ttu-id="97d72-127">**OneDrive**: è possibile connettere l'account di OneDrive a Servizio app. In questo modo, quando si apportano modifiche a un file nell'account di OneDrive, Azure le rileverà automaticamente ed effettuerà il pull delle modifiche nei file dell'app Web.</span><span class="sxs-lookup"><span data-stu-id="97d72-127">**OneDrive**: You can connect your OneDrive account with App Service so that when you change any file on your OneDrive account, Azure will automatically detect it and pull in any changes on the web app files.</span></span> <span data-ttu-id="97d72-128">Si tratta di un'ottima soluzione per i siti Web statici.</span><span class="sxs-lookup"><span data-stu-id="97d72-128">This is a great option for static websites.</span></span> <span data-ttu-id="97d72-129">Si avrà la sensazione di lavorare con un file system locale che riflette ogni modifica in Azure, in modo uniforme e immediato.</span><span class="sxs-lookup"><span data-stu-id="97d72-129">It will give you the feeling that you are dealing with a local file system that reflects any changes on Azure, smoothly and instantly.</span></span>

- <span data-ttu-id="97d72-130">**Dropbox**: analogamente a OneDrive, è possibile ospitare i file dell'app Web in un account di Dropbox, eseguirne il push automaticamente e distribuirli in un'app Web.</span><span class="sxs-lookup"><span data-stu-id="97d72-130">**Dropbox**: Similar to OneDrive, you can host your web app files in a Dropbox account and have them automatically push and be deployed over a web app.</span></span>

- <span data-ttu-id="97d72-131">**Repository esterno**: è possibile configurare la distribuzione automatica con un repository Git esterno.</span><span class="sxs-lookup"><span data-stu-id="97d72-131">**External repository**: You can configure automated deployment with any external Git repository.</span></span>

### <a name="non-automated-deployment-to-azure"></a><span data-ttu-id="97d72-132">Distribuzione non automatica in Azure</span><span class="sxs-lookup"><span data-stu-id="97d72-132">Non-automated deployment to Azure</span></span>

<span data-ttu-id="97d72-133">Per effettuare il push manuale del codice in Azure, sono disponibili alcune opzioni:</span><span class="sxs-lookup"><span data-stu-id="97d72-133">There are a few options that you can use to manually push your code to Azure:</span></span>

- <span data-ttu-id="97d72-134">**FTP/S**: FTP o FTPS è un modo tradizionale per effettuare il push del codice in qualsiasi ambiente di hosting.</span><span class="sxs-lookup"><span data-stu-id="97d72-134">**FTP/S**: FTP or FTPS is a traditional way of pushing your code to any hosting environment.</span></span> <span data-ttu-id="97d72-135">Nonostante non sia più consigliabile, è possibile continuare a usare questo modo.</span><span class="sxs-lookup"><span data-stu-id="97d72-135">Despite the fact that it is not recommended anymore, you can still make use of it.</span></span>

- <span data-ttu-id="97d72-136">**Distribuzione Web/IDE**: è possibile usare l'IDE di Visual Studio per pubblicare l'app Web in Azure.</span><span class="sxs-lookup"><span data-stu-id="97d72-136">**Web Deploy/IDE**: You can use the Visual Studio IDE to publish your web app to Azure.</span></span> <span data-ttu-id="97d72-137">Il meccanismo di pubblicazione di Visual Studio può usare la tecnologia Distribuzione Web per effettuare il push del codice in Azure.</span><span class="sxs-lookup"><span data-stu-id="97d72-137">The Visual Studio publishing mechanism can make use of Web Deploy technology to push your code to Azure.</span></span>

- <span data-ttu-id="97d72-138">**Git**: Azure mantiene un **repository Git locale** per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="97d72-138">**Git**: Azure maintains a **local Git repository** for your application.</span></span> <span data-ttu-id="97d72-139">È possibile **eseguire il commit** del codice direttamente in esso.</span><span class="sxs-lookup"><span data-stu-id="97d72-139">You can **commit** your code directly to it.</span></span>

> <span data-ttu-id="97d72-140">In questo modulo si eseguirà una distribuzione non automatica tramite Git.</span><span class="sxs-lookup"><span data-stu-id="97d72-140">In this module, we are going to perform a non-automated deployment using Git.</span></span>

## <a name="summary"></a><span data-ttu-id="97d72-141">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="97d72-141">Summary</span></span>

<span data-ttu-id="97d72-142">Azure offre modi diversi per caricare il codice e adattarlo al meglio al flusso di lavoro corrente.</span><span class="sxs-lookup"><span data-stu-id="97d72-142">Azure provides multiple ways to upload your code to help it better fit in with your current workflow.</span></span> <span data-ttu-id="97d72-143">È anche possibile usare gli slot di distribuzione per evitare tempi di inattività agli utenti.</span><span class="sxs-lookup"><span data-stu-id="97d72-143">You can also use deployment slots to help prevent downtime for your users.</span></span>
