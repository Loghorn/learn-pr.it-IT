<span data-ttu-id="d1e17-101">Sono state aggiunte le librerie client necessarie all'applicazione ed è ora possibile connettersi all'account di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="d1e17-101">You have added the required client libraries to your application and are ready to connect to your Azure storage account.</span></span> <span data-ttu-id="d1e17-102">Tuttavia, l'applicazione è in grado di riconoscere l'account a cui connettersi e l'area in cui si trova l'account di archiviazione?</span><span class="sxs-lookup"><span data-stu-id="d1e17-102">However, how does your app know what account to connect to and what region that storage account exists in?</span></span> <span data-ttu-id="d1e17-103">Senza la configurazione appropriata, l'app non saprà come connettersi all'account di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="d1e17-103">Without appropriate configuration, your app will not know how to connect to your Azure storage account.</span></span> 

<span data-ttu-id="d1e17-104">In questo esercizio si individueranno le informazioni di connessione all'account di archiviazione nel portale di Azure, che verranno quindi aggiunte nella configurazione dell'applicazione, in modo che l'app sia pronta per connettersi all'account di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="d1e17-104">Here, you'll locate the storage account connection information in the Azure portal and place it into your application configuration so that your app is ready to connect to your Azure storage account.</span></span>

## <a name="access-keys"></a><span data-ttu-id="d1e17-105">Chiavi di accesso</span><span class="sxs-lookup"><span data-stu-id="d1e17-105">Access keys</span></span>

<span data-ttu-id="d1e17-106">Ogni account di archiviazione include un set di chiavi di accesso che permettono l'accesso all'account di archiviazione stesso.</span><span class="sxs-lookup"><span data-stu-id="d1e17-106">Each storage account has a set of access keys that allow access to the storage account.</span></span> <span data-ttu-id="d1e17-107">Se l'app deve connettersi a più account di archiviazione, dovrà avere chiavi di accesso per ogni account.</span><span class="sxs-lookup"><span data-stu-id="d1e17-107">If your app needs to connect to multiple storage accounts, then your app will require access keys for each storage account.</span></span>

![Più account](..\media-draft\6-multiple-accounts.png)

<span data-ttu-id="d1e17-109">Poiché Azure è un provider di servizi cloud, oltre alle chiavi di accesso per l'autenticazione negli account di archiviazione, l'app dovrà identificare gli endpoint del servizio di archiviazione che forniscono l'accesso tramite Internet all'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="d1e17-109">Since Azure is a cloud provider, in addition to access keys for authentication to storage accounts, your app will need to know the storage service endpoints that provide access over the internet to your storage account.</span></span> <span data-ttu-id="d1e17-110">Il metodo più semplice per gestire queste informazioni consiste nell'usare la stringa di connessione dell'account di archiviazione, che contiene tutte le informazioni di connettività necessarie in un'unica stringa.</span><span class="sxs-lookup"><span data-stu-id="d1e17-110">The simplest way to handle this information is to use the storage account connection string, which contains all needed connectivity information in a single string.</span></span>

<span data-ttu-id="d1e17-111">Le stringhe di connessione di Archiviazione di Azure hanno un aspetto simile a quelle mostrate nell'esempio seguente, ma con la chiave di accesso e il nome dell'account di archiviazione specifico in uso:</span><span class="sxs-lookup"><span data-stu-id="d1e17-111">Azure Storage connection strings look similar to the example below but with the access key and account name of your specific storage account:</span></span>

```csharp
DefaultEndpointsProtocol=https;AccountName={your-storage};AccountKey={your-access-key};EndpointSuffix=core.windows.net
```

## <a name="security"></a><span data-ttu-id="d1e17-112">Sicurezza</span><span class="sxs-lookup"><span data-stu-id="d1e17-112">Security</span></span>

<span data-ttu-id="d1e17-113">Le chiavi di accesso sono fondamentali per permettere l'accesso all'account di archiviazione e di conseguenza non devono essere fornite ad alcun sistema o utente che non deve avere accesso all'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="d1e17-113">Access keys are critical to providing access to your storage account and as a result, should not be given to any system or person that you do not wish to have access to your storage account.</span></span> <span data-ttu-id="d1e17-114">Le chiavi di accesso sono l'equivalente di un nome utente e una password per accedere al computer.</span><span class="sxs-lookup"><span data-stu-id="d1e17-114">Access keys are the equivalent of a username and password to access your computer.</span></span>

<span data-ttu-id="d1e17-115">In genere, le informazioni di connettività dell'account di archiviazione sono archiviate all'interno di una variabile di ambiente, un database o un file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="d1e17-115">Typically, storage account connectivity information is stored within an environment variable, database, or configuration file.</span></span>

<span data-ttu-id="d1e17-116">È importante notare che l'archiviazione di queste informazioni in un file di configurazione può essere pericolosa se il file viene incluso nel controllo del codice sorgente e salvato in un archivio pubblico.</span><span class="sxs-lookup"><span data-stu-id="d1e17-116">It is important to note that storing this information in a configuration file can also be dangerous if you include that file in source control and store it in a public repository.</span></span> <span data-ttu-id="d1e17-117">Questo è un errore comune e fa sì che chiunque possa esplorare il codice sorgente nell'archivio pubblico e prendere visione delle informazioni di connessione dell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="d1e17-117">This is a common mistake and means that anyone can browse your source code in the public repository and see your storage account connection information.</span></span>

<span data-ttu-id="d1e17-118">Gli account di archiviazione offrono un meccanismo di autenticazione separato denominato firme di accesso condiviso che supporta la scadenza e autorizzazioni limitate per scenari in cui è necessario concedere accesso con restrizioni.</span><span class="sxs-lookup"><span data-stu-id="d1e17-118">Storage accounts offer a separate authentication mechanism called shared access signatures that support expiration and limited permissions for scenarios where you need to grant limited access.</span></span> <span data-ttu-id="d1e17-119">Questo argomento non verrà trattato qui e non è necessario per questo modulo,</span><span class="sxs-lookup"><span data-stu-id="d1e17-119">This topic will not be covered here and is not required knowledge for this module.</span></span> <span data-ttu-id="d1e17-120">ma altre informazioni al riguardo sono disponibili [qui](https://docs.microsoft.com/azure/storage/common/storage-dotnet-shared-access-signature-part-1).</span><span class="sxs-lookup"><span data-stu-id="d1e17-120">However, more information can be found [here](https://docs.microsoft.com/azure/storage/common/storage-dotnet-shared-access-signature-part-1).</span></span>

<span data-ttu-id="d1e17-121">Ogni account di archiviazione include due chiavi di accesso.</span><span class="sxs-lookup"><span data-stu-id="d1e17-121">Each storage account has two access keys.</span></span> <span data-ttu-id="d1e17-122">Il motivo di questo approccio è consentire la rotazione (rigenerazione) periodica delle chiavi nell'ambito delle procedure consigliate per la sicurezza per proteggere l'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="d1e17-122">The reason for this is to allow keys to be rotated (regenerated) periodically as part of security best practice in keeping your storage account secure.</span></span> <span data-ttu-id="d1e17-123">Questo processo può essere eseguito dal portale di Azure o dall'interfaccia della riga di comando di Azure.</span><span class="sxs-lookup"><span data-stu-id="d1e17-123">This process can be done from the Azure portal or the Azure CLI.</span></span>

<span data-ttu-id="d1e17-124">La rotazione di una chiave annulla immediatamente la validità del valore della chiave originale e revoca l'accesso a chiunque abbia ottenuto la chiave in modo inappropriato.</span><span class="sxs-lookup"><span data-stu-id="d1e17-124">Rotating a key will invalidate the original key value immediately and will revoke access to anyone who obtained the key inappropriately.</span></span> <span data-ttu-id="d1e17-125">Con il supporto per due chiavi, è possibile ruotare le chiavi senza causare tempo di inattività nelle applicazioni che le usano.</span><span class="sxs-lookup"><span data-stu-id="d1e17-125">With support for two keys, you can rotate keys without causing downtime in your applications that use them.</span></span> <span data-ttu-id="d1e17-126">L'app può passare a usare la chiave di accesso alternativa mentre viene rigenerata l'altra chiave.</span><span class="sxs-lookup"><span data-stu-id="d1e17-126">Your app can switch to using the alternate access key, while the other key is regenerated.</span></span> <span data-ttu-id="d1e17-127">Se più app usano questo account di archiviazione, devono usare tutte la stessa chiave per poter supportare questa tecnica.</span><span class="sxs-lookup"><span data-stu-id="d1e17-127">If you have multiple apps using this storage account, they should all use the same key to support this technique.</span></span> <span data-ttu-id="d1e17-128">Per altre informazioni, vedere [qui](https://docs.microsoft.com/azure/storage/common/storage-create-storage-account#manage-your-storage-access-keys).</span><span class="sxs-lookup"><span data-stu-id="d1e17-128">See [here](https://docs.microsoft.com/azure/storage/common/storage-create-storage-account#manage-your-storage-access-keys) for more information.</span></span>

## <a name="advanced-security-options"></a><span data-ttu-id="d1e17-129">Opzioni di sicurezza avanzata</span><span class="sxs-lookup"><span data-stu-id="d1e17-129">Advanced security options</span></span>

<span data-ttu-id="d1e17-130">Azure offre un archivio di sicurezza avanzato denominato Azure Key Vault, progettato per archiviare in modo sicuro qualsiasi forma di segreto, come chiavi di accesso, password o certificati.</span><span class="sxs-lookup"><span data-stu-id="d1e17-130">Azure offers a high-grade security store called Azure Key Vault designed to securely store any form of secrets like access keys, passwords, or certificates.</span></span> <span data-ttu-id="d1e17-131">Usando questa funzionalità, è possibile archiviare in modo sicuro le chiavi di accesso e abilitarne la rotazione automatica.</span><span class="sxs-lookup"><span data-stu-id="d1e17-131">Using this feature, you can safely store your access keys and have them auto-rotated.</span></span>

<span data-ttu-id="d1e17-132">Questa funzionalità esula dall'ambito di questo modulo, ma altre informazioni al riguardo sono disponibili [qui](https://docs.microsoft.com/azure/key-vault/key-vault-ovw-storage-keys).</span><span class="sxs-lookup"><span data-stu-id="d1e17-132">This feature is outside the scope of this module, but more information can be found [here](https://docs.microsoft.com/azure/key-vault/key-vault-ovw-storage-keys).</span></span>

## <a name="summary"></a><span data-ttu-id="d1e17-133">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="d1e17-133">Summary</span></span>

<span data-ttu-id="d1e17-134">Per connettersi a un account di archiviazione di Azure, sono necessari due elementi.</span><span class="sxs-lookup"><span data-stu-id="d1e17-134">To connect to an Azure storage account, you need two things.</span></span> <span data-ttu-id="d1e17-135">Una chiave di accesso, simile a un nome utente e una password, che deve essere mantenuta riservata.</span><span class="sxs-lookup"><span data-stu-id="d1e17-135">You need an access key, which is similar to a username and password and should be kept confidential.</span></span> <span data-ttu-id="d1e17-136">Un endpoint servizio di archiviazione, rappresentato da una stringa di connessione.</span><span class="sxs-lookup"><span data-stu-id="d1e17-136">You also need a storage service endpoint, which is represented by a connection string.</span></span>
