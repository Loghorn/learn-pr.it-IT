<span data-ttu-id="e21d5-101">Garantire un'esperienza utente eccezionale in uno scenario di e-commerce richiede disponibilità elevata e bassa latenza.</span><span class="sxs-lookup"><span data-stu-id="e21d5-101">Assuring a great user experience in an e-commerce scenario such as yours requires high availability and low latency.</span></span>

<span data-ttu-id="e21d5-102">Abilitando il supporto multimaster nell'account Azure Cosmos DB appena creato, sono numerosi i vantaggi per questi due aspetti delle prestazioni e tutti i vantaggi sono garantiti dai contratti di servizio con supporto finanziario offerti da Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="e21d5-102">By enabling multi-master support on the Azure Cosmos DB account you just created, there are multiple benefits to both of these performance aspects, and all of the benefits are guaranteed by the financially backed service level agreements (SLAs) provided by Azure Cosmos DB.</span></span>

## <a name="what-is-multi-master-support"></a><span data-ttu-id="e21d5-103">Che cos'è il supporto multimaster?</span><span class="sxs-lookup"><span data-stu-id="e21d5-103">What is multi-master support?</span></span>

<span data-ttu-id="e21d5-104">Il supporto multimaster è un'opzione che può essere abilitata nei nuovi account Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="e21d5-104">Multi-master support is an option that can be enabled on new Azure Cosmos DB accounts.</span></span> <span data-ttu-id="e21d5-105">Una volta che l'account viene replicato in più aree, ogni area è un'area master che partecipa in ugual misura a un modello di scrittura ovunque, anche noto come modello attivo-attivo.</span><span class="sxs-lookup"><span data-stu-id="e21d5-105">Once the account is replicated in multiple regions, each region is a master region that equally participates in a write-anywhere model, also known as an active-active pattern.</span></span>

<span data-ttu-id="e21d5-106">Le aree di Azure Cosmos DB che fungono da aree master in una configurazione multimaster operano automaticamente in modo da convergere i dati scritti in tutte le repliche e assicurare la coerenza globale e l'integrità dei dati.</span><span class="sxs-lookup"><span data-stu-id="e21d5-106">Azure Cosmos DB regions operating as master regions in a multi-master configuration automatically work to converge data written to all replicas and ensure global consistency and data integrity.</span></span>

<span data-ttu-id="e21d5-107">Con il supporto multimaster di Azure Cosmos DB è possibile eseguire operazioni di scrittura in qualsiasi contenitore in un'area abilitata per la scrittura a livello globale.</span><span class="sxs-lookup"><span data-stu-id="e21d5-107">With Azure Cosmos DB multi-master support, you can perform writes on any container in a write-enabled region world-wide.</span></span> <span data-ttu-id="e21d5-108">I dati scritti vengono propagati immediatamente a tutte le altre aree.</span><span class="sxs-lookup"><span data-stu-id="e21d5-108">Written data is propagated to all other regions immediately.</span></span>  

## <a name="what-are-the-benefits-of-multi-master-support"></a><span data-ttu-id="e21d5-109">Quali sono i vantaggi offerti dal supporto multimaster?</span><span class="sxs-lookup"><span data-stu-id="e21d5-109">What are the benefits of multi-master support?</span></span>

<span data-ttu-id="e21d5-110">I vantaggi offerti dal supporto multimaster sono:</span><span class="sxs-lookup"><span data-stu-id="e21d5-110">The benefits of multi-master support are:</span></span>

* <span data-ttu-id="e21d5-111">Latenza di scrittura a singole unità: gli account multimaster hanno una latenza di scrittura migliorata di <10 ms per il 99% delle operazioni di scrittura, fino a <15 ms per gli account non multimaster.</span><span class="sxs-lookup"><span data-stu-id="e21d5-111">Single-digit write latency – Multi-master accounts have an improved write latency of <10 ms for 99% of writes, up from <15 ms for non-multi-master accounts.</span></span>
* <span data-ttu-id="e21d5-112">Disponibilità del 99,999% nelle operazioni di lettura/scrittura: la disponibilità nelle operazioni di scrittura degli account multimaster aumenta al 99,999%, dal 99,99% per gli account non multimaster.</span><span class="sxs-lookup"><span data-stu-id="e21d5-112">99.999% read-write availability - The write availability multi-master accounts increases to 99.999%, up from the 99.99% for non-multi-master accounts.</span></span>
* <span data-ttu-id="e21d5-113">Scalabilità delle operazioni di scrittura e velocità effettiva illimitate: con gli account multimaster è possibile scrivere in ogni area, garantendo scalabilità delle operazioni di scrittura e velocità effettiva illimitate per supportare miliardi di dispositivi.</span><span class="sxs-lookup"><span data-stu-id="e21d5-113">Unlimited write scalability and throughput – With multi-master accounts, you can write to every region, providing unlimited write scalability and throughput to support billions of devices.</span></span>
* <span data-ttu-id="e21d5-114">Risoluzione integrata dei conflitti: gli account multimaster hanno tre metodi per la risoluzione dei conflitti per garantire coerenza e integrità dei dati a livello globale.</span><span class="sxs-lookup"><span data-stu-id="e21d5-114">Built-in conflict resolution – Multi-master accounts have three methods for resolving conflicts to ensure global data integrity and consistency.</span></span> 

## <a name="conflict-resolution"></a><span data-ttu-id="e21d5-115">Risoluzione dei conflitti</span><span class="sxs-lookup"><span data-stu-id="e21d5-115">Conflict resolution</span></span>

<span data-ttu-id="e21d5-116">Con l'aggiunta del supporto multimaster potrebbero verificarsi conflitti per la scrittura in aree diverse.</span><span class="sxs-lookup"><span data-stu-id="e21d5-116">With the addition of multi-master support comes the possibility of encountering conflicts for writes to different regions.</span></span> <span data-ttu-id="e21d5-117">I conflitti sono estremamente rari in Azure Cosmos DB e possono verificarsi solo quando un elemento viene modificato contemporaneamente in più aree, prima che sia stata eseguita la propagazione tra le aree.</span><span class="sxs-lookup"><span data-stu-id="e21d5-117">Conflicts are extremely rare in Azure Cosmos DB and can only occur when an item is simultaneously changed in multiple regions, before propagation between the regions has happened.</span></span> <span data-ttu-id="e21d5-118">Considerata la velocità con cui la replica si verifica a livello globale, questi conflitti non dovrebbero verificarsi quasi mai.</span><span class="sxs-lookup"><span data-stu-id="e21d5-118">Given the speed with which replication happens globally, you should not experience this often, if at all.</span></span> <span data-ttu-id="e21d5-119">Tuttavia, Azure Cosmos DB fornisce modalità di risoluzione dei conflitti che consentono agli utenti di gestire scenari in cui lo stesso record viene aggiornato simultaneamente da writer diversi in due o più aree.</span><span class="sxs-lookup"><span data-stu-id="e21d5-119">However, Azure Cosmos DB does provide conflict resolution modes that allows users to decide how to handle scenarios where the same record is updated simultaneously by different writers in two or more regions.</span></span>  

<span data-ttu-id="e21d5-120">Azure Cosmos DB offre tre tipi di modelli di risoluzione dei conflitti.</span><span class="sxs-lookup"><span data-stu-id="e21d5-120">There are three conflict resolution modes offered by Azure Cosmos DB.</span></span> 
* <span data-ttu-id="e21d5-121">**Priorità ultima scrittura**, in cui i conflitti vengono risolti in base al valore di una proprietà integer definita dall'utente nel documento.</span><span class="sxs-lookup"><span data-stu-id="e21d5-121">**Last-Writer-Wins (LWW)**, in which conflicts are resolved based on the value of a user-defined integer property in the document.</span></span> <span data-ttu-id="e21d5-122">Per impostazione predefinita viene usata la proprietà _ts per determinare l'ultimo documento scritto.</span><span class="sxs-lookup"><span data-stu-id="e21d5-122">By default _ts is used to determine the last written document.</span></span> <span data-ttu-id="e21d5-123">Priorità ultima scrittura è il meccanismo predefinito di gestione dei conflitti.</span><span class="sxs-lookup"><span data-stu-id="e21d5-123">Last-Writer-Wins is the default conflict handling mechanism.</span></span>
* <span data-ttu-id="e21d5-124">**Personalizzata: procedura definita dall'utente**, in cui è possibile controllare completamente la risoluzione dei conflitti tramite la registrazione di una procedura definita dall'utente nella raccolta.</span><span class="sxs-lookup"><span data-stu-id="e21d5-124">**Custom - User Defined Procedure**, in which you can fully control conflict resolution by registering a User Defined Procedure to the collection.</span></span> <span data-ttu-id="e21d5-125">Una procedura definita dall'utente è un tipo speciale di stored procedure con una firma molto specifica.</span><span class="sxs-lookup"><span data-stu-id="e21d5-125">A User Defined Procedure is a special type of stored procedure with a very specific signature.</span></span> <span data-ttu-id="e21d5-126">Se la procedura definita dall'utente ha esito negativo o non esiste, Azure Cosmos DB aggiungerà tutti i conflitti nei feed dei conflitti di sola lettura per essere elaborati in modo asincrono.</span><span class="sxs-lookup"><span data-stu-id="e21d5-126">If the User Defined Procedure fails or does not exist, Azure Cosmos DB will add all conflicts into the read-only conflicts feed they can be processed asynchronously.</span></span>  
* <span data-ttu-id="e21d5-127">**Personalizzata: asincrona**, in cui Azure Cosmos DB esclude il commit per tutti i conflitti e li registra nel feed dei conflitti di sola lettura per la risoluzione posticipata dall'applicazione dell'utente.</span><span class="sxs-lookup"><span data-stu-id="e21d5-127">**Custom - Async**, in which Azure Cosmos DB excludes all conflicts from being committed and registers them in the read-only conflicts feed for deferred resolution by the user’s application.</span></span> <span data-ttu-id="e21d5-128">L'applicazione può eseguire la risoluzione dei conflitti in modo asincrono e usare qualsiasi logica o fare riferimento a qualsiasi origine esterna, applicazione o servizio per risolvere il conflitto.</span><span class="sxs-lookup"><span data-stu-id="e21d5-128">The application can perform conflict resolution asynchronously and use any logic or refer to any external source, application or service to resolve the conflict.</span></span>

## <a name="summary"></a><span data-ttu-id="e21d5-129">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="e21d5-129">Summary</span></span>

<span data-ttu-id="e21d5-130">In questa unità sono stati descritti gli account multimaster, che consentono di scrivere dati in più aree per migliorare la disponibilità e le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="e21d5-130">In this unit, learned about multi-master accounts, which enable you to write data to multiple regions for improved availability and performance.</span></span>