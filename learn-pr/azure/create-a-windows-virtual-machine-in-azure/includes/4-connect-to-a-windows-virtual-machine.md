<span data-ttu-id="f1811-101">Come amministratori di rete presso una società di analisi di dati, si è responsabili per la connessione alle macchine virtuali in Azure e di verificare la corretta configurazione.</span><span class="sxs-lookup"><span data-stu-id="f1811-101">As a network administrator at a data analysis company, you're responsible for connecting to virtual machines in Azure and checking that they're properly configured.</span></span> <span data-ttu-id="f1811-102">Per effettuare tale operazione, usare un client RDP (Remote Desktop Protocol) per la connessione all'interfaccia utente del desktop di Windows della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="f1811-102">You do that using a Remote Desktop Protocol client to connect to the VM's Windows desktop UI.</span></span>

## <a name="what-is-the-remote-desktop-protocol"></a><span data-ttu-id="f1811-103">Cos'è Remote Desktop Protocol (RDP)?</span><span class="sxs-lookup"><span data-stu-id="f1811-103">What is the Remote Desktop Protocol?</span></span>

<span data-ttu-id="f1811-104">Remote Desktop Protocol (RDP) fornisce la connettività remota all'interfaccia utente dei computer basati su Windows.</span><span class="sxs-lookup"><span data-stu-id="f1811-104">Remote Desktop Protocol (RDP) provides remote connectivity to the UI of Windows-based computers.</span></span> <span data-ttu-id="f1811-105">Il protocollo RDP consente di accedere a un computer fisico remoto o virtuale di Windows e controllare il computer come dalla console.</span><span class="sxs-lookup"><span data-stu-id="f1811-105">RDP enables you to sign in to a remote physical or virtual Windows computer and control that computer as if you were seated at the console.</span></span>

> [!Note]
> <span data-ttu-id="f1811-106">Windows Hyper-V in Windows Server 2016 e Windows 10 usa RDP per connettersi alle macchine virtuali in esecuzione su hypervisor.</span><span class="sxs-lookup"><span data-stu-id="f1811-106">Windows Hyper-V in Windows Server 2016 and Windows 10 uses RDP to connect to virtual machines running on the hypervisor.</span></span>

<span data-ttu-id="f1811-107">Una connessione RDP consente di svolgere la maggior parte delle operazioni che è possibile eseguire dalla console di un computer fisico, ad eccezione di alcune funzioni di alimentazione e relative all'hardware.</span><span class="sxs-lookup"><span data-stu-id="f1811-107">An RDP connection enables you to carry out the vast majority of operations that you can do from the console of a physical computer, with the exception of some power and hardware-related functions.</span></span>

<span data-ttu-id="f1811-108">Una connessione RDP richiede un client RDP.</span><span class="sxs-lookup"><span data-stu-id="f1811-108">An RDP connection requires an RDP client.</span></span> <span data-ttu-id="f1811-109">Microsoft fornisce client RDP per i sistemi operativi seguenti:</span><span class="sxs-lookup"><span data-stu-id="f1811-109">Microsoft provides RDP clients for the following operating systems:</span></span>

* <span data-ttu-id="f1811-110">Windows</span><span class="sxs-lookup"><span data-stu-id="f1811-110">Windows</span></span>
* <span data-ttu-id="f1811-111">iOS</span><span class="sxs-lookup"><span data-stu-id="f1811-111">iOS</span></span>
* <span data-ttu-id="f1811-112">MacOS</span><span class="sxs-lookup"><span data-stu-id="f1811-112">MacOS</span></span>
* <span data-ttu-id="f1811-113">Android</span><span class="sxs-lookup"><span data-stu-id="f1811-113">Android</span></span>

<span data-ttu-id="f1811-114">Sono disponibili anche client Linux open source, ad esempio Remmina che consentono di connettersi a un PC Windows da una distribuzione Ubuntu.</span><span class="sxs-lookup"><span data-stu-id="f1811-114">There are also open-source Linux clients, such as Remmina that enable you to connect to a Windows PC from an Ubuntu distribution.</span></span>

<span data-ttu-id="f1811-115">Windows 10 include un client RDP.</span><span class="sxs-lookup"><span data-stu-id="f1811-115">Windows 10 includes an RDP client.</span></span>

![Client RDP Windows](../media-drafts/4-rdp-client.PNG)

## <a name="what-functionality-does-an-rdp-connection-support"></a><span data-ttu-id="f1811-117">Quali funzionalità sono supportate da una connessione RDP?</span><span class="sxs-lookup"><span data-stu-id="f1811-117">What functionality does an RDP connection support?</span></span>

<span data-ttu-id="f1811-118">Con una connessione RDP, è possibile interagire con l'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="f1811-118">With an RDP connection, you can interact with the UI.</span></span> <span data-ttu-id="f1811-119">Tuttavia, è anche possibile connettersi ad altri servizi nel computer remoto.</span><span class="sxs-lookup"><span data-stu-id="f1811-119">However, you can also connect to other services on the remote computer.</span></span> <span data-ttu-id="f1811-120">Tali servizi includono:</span><span class="sxs-lookup"><span data-stu-id="f1811-120">These services include:</span></span>

* <span data-ttu-id="f1811-121">Connessioni alle stampanti che consentono al computer remoto di stampare sul dispositivo di stampa locale.</span><span class="sxs-lookup"><span data-stu-id="f1811-121">Printer connections that enable the remote computer to print to your local print device.</span></span>
* <span data-ttu-id="f1811-122">Riproduzione audio, che consente di riprodurre l'audio nel computer locale o nel dispositivo remoto.</span><span class="sxs-lookup"><span data-stu-id="f1811-122">Audio playback, where audio can play either on the local computer or on the remote device.</span></span>
* <span data-ttu-id="f1811-123">Registrazione audio, che consente di registrare l'audio dal computer locale e indirizzare l'audio al dispositivo remoto.</span><span class="sxs-lookup"><span data-stu-id="f1811-123">Audio recording, where you can record audio from the local computer and direct that sound to the remote device.</span></span>
* <span data-ttu-id="f1811-124">Porte, che è possibile reindirizzare alle porte nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="f1811-124">Ports, which you can redirect to the ports on the local computer.</span></span>
* <span data-ttu-id="f1811-125">Le unità, incluse le unità di rete mappate, in cui le unità verranno visualizzate come connesse al computer remoto.</span><span class="sxs-lookup"><span data-stu-id="f1811-125">Drives, including mapped network drives, where the drives will appear as connected to the remote computer.</span></span>
* <span data-ttu-id="f1811-126">Dispositivi di acquisizione video, ad esempio webcam integrata.</span><span class="sxs-lookup"><span data-stu-id="f1811-126">Video capture devices, such as integrated web cams.</span></span>
* <span data-ttu-id="f1811-127">Altri dispositivi Plug and Play supportati.</span><span class="sxs-lookup"><span data-stu-id="f1811-127">Other supported plug and play devices.</span></span>

<span data-ttu-id="f1811-128">Non tutte queste funzionalità sono supportate in Azure, poiché sono presenti restrizioni relative a quali risorse fisiche sono disponibili su tale piattaforma.</span><span class="sxs-lookup"><span data-stu-id="f1811-128">Not all of these features are supported in Azure, as there are restrictions on what physical assets are available on that platform.</span></span> <span data-ttu-id="f1811-129">Ad esempio, solo le stampanti software possono essere reindirizzate attraverso una connessione RDP da una macchina virtuale ospitata in Azure ai dispositivi di stampa del client di connessione.</span><span class="sxs-lookup"><span data-stu-id="f1811-129">For example, only software printers can be redirected across an RDP connection from an Azure-hosted VM to the connecting client's print devices.</span></span>

## <a name="configure-network-settings-for-rdp-access-to-virtual-machines"></a><span data-ttu-id="f1811-130">Configurare le impostazioni di rete per l'accesso RDP alle macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="f1811-130">Configure network settings for RDP access to virtual machines</span></span>

<span data-ttu-id="f1811-131">È possibile effettuare le connessioni alle macchine virtuali di Azure in tre modi:</span><span class="sxs-lookup"><span data-stu-id="f1811-131">Connections to Azure VMs can be made in three ways:</span></span>

1. <span data-ttu-id="f1811-132">Direttamente all'indirizzo IP pubblico della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="f1811-132">Directly to the public IP address of the VM.</span></span>
2. <span data-ttu-id="f1811-133">Tramite una connessione VPN (rete privata virtuale).</span><span class="sxs-lookup"><span data-stu-id="f1811-133">Through a virtual private network (VPN) connection.</span></span>
3. <span data-ttu-id="f1811-134">Tramite una connessione ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="f1811-134">Through an ExpressRoute connection.</span></span>

<span data-ttu-id="f1811-135">Un indirizzo IP pubblico può essere allocato in modo definitivo o dinamica.</span><span class="sxs-lookup"><span data-stu-id="f1811-135">A public IP address can be either permanently allocated or dynamic.</span></span> <span data-ttu-id="f1811-136">È anche necessario assicurarsi di avere accesso all'indirizzo pubblico della macchina virtuale sulla porta 3389 (RDP).</span><span class="sxs-lookup"><span data-stu-id="f1811-136">You also need to ensure that you have access to the VM's public address on port 3389 (RDP).</span></span> <span data-ttu-id="f1811-137">Questa disposizione può richiedere la negoziazione con il team che gestisce la sicurezza del firewall dell'organizzazione , configurando una regola all'indirizzo IP pubblico della macchina virtuale sulla porta 3389.</span><span class="sxs-lookup"><span data-stu-id="f1811-137">This provision may require negotiation with the team that's managing your organization's firewall security, setting up a rule to your VM's public IP address on port 3389.</span></span>

<span data-ttu-id="f1811-138">Gli indirizzi IP pubblici dinamici vengono riallocati ogni volta che la macchina virtuale viene riavviata.</span><span class="sxs-lookup"><span data-stu-id="f1811-138">Dynamic public IP addresses are reallocated every time the VM restarts.</span></span> <span data-ttu-id="f1811-139">Gli indirizzi statici sono persistenti, ma hanno costi maggiori.</span><span class="sxs-lookup"><span data-stu-id="f1811-139">Static addresses are persistent, but cost more.</span></span>

<span data-ttu-id="f1811-140">Per connettersi tramite una VPN, la rete locale deve avere una connessione VPN attiva a Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="f1811-140">To connect through a VPN, your local network must have an active VPN connection to Microsoft Azure.</span></span>

<span data-ttu-id="f1811-141">L'approccio con collegamento ExpressRoute gestisce la connettività alla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="f1811-141">The ExpressRoute link approach manages connectivity to the VM.</span></span> <span data-ttu-id="f1811-142">Questo approccio offre anche la latenza più bassa e la connessione di larghezza di banda più elevata.</span><span class="sxs-lookup"><span data-stu-id="f1811-142">This approach also provides the lowest latency and highest bandwidth connection.</span></span>

> [!Note]
> <span data-ttu-id="f1811-143">Indipendentemente dall'opzione usata per connettersi ad Azure, è necessario assicurarsi che la macchina virtuale sia accessibile tramite RDP, in genere sulla porta predefinita 3389.</span><span class="sxs-lookup"><span data-stu-id="f1811-143">Regardless of which option you use to connect to Azure, you need to ensure the virtual machine is accessible over RDP, typically on the default port 3389.</span></span> <span data-ttu-id="f1811-144">È possibile configurare la macchina virtuale in modo che sia accessibile solo dal proprio indirizzo IP client.</span><span class="sxs-lookup"><span data-stu-id="f1811-144">You can configure the VM so it can be accessed only from your own client IP address.</span></span> <span data-ttu-id="f1811-145">La connessione a una macchina virtuale tramite la porta 3389 su un indirizzo IP pubblico è consigliata solo per gli ambienti di test.</span><span class="sxs-lookup"><span data-stu-id="f1811-145">Connecting to a VM over port 3389 on a public IP address is only recommended for test environments.</span></span> <span data-ttu-id="f1811-146">Negli ambienti di produzione, usare l'opzione 2 o 3.</span><span class="sxs-lookup"><span data-stu-id="f1811-146">In production environments, use option 2 or 3.</span></span>

## <a name="how-do-you-connect-to-a-vm-in-azure-using-rdp"></a><span data-ttu-id="f1811-147">In che modo è possibile connettersi a una macchina virtuale in Azure tramite RDP?</span><span class="sxs-lookup"><span data-stu-id="f1811-147">How do you connect to a VM in Azure using RDP?</span></span>

<span data-ttu-id="f1811-148">La connessione a una macchina virtuale in Azure tramite RDP è un processo semplice.</span><span class="sxs-lookup"><span data-stu-id="f1811-148">Connecting to a VM in Azure using RDP is a simple process.</span></span> <span data-ttu-id="f1811-149">Nel portale di Azure, accedere alle proprietà della macchina virtuale e nella parte superiore, fare clic su **Connetti**.</span><span class="sxs-lookup"><span data-stu-id="f1811-149">In the Azure portal, you go to the properties of your VM, and at the top, click **Connect**.</span></span> <span data-ttu-id="f1811-150">Questa azione scarica un file .RDP preconfigurato che verrà quindi aperto da Windows nel client RDP.</span><span class="sxs-lookup"><span data-stu-id="f1811-150">This action downloads a preconfigured .RDP file that Windows then opens in the RDP client.</span></span> <span data-ttu-id="f1811-151">È possibile scegliere di connettersi tramite l'indirizzo IP pubblico della macchina virtuale nel file RDP.</span><span class="sxs-lookup"><span data-stu-id="f1811-151">You can choose to connect over the public IP address of the VM in the RDP file.</span></span> <span data-ttu-id="f1811-152">In alternativa, se ci si connette tramite VPN o ExpressRoute, è possibile selezionare l'indirizzo IP interno.</span><span class="sxs-lookup"><span data-stu-id="f1811-152">Alternatively, if you're connecting over VPN or ExpressRoute, you can select the internal IP address.</span></span> <span data-ttu-id="f1811-153">È anche possibile selezionare il numero di porta per la connessione.</span><span class="sxs-lookup"><span data-stu-id="f1811-153">You can also select the port number for the connection.</span></span>

<span data-ttu-id="f1811-154">Se si usa un indirizzo IP pubblico statico per la macchina virtuale, è possibile salvare il file .RDP sul desktop.</span><span class="sxs-lookup"><span data-stu-id="f1811-154">If you're using a static public IP address for the VM, you can save the .RDP file to your desktop.</span></span> <span data-ttu-id="f1811-155">Se si usano indirizzi IP dinamici, il file .RDP rimane valido solo mentre la macchina virtuale è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="f1811-155">If you're using dynamic IP addressing, the .RDP file only remains valid while the VM is running.</span></span> <span data-ttu-id="f1811-156">Se si arresta e si riavvia la macchina virtuale, è necessario scaricare un altro file .RDP.</span><span class="sxs-lookup"><span data-stu-id="f1811-156">If you stop and restart the VM, you must download another .RDP file.</span></span>

> [!Note]
> <span data-ttu-id="f1811-157">È anche possibile immettere l'indirizzo IP pubblico della macchina virtuale nel client RDP di Windows e fare clic su **Connetti**.</span><span class="sxs-lookup"><span data-stu-id="f1811-157">You can also enter the public IP address of the VM into the Windows RDP client and click **Connect**.</span></span>

<span data-ttu-id="f1811-158">Quando ci si connette, in genere verranno visualizzati due avvisi.</span><span class="sxs-lookup"><span data-stu-id="f1811-158">When you connect, you will typically receive two warnings.</span></span> <span data-ttu-id="f1811-159">Si tratta di:</span><span class="sxs-lookup"><span data-stu-id="f1811-159">These are:</span></span>

* <span data-ttu-id="f1811-160">Avviso editore: a causa del file .RDP che non è stato firmato pubblicamente.</span><span class="sxs-lookup"><span data-stu-id="f1811-160">Publisher warning - caused by the .RDP file not being publicly signed.</span></span>
* <span data-ttu-id="f1811-161">Avviso certificato: causato dal certificato del computer non considerato attendibile.</span><span class="sxs-lookup"><span data-stu-id="f1811-161">Certificate warning - caused by the machine certificate not being trusted.</span></span>

<span data-ttu-id="f1811-162">Negli ambienti di test, è possibile ignorare questi avvisi.</span><span class="sxs-lookup"><span data-stu-id="f1811-162">In test environments, these warnings can be ignored.</span></span> <span data-ttu-id="f1811-163">Negli ambienti di produzione il file .RDP può essere firmato usando RDPSIGN.EXE e il certificato del computer inserito nell'archivio del client **Autorità di certificazione radice attendibili**.</span><span class="sxs-lookup"><span data-stu-id="f1811-163">In production environments, the .RDP file could be signed using RDPSIGN.EXE and the machine certificate placed in the client's **Trusted Root Certification Authorities** store.</span></span>

## <a name="summary"></a><span data-ttu-id="f1811-164">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="f1811-164">Summary</span></span>

<span data-ttu-id="f1811-165">Adesso è possibile connettersi a una macchina virtuale Windows tramite RDP.</span><span class="sxs-lookup"><span data-stu-id="f1811-165">Now you can connect to a Windows VM by using RDP.</span></span> <span data-ttu-id="f1811-166">Nell'esercizio seguente verrà usato RDP per connettersi a una macchina virtuale, quindi verrà installato un ruolo del server nel computer.</span><span class="sxs-lookup"><span data-stu-id="f1811-166">In the following exercise, you will use RDP to connect to a VM, then install a server role on that computer.</span></span>
