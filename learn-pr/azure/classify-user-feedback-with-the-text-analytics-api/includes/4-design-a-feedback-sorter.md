<span data-ttu-id="1df8d-101">Le conoscenze apprese su Analisi del testo verranno ora applicate nell'ambito di una soluzione pratica.</span><span class="sxs-lookup"><span data-stu-id="1df8d-101">Let's put our knowledge of Text Analytics to work in a practical solution.</span></span> <span data-ttu-id="1df8d-102">Questa soluzione sarà incentrata su Analisi del sentiment per i documenti di testo.</span><span class="sxs-lookup"><span data-stu-id="1df8d-102">Our solution will focus on Sentiment Analysis of text documents.</span></span> <span data-ttu-id="1df8d-103">Il contesto viene definito descrivendo il problema che si vuole affrontare.</span><span class="sxs-lookup"><span data-stu-id="1df8d-103">Let's set the context by describing the problem we want to tackle.</span></span>

## <a name="manage-customer-feedback-more-efficiently"></a><span data-ttu-id="1df8d-104">Gestire il feedback dei clienti in modo più efficiente</span><span class="sxs-lookup"><span data-stu-id="1df8d-104">Manage customer feedback more efficiently</span></span>

<span data-ttu-id="1df8d-105">I clienti esprimono la loro opinione sul prodotto di un'azienda sui social media.</span><span class="sxs-lookup"><span data-stu-id="1df8d-105">Social media is active with talk of your company's product.</span></span> <span data-ttu-id="1df8d-106">Anche all'indirizzo di posta elettronica per i commenti e i suggerimenti dei clienti arrivano numerosi messaggi con pareri sul prodotto.</span><span class="sxs-lookup"><span data-stu-id="1df8d-106">Your feedback email alias is also active with customers eager to share their opinion of your product.</span></span>

<span data-ttu-id="1df8d-107">Come qualsiasi altra nuova startup, l'azienda si impegna a tenere in grande considerazione l'opinione dei clienti.</span><span class="sxs-lookup"><span data-stu-id="1df8d-107">As is the case with any new startup, you live by the mantra of listening to your customers.</span></span> <span data-ttu-id="1df8d-108">Tuttavia, il successo del prodotto potrebbe rendere difficile mantenere questo impegno.</span><span class="sxs-lookup"><span data-stu-id="1df8d-108">However, the success of your product has made keeping this promise easier said than done.</span></span> <span data-ttu-id="1df8d-109">Come risolvere questo problema?</span><span class="sxs-lookup"><span data-stu-id="1df8d-109">It's a good problem but a problem all the same.</span></span>

<span data-ttu-id="1df8d-110">Il team non è più in grado di gestire il volume dei commenti</span><span class="sxs-lookup"><span data-stu-id="1df8d-110">The team can't keep up with the volume of feedback anymore.</span></span> <span data-ttu-id="1df8d-111">e ha bisogno di uno strumento per ordinare il feedback ricevuto in modo che i problemi possano essere gestiti nel modo più efficiente possibile.</span><span class="sxs-lookup"><span data-stu-id="1df8d-111">They need help sorting the feedback so that issues can be managed as efficiently as possible.</span></span> <span data-ttu-id="1df8d-112">Per questo motivo, è stato chiesto al responsabile dello sviluppo di realizzare una soluzione.</span><span class="sxs-lookup"><span data-stu-id="1df8d-112">As the lead developer in the organization, you have been asked to build a solution.</span></span>

<span data-ttu-id="1df8d-113">Ecco alcuni dei requisiti principali:</span><span class="sxs-lookup"><span data-stu-id="1df8d-113">Let's look at some high-level requirements:</span></span>

|<span data-ttu-id="1df8d-114">Requisito</span><span class="sxs-lookup"><span data-stu-id="1df8d-114">Requirement</span></span>  | <span data-ttu-id="1df8d-115">Dettagli</span><span class="sxs-lookup"><span data-stu-id="1df8d-115">Details</span></span>  |
|---------|---------|
|<span data-ttu-id="1df8d-116">Classificare il feedback in modo da poter agire di conseguenza.</span><span class="sxs-lookup"><span data-stu-id="1df8d-116">Categorize feedback so we can react to it.</span></span>     |   <span data-ttu-id="1df8d-117">Non tutti i commenti sono uguali.</span><span class="sxs-lookup"><span data-stu-id="1df8d-117">Not all feedback is equal.</span></span> <span data-ttu-id="1df8d-118">Alcuni sono particolarmente lusinghieri.</span><span class="sxs-lookup"><span data-stu-id="1df8d-118">Some is glowing testimony.</span></span> <span data-ttu-id="1df8d-119">Altri sono critiche di clienti insoddisfatti.</span><span class="sxs-lookup"><span data-stu-id="1df8d-119">Other feedback is scathing criticism from a frustrated customer.</span></span> <span data-ttu-id="1df8d-120">In altri casi ancora è impossibile stabilire di cosa ha bisogno il cliente.</span><span class="sxs-lookup"><span data-stu-id="1df8d-120">Perhaps you can't tell what the customer wants in other cases.</span></span> <br/><br/><span data-ttu-id="1df8d-121">Un'indicazione del sentiment, o del tono, del feedback potrebbe essere utile per classificarlo.</span><span class="sxs-lookup"><span data-stu-id="1df8d-121">At a minimum, having an indication of the sentiment, or tone, of feedback would help us categorize it.</span></span>     |
|<span data-ttu-id="1df8d-122">La soluzione dovrebbe essere scalabile in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="1df8d-122">The solution should scale up or down to meet demand.</span></span>    |   <span data-ttu-id="1df8d-123">L'azienda è una startup.</span><span class="sxs-lookup"><span data-stu-id="1df8d-123">We're a startup.</span></span> <span data-ttu-id="1df8d-124">I costi fissi sono difficili da giustificare e non è stata ancora individuata con precisione la dinamica del traffico di feedback.</span><span class="sxs-lookup"><span data-stu-id="1df8d-124">Fixed costs are difficult to justify, and we haven't figured out the exact pattern of feedback traffic.</span></span> <span data-ttu-id="1df8d-125">È necessaria una soluzione che consenta di affrontare i picchi di attività, ma costi il meno possibile durante i periodi di inattività.</span><span class="sxs-lookup"><span data-stu-id="1df8d-125">We'll need a solution that can tackle bursts of activity, but cost as little as possible during quiet times.</span></span> <br/><br/> <span data-ttu-id="1df8d-126">In questo caso, una valida soluzione potrebbe essere un'architettura serverless fatturata con un piano a consumo.</span><span class="sxs-lookup"><span data-stu-id="1df8d-126">A serverless architecture billed on a consumption plan is a good candidate in this case.</span></span>     |
| <span data-ttu-id="1df8d-127">Generare un prodotto minimo funzionante (MVP; Minimal Viable Product) ma rendere la soluzione adattabile.</span><span class="sxs-lookup"><span data-stu-id="1df8d-127">Produce a Minimal Viable Product (MVP), but make the solution adaptable.</span></span>    | <span data-ttu-id="1df8d-128">Al momento è indispensabile classificare i feedback, per poter applicare le risorse limitate dell'azienda ai commenti realmente importanti.</span><span class="sxs-lookup"><span data-stu-id="1df8d-128">Today, we want to categorize feedback so we can apply our limited resources to the feedback that matters.</span></span> <span data-ttu-id="1df8d-129">Se un cliente è insoddisfatto, l'azienda vuole saperlo immediatamente per poterlo contattare.</span><span class="sxs-lookup"><span data-stu-id="1df8d-129">If a customer is frustrated, we want to know immediately and start chatting with them.</span></span> <span data-ttu-id="1df8d-130">In futuro, questa soluzione verrà ottimizzata per eseguire altre operazioni.</span><span class="sxs-lookup"><span data-stu-id="1df8d-130">In the future, we'll enhance this solution to do more.</span></span> <span data-ttu-id="1df8d-131">Un'idea per una nuova funzionalità consiste nell'esaminare le frasi chiave all'interno del feedback per rilevare i punti deboli prima che diventino problemi critici per i clienti.</span><span class="sxs-lookup"><span data-stu-id="1df8d-131">One idea for a new feature is to examine key phrases in feedback to detect pain points before they reach critical mass with our customers.</span></span> <span data-ttu-id="1df8d-132">Un'altra idea è quella di automatizzare le risposte per i clienti positivi o neutrali.</span><span class="sxs-lookup"><span data-stu-id="1df8d-132">Another idea is to automate responses back to customers who are either positive or neutral.</span></span> <span data-ttu-id="1df8d-133">Anche se un cliente è soddisfatto, è opportuno fargli sapere che il suo feedback viene preso in considerazione.</span><span class="sxs-lookup"><span data-stu-id="1df8d-133">Even though they love us, we want them to know we are still listening to their feedback.</span></span> <br/><br/><span data-ttu-id="1df8d-134">Una soluzione in grado di offrire un'architettura plug-and-play è un'ottima scelta in questo caso.</span><span class="sxs-lookup"><span data-stu-id="1df8d-134">A solution that offers a plug-and-play architecture is a good fit here.</span></span> <span data-ttu-id="1df8d-135">Ad esempio, è possibile usare le code come modello di produzione tipo catena di montaggio.</span><span class="sxs-lookup"><span data-stu-id="1df8d-135">We could, for example, use queues as a form of factory line.</span></span> <span data-ttu-id="1df8d-136">Si esegue un'attività, quindi il risultato viene inserito in una coda dove il componente successivo del sistema lo preleva e lo elabora.</span><span class="sxs-lookup"><span data-stu-id="1df8d-136">You perform one task, then place the result into a queue for the next part of the system to pick it up and process.</span></span>   |
|<span data-ttu-id="1df8d-137">Distribuire in modo rapido.</span><span class="sxs-lookup"><span data-stu-id="1df8d-137">Deliver quickly.</span></span>     |   <span data-ttu-id="1df8d-138">Questo è un obiettivo comune.</span><span class="sxs-lookup"><span data-stu-id="1df8d-138">We've all heard this one before!</span></span> <span data-ttu-id="1df8d-139">Tenere presente che questa soluzione è un MVP e che si vuole testarla rapidamente con questo scenario.</span><span class="sxs-lookup"><span data-stu-id="1df8d-139">Remember, this solution is an MVP, and we want to test it with our scenario quickly.</span></span> <span data-ttu-id="1df8d-140">Una distribuzione rapida e di qualità implica la scrittura di meno codice.</span><span class="sxs-lookup"><span data-stu-id="1df8d-140">To deliver at speed and with quality will mean writing less code.</span></span> <br/><br/> <span data-ttu-id="1df8d-141">Sfruttare l'API Analisi del testo significa che non occorre eseguire il training di un modello per rilevare il sentiment.</span><span class="sxs-lookup"><span data-stu-id="1df8d-141">Taking advantage of the Text Analytics API means we don't have to train a model to detect sentiment.</span></span> <span data-ttu-id="1df8d-142">L'uso di Funzioni di Azure e l'associazione alle code riduce in modo dichiarativo la quantità di codice da scrivere.</span><span class="sxs-lookup"><span data-stu-id="1df8d-142">Using Azure Functions and binding to queues declaratively reduces the amount of code we have to write.</span></span> <span data-ttu-id="1df8d-143">Una soluzione serverless significa anche che non è necessario preoccuparsi della gestione del server.</span><span class="sxs-lookup"><span data-stu-id="1df8d-143">A serverless solution also means we don't have to worry about server management.</span></span>   |

<span data-ttu-id="1df8d-144">La soluzione proposta per ogni requisito nella tabella precedente offre una rapida panoramica dell'associazione dei requisiti alle soluzioni.</span><span class="sxs-lookup"><span data-stu-id="1df8d-144">Our proposed solution for each requirement in the preceding table offers a glimpse into how to map requirements to solutions.</span></span> <span data-ttu-id="1df8d-145">Ora si esaminerà una possibile soluzione basata su Azure.</span><span class="sxs-lookup"><span data-stu-id="1df8d-145">Let's now see what a solution might look like based on Azure.</span></span>

## <a name="a-solution-based-on-azure-functions-azure-queue-storage-and-text-analytics-api"></a><span data-ttu-id="1df8d-146">Soluzione basata su Funzioni di Azure, Archiviazione code di Azure e API Analisi del testo</span><span class="sxs-lookup"><span data-stu-id="1df8d-146">A solution based on Azure Functions, Azure Queue Storage, and Text Analytics API</span></span>

<span data-ttu-id="1df8d-147">Il diagramma seguente è una proposta di struttura per una soluzione.</span><span class="sxs-lookup"><span data-stu-id="1df8d-147">The following diagram is a design proposal for a solution.</span></span> <span data-ttu-id="1df8d-148">Usa tre componenti di base di Azure: Archiviazione code di Azure, Funzioni di Azure e Servizi cognitivi di Azure.</span><span class="sxs-lookup"><span data-stu-id="1df8d-148">It uses three core components of Azure: Azure Queue Storage, Azure Functions, and Azure Cognitive Services.</span></span>

![Diagramma concettuale di un'architettura per l'ordinamento del feedback.](../media/proposed-solution.PNG)

<span data-ttu-id="1df8d-150">L'idea è che i documenti di testo contenenti il feedback degli utenti vengano inseriti in una coda denominata *new-feedback-q* nel diagramma precedente.</span><span class="sxs-lookup"><span data-stu-id="1df8d-150">The idea is that text documents containing user feedback are placed into a queue that we've named *new-feedback-q* in the preceding diagram.</span></span> <span data-ttu-id="1df8d-151">L'arrivo nella coda di un messaggio contenente il documento di testo attiva l'esecuzione della funzione.</span><span class="sxs-lookup"><span data-stu-id="1df8d-151">The arrival of a message containing the text document into the queue will trigger, or start, function execution.</span></span> <span data-ttu-id="1df8d-152">La funzione legge i messaggi contenenti i nuovi documenti nella coda di input e li invia per l'analisi all'API Analisi del testo.</span><span class="sxs-lookup"><span data-stu-id="1df8d-152">The function reads messages containing new documents from the input queue and sends them for analysis to the Text Analytics API.</span></span> <span data-ttu-id="1df8d-153">In base ai risultati restituiti dall'API, un nuovo messaggio contenente il documento viene inserito in una coda di output per l'ulteriore elaborazione.</span><span class="sxs-lookup"><span data-stu-id="1df8d-153">Based on the results that the API returns, a new message containing the document is placed into an output queue for further processing.</span></span>

<span data-ttu-id="1df8d-154">Il risultato che viene restituito per ogni documento è un punteggio del sentiment.</span><span class="sxs-lookup"><span data-stu-id="1df8d-154">The result we get back for each document is a sentiment score.</span></span> <span data-ttu-id="1df8d-155">Le code di output vengono usate per archiviare i commenti, suddivisi in positivi, neutrali e negativi.</span><span class="sxs-lookup"><span data-stu-id="1df8d-155">The output queues are used to store feedback sorted into positive, neutral, and negative.</span></span> <span data-ttu-id="1df8d-156">Ovviamente si spera che la coda dei commenti negativi sia sempre vuota.</span><span class="sxs-lookup"><span data-stu-id="1df8d-156">Hopefully, the negative queue will always be empty!</span></span> <span data-ttu-id="1df8d-157">Dopo che ogni commento in arrivo è stato inserito in un bucket in una coda di output in base al sentiment, il passaggio successivo è l'aggiunta della logica per l'elaborazione dei messaggi in ogni coda.</span><span class="sxs-lookup"><span data-stu-id="1df8d-157">:-) Once we've bucketed each incoming piece of feedback into an output queue based on sentiment, you can imagine adding logic to take action on the messages in each queue.</span></span>

<span data-ttu-id="1df8d-158">Verrà ora esaminato un diagramma di flusso per vedere le operazioni che la logica della funzione deve eseguire.</span><span class="sxs-lookup"><span data-stu-id="1df8d-158">Let's look at a flowchart next to see what the function logic needs to do.</span></span>

![Diagramma di flusso della logica all'interno della funzione di Azure per ordinare i documenti di testo in base al sentiment nelle code di output.](../media/flow.PNG)

<span data-ttu-id="1df8d-160">La logica è simile a un router.</span><span class="sxs-lookup"><span data-stu-id="1df8d-160">Our logic is like a router.</span></span> <span data-ttu-id="1df8d-161">Accetta l'input di testo e lo indirizza a una coda di output in base al punteggio del sentiment del testo.</span><span class="sxs-lookup"><span data-stu-id="1df8d-161">It takes text input and routes it to an output queue based on the sentiment score of the text.</span></span> <span data-ttu-id="1df8d-162">È presente una dipendenza dall'API Analisi del testo.</span><span class="sxs-lookup"><span data-stu-id="1df8d-162">We have a dependency on Text Analytics API.</span></span> <span data-ttu-id="1df8d-163">Per quanto la logica sembri semplice, questa funzione consentirà di evitare ai membri del team di analizzare manualmente il feedback.</span><span class="sxs-lookup"><span data-stu-id="1df8d-163">While the logic seems trivial, this function will remove the need for people on the team to analyze feedback manually.</span></span>

## <a name="steps-to-implement-our-solution"></a><span data-ttu-id="1df8d-164">Passaggi per l'implementazione della soluzione</span><span class="sxs-lookup"><span data-stu-id="1df8d-164">Steps to implement our solution</span></span>

<span data-ttu-id="1df8d-165">Per implementare la soluzione descritta in questa unità, sarà necessario completare i passaggi seguenti.</span><span class="sxs-lookup"><span data-stu-id="1df8d-165">To implement the solution described in this unit, we'll need to complete the following steps.</span></span>

1. <span data-ttu-id="1df8d-166">Creare un'app per le funzioni per l'hosting della soluzione.</span><span class="sxs-lookup"><span data-stu-id="1df8d-166">Create a function app to host our solution.</span></span>

1. <span data-ttu-id="1df8d-167">Rilevare il sentiment nei messaggi di feedback in arrivo usando l'API Analisi del testo.</span><span class="sxs-lookup"><span data-stu-id="1df8d-167">Look for sentiment in incoming feedback messages using the Text Analytics API.</span></span> <span data-ttu-id="1df8d-168">Verrà usata la chiave di accesso dell'esercizio precedente e verrà scritto il codice per inviare le richieste.</span><span class="sxs-lookup"><span data-stu-id="1df8d-168">We'll use our access key from the preceding exercise and write some code to send the requests.</span></span>

1. <span data-ttu-id="1df8d-169">Inviare il feedback alle code di elaborazione sulla base del sentiment.</span><span class="sxs-lookup"><span data-stu-id="1df8d-169">Post feedback to processing queues based on sentiment.</span></span>

<span data-ttu-id="1df8d-170">Si passerà ora alla creazione dell'app per le funzioni.</span><span class="sxs-lookup"><span data-stu-id="1df8d-170">Let's move on to creating our function app.</span></span>