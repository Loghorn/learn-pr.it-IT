<span data-ttu-id="ca527-101">Si è notato che i picchi di traffico possono sovraccaricare il livello intermedio.</span><span class="sxs-lookup"><span data-stu-id="ca527-101">You've discovered that spikes in traffic can overwhelm our middle-tier.</span></span> <span data-ttu-id="ca527-102">Per risolvere questo problema, si è deciso di aggiungere una coda tra il front-end e il livello intermedio nell'applicazione di caricamento degli articoli.</span><span class="sxs-lookup"><span data-stu-id="ca527-102">To deal with this, you've decided to add a queue between the front-end and the middle tier in your article-upload application.</span></span>

<span data-ttu-id="ca527-103">Il primo passaggio della procedura di creazione di una coda è creare l'account di archiviazione di Azure in cui verranno archiviati i dati.</span><span class="sxs-lookup"><span data-stu-id="ca527-103">The first step in creating a queue is to create the Azure Storage Account that will store our data.</span></span>

<!-- Activate the sandbox -->
[!include[](../../../includes/azure-sandbox-activate.md)]

## <a name="create-a-storage-account-with-the-azure-cli"></a><span data-ttu-id="ca527-104">Creare un account di archiviazione tramite l'interfaccia della riga di comando di Azure</span><span class="sxs-lookup"><span data-stu-id="ca527-104">Create a Storage Account with the Azure CLI</span></span>

> [!TIP] 
> <span data-ttu-id="ca527-105">In genere, si potrebbe avviare un nuovo progetto creando un _gruppo di risorse_ in cui includere tutte le risorse associate.</span><span class="sxs-lookup"><span data-stu-id="ca527-105">Normally, you'd start a new project by creating a _resource group_ to hold all the associated resources.</span></span> <span data-ttu-id="ca527-106">In questo caso, verrà usato il sandbox di Azure, che fornisce un gruppo di risorse denominato <rgn>[nome gruppo di risorse sandbox]</rgn>.</span><span class="sxs-lookup"><span data-stu-id="ca527-106">In this case, we'll be using the Azure Sandbox which provides a resource group named <rgn>[Sandbox resource group name]</rgn>.</span></span>

1. <span data-ttu-id="ca527-107">In Cloud Shell a destra selezionare Bash se è possibile scegliere un'opzione.</span><span class="sxs-lookup"><span data-stu-id="ca527-107">In the Cloud shell on the right, select Bash if you are given a choice.</span></span>

1. <span data-ttu-id="ca527-108">Usare il comando `az storage account create` per creare l'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="ca527-108">Use the `az storage account create` command to create the storage account.</span></span> <span data-ttu-id="ca527-109">È necessario specificare alcuni parametri:</span><span class="sxs-lookup"><span data-stu-id="ca527-109">You'll need to supply several parameters:</span></span>

| <span data-ttu-id="ca527-110">Parametro</span><span class="sxs-lookup"><span data-stu-id="ca527-110">Parameter</span></span> | <span data-ttu-id="ca527-111">Valore</span><span class="sxs-lookup"><span data-stu-id="ca527-111">Value</span></span> |
|-----------|-------|
| `--name`  | <span data-ttu-id="ca527-112">Imposta il nome.</span><span class="sxs-lookup"><span data-stu-id="ca527-112">Sets the name.</span></span> <span data-ttu-id="ca527-113">Tenere presente che gli account di archiviazione usano il nome per generare un URL pubblico, quindi deve essere univoco.</span><span class="sxs-lookup"><span data-stu-id="ca527-113">Remember that storage accounts use the name to generate a public URL - so it has to be unique.</span></span> <span data-ttu-id="ca527-114">Inoltre, il nome dell'account deve avere una lunghezza compresa tra 3 e 24 caratteri e può contenere solo numeri e lettere minuscole.</span><span class="sxs-lookup"><span data-stu-id="ca527-114">In addition, the account name must be between 3 and 24 characters, and be composed of numbers and lowercase letters only.</span></span> <span data-ttu-id="ca527-115">È consigliabile usare il prefisso **articles** con un numero casuale come suffisso, ma anche è possibile scegliere nel modo desiderato.</span><span class="sxs-lookup"><span data-stu-id="ca527-115">We recommend you use the prefix **articles** with a random number suffix but you can use whatever you like.</span></span> |
| `-g`        | <span data-ttu-id="ca527-116">Imposta il **gruppo di risorse**. Usare <rgn>[nome gruppo di risorse sandbox]</rgn> come valore.</span><span class="sxs-lookup"><span data-stu-id="ca527-116">Supplies the **Resource Group**, use <rgn>[Sandbox resource group name]</rgn> as the value.</span></span> |
| `--kind`    | <span data-ttu-id="ca527-117">Imposta il _tipo di account di archiviazione_. Usare **StorageV2** per creare un account V2 per utilizzo generico.</span><span class="sxs-lookup"><span data-stu-id="ca527-117">Sets the **Storage Account type** - use _StorageV2_ to create a general-purpose V2 account.</span></span> |
| `-l`        | <span data-ttu-id="ca527-118">Imposta la **località** indipendentemente dal proprietario del gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="ca527-118">Sets the **Location** independent of the Resource Group owner.</span></span> <span data-ttu-id="ca527-119">È facoltativo, ma può essere usato per collocare la coda in un'area diversa da quella del gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="ca527-119">It's optional, but you can use it to place the queue in a different region than the Resource Group.</span></span> |
| `--sku`     | <span data-ttu-id="ca527-120">Imposta il **Tipo di replica e archiviazione**, per impostazione predefinita _Standard_RAGRS_.</span><span class="sxs-lookup"><span data-stu-id="ca527-120">Sets the **Replication and Storage type**, it defaults to _Standard_RAGRS_.</span></span> <span data-ttu-id="ca527-121">Usare quindi _Standard_LRS_, che indica che è ridondante solo a livello locale all'interno del data center.</span><span class="sxs-lookup"><span data-stu-id="ca527-121">Let's use _Standard_LRS_ which means it's only locally redundant within the data center.</span></span> |

<!-- Resource selection -->
[!include[](../../../includes/azure-sandbox-regions-first-mention-note.md)]

<span data-ttu-id="ca527-122">Ecco una riga di comando di esempio che usa i parametri indicati sopra.</span><span class="sxs-lookup"><span data-stu-id="ca527-122">Here's an example command line that uses the above parameters.</span></span> <span data-ttu-id="ca527-123">Assicurarsi di modificare i parametri `--name` e `--location` in modo che siano univoci se si sceglie di copiare e incollare questo comando.</span><span class="sxs-lookup"><span data-stu-id="ca527-123">Make sure to change the `--name` and `--location` parameters if you decide to copy/paste this command.</span></span>

```azurecli
az storage account create --name [unique-name] -g <rgn>[Sandbox resource group name]</rgn> --kind StorageV2 -l [location-name] --sku Standard_LRS
```