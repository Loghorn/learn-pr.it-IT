<span data-ttu-id="f8c91-101">La prima operazione sarà probabilmente ricreare la configurazione locale nel cloud.</span><span class="sxs-lookup"><span data-stu-id="f8c91-101">Your first step will likely be to recreate your on-premise configuration in the cloud.</span></span>

<span data-ttu-id="f8c91-102">Questa configurazione di base offre un'idea di come vengono configurate le reti e come il traffico di rete entra ed esce da Azure.</span><span class="sxs-lookup"><span data-stu-id="f8c91-102">This basic configuration will give you a sense of how networks are configured and how network traffic moves in and out of Azure.</span></span>

## <a name="your-e-commerce-site-at-a-glance"></a><span data-ttu-id="f8c91-103">Riepilogo del sito di e-commerce</span><span class="sxs-lookup"><span data-stu-id="f8c91-103">Your e-commerce site at a glance</span></span>

<span data-ttu-id="f8c91-104">Un'[architettura a più livelli](https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/n-tier) consente di dividere un'applicazione in due o più livelli logici.</span><span class="sxs-lookup"><span data-stu-id="f8c91-104">An [n-tier architecture](https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/n-tier) divides an application into two or more logical tiers.</span></span> <span data-ttu-id="f8c91-105">Dal punto di vista dell'architettura, il livello superiore può accedere ai servizi da un livello inferiore, ma un livello inferiore non deve mai accedere a un livello superiore.</span><span class="sxs-lookup"><span data-stu-id="f8c91-105">Architecturally, higher tier can access services from a lower tier, but a lower tier should never access a higher tier.</span></span>

<span data-ttu-id="f8c91-106">I livelli consentono di separare le problematiche e idealmente sono progettati in modo da poter essere usati più volte.</span><span class="sxs-lookup"><span data-stu-id="f8c91-106">Tiers help separate concerns and are ideally designed to be reusable.</span></span> <span data-ttu-id="f8c91-107">L'uso di un'architettura a più livelli semplifica anche la manutenzione, i livelli possono essere aggiornati o sostituiti in modo indipendente e, se necessario, si possono inserire nuovi livelli.</span><span class="sxs-lookup"><span data-stu-id="f8c91-107">Using a tiered architecture also simplifies maintenance, tiers can be updated or replaced independently, and new tiers can be inserted if needed.</span></span>

<span data-ttu-id="f8c91-108">_A tre livelli_ si riferisce a un'applicazione a più livelli che include tre livelli.</span><span class="sxs-lookup"><span data-stu-id="f8c91-108">_Three-tier_ refers to an n-tier application that has three tiers.</span></span> <span data-ttu-id="f8c91-109">L'applicazione Web di e-commerce segue questa architettura a tre livelli:</span><span class="sxs-lookup"><span data-stu-id="f8c91-109">Your e-commerce web application follows this three-tier architecture:</span></span>

* <span data-ttu-id="f8c91-110">Il **livello Web** rende disponibile agli utenti l'interfaccia Web in un browser</span><span class="sxs-lookup"><span data-stu-id="f8c91-110">The **web tier** provides the web interface to your users through a browser</span></span>
* <span data-ttu-id="f8c91-111">Il **livello applicazione** esegue la logica di business</span><span class="sxs-lookup"><span data-stu-id="f8c91-111">The **application tier** runs business logic</span></span>
* <span data-ttu-id="f8c91-112">Il **livello dati** include i database e altre risorse di archiviazione che contengono le informazioni sui prodotti e gli ordini dei clienti</span><span class="sxs-lookup"><span data-stu-id="f8c91-112">The **data tier** includes databases and other storage that hold product information and customer orders</span></span>

<span data-ttu-id="f8c91-113">Ecco un diagramma.</span><span class="sxs-lookup"><span data-stu-id="f8c91-113">Here's a diagram.</span></span> <span data-ttu-id="f8c91-114">Tracciare il flusso dall'utente al livello dati.</span><span class="sxs-lookup"><span data-stu-id="f8c91-114">Trace the flow from the user to the data tier.</span></span>

![Un'app Web di base a tre livelli](../media-draft/three-tier.png)

<span data-ttu-id="f8c91-116">Quando l'utente fa clic sul pulsante per effettuare l'ordine, la richiesta viene inviata al livello Web, insieme all'indirizzo dell'utente e alle informazioni di pagamento.</span><span class="sxs-lookup"><span data-stu-id="f8c91-116">When the user clicks the button to place the order, the request is sent to the web tier, along with the user's address and payment information.</span></span> <span data-ttu-id="f8c91-117">Il livello Web passa queste informazioni al livello applicazione per la convalida delle informazioni di pagamento e il controllo dell'inventario.</span><span class="sxs-lookup"><span data-stu-id="f8c91-117">The web tier passes this information to the application tier, which would validate payment information and check inventory.</span></span> <span data-ttu-id="f8c91-118">Il livello applicazione può quindi archiviare l'ordine nel livello dati in modo da selezionarlo in un secondo tempo per evadere l'ordine.</span><span class="sxs-lookup"><span data-stu-id="f8c91-118">The application tier might then store the order in the data tier to be picked up later for fulfillment.</span></span>

## <a name="your-e-commerce-site-running-on-azure"></a><span data-ttu-id="f8c91-119">Il sito di e-commerce in esecuzione in Azure</span><span class="sxs-lookup"><span data-stu-id="f8c91-119">Your e-commerce site running on Azure</span></span>

<span data-ttu-id="f8c91-120">Azure offre diversi modi per ospitare le applicazioni Web, da ambienti completamente preconfigurati che ospitano il codice per le macchine virtuali configurate, personalizzate e gestite dall'utente.</span><span class="sxs-lookup"><span data-stu-id="f8c91-120">Azure provides many different ways to host your web applications, from fully pre-configured environments that host your code to virtual machines that you configure, customize and manage.</span></span>

<span data-ttu-id="f8c91-121">Si supponga di scegliere di eseguire il sito di e-commerce in macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="f8c91-121">Let's say you choose to run your e-commerce site on virtual machines.</span></span> <span data-ttu-id="f8c91-122">Di seguito è riportato un esempio di ciò che potrebbe apparire nell'ambiente di test in esecuzione in Azure.</span><span class="sxs-lookup"><span data-stu-id="f8c91-122">Here's what that might look like in your test environment running on Azure.</span></span>

![Un'app Web di base a tre livelli in esecuzione in Azure](../media-draft/test-deployment.png)

<span data-ttu-id="f8c91-124">L'app si può scomporre come segue.</span><span class="sxs-lookup"><span data-stu-id="f8c91-124">Let's break this down.</span></span>

## <a name="what-is-an-azure-region"></a><span data-ttu-id="f8c91-125">Informazioni sull'area di Azure</span><span class="sxs-lookup"><span data-stu-id="f8c91-125">What is an Azure region?</span></span>

<span data-ttu-id="f8c91-126">Un'_area_ è un data center di Azure in un'area geografica specifica.</span><span class="sxs-lookup"><span data-stu-id="f8c91-126">A _region_ is an Azure data center within a specific geographic location.</span></span> <span data-ttu-id="f8c91-127">Stati Uniti orientali, Stati Uniti occidentali ed Europa settentrionale sono esempi di aree.</span><span class="sxs-lookup"><span data-stu-id="f8c91-127">East US, West US, and North Europe are examples of regions.</span></span> <span data-ttu-id="f8c91-128">Come si può notare, l'applicazione viene eseguita nell'area Stati Uniti orientali.</span><span class="sxs-lookup"><span data-stu-id="f8c91-128">You see that the application is running in the East US region.</span></span>

## <a name="what-is-a-virtual-network"></a><span data-ttu-id="f8c91-129">Informazioni sulla rete virtuale</span><span class="sxs-lookup"><span data-stu-id="f8c91-129">What is a virtual network?</span></span>

<span data-ttu-id="f8c91-130">Una _rete virtuale_ è una rete isolata logicamente in Azure.</span><span class="sxs-lookup"><span data-stu-id="f8c91-130">A _virtual network_ is a logically isolated network on Azure.</span></span> <span data-ttu-id="f8c91-131">L'utente avrà dimestichezza con le reti virtuali di Azure se ha configurato le reti in Hyper-V, VMware o anche in altri cloud pubblici.</span><span class="sxs-lookup"><span data-stu-id="f8c91-131">Azure virtual networks will be familiar to you if you’ve set up networks on Hyper-V, VMware, or even on other public clouds.</span></span>

<span data-ttu-id="f8c91-132">Ogni livello Web, applicazione e dati ha un'unica macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="f8c91-132">The web, application, and data tiers each have a single VM.</span></span> <span data-ttu-id="f8c91-133">Ogni macchina virtuale appartiene a una rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="f8c91-133">Each VM belongs to a virtual network.</span></span>

<span data-ttu-id="f8c91-134">Gli utenti interagiscono con il livello Web direttamente, quindi la macchina virtuale ha un indirizzo IP pubblico.</span><span class="sxs-lookup"><span data-stu-id="f8c91-134">Users interact with the web tier directly, so that VM has a public IP address.</span></span> <span data-ttu-id="f8c91-135">Gli utenti non interagiscono con i livelli dati o applicazione.</span><span class="sxs-lookup"><span data-stu-id="f8c91-135">Users don't interact with the application or data tiers.</span></span> <span data-ttu-id="f8c91-136">Quindi queste macchine virtuali hanno un indirizzo IP privato.</span><span class="sxs-lookup"><span data-stu-id="f8c91-136">So these VMs each have a private IP address.</span></span>

<span data-ttu-id="f8c91-137">I data center di Azure gestiscono l'hardware fisico per l'utente.</span><span class="sxs-lookup"><span data-stu-id="f8c91-137">Azure data centers manage the physical hardware for you.</span></span> <span data-ttu-id="f8c91-138">Le reti virtuali si configurano usando il software, che consente di gestire una rete virtuale esattamente come la propria rete.</span><span class="sxs-lookup"><span data-stu-id="f8c91-138">You configure virtual networks through software, which enables you to treat a virtual network just like your own network.</span></span> <span data-ttu-id="f8c91-139">Ad esempio, è possibile suddividere una rete virtuale in subnet per controllare meglio il modo in cui la rete assegna gli indirizzi IP.</span><span class="sxs-lookup"><span data-stu-id="f8c91-139">For example, you can divide a virtual network into subnets to better control how the network assigns IP addresses.</span></span> <span data-ttu-id="f8c91-140">È anche possibile scegliere quali altre reti può raggiungere la rete virtuale, se la rete Internet pubblica o altre reti nello spazio indirizzi IP privato.</span><span class="sxs-lookup"><span data-stu-id="f8c91-140">You also choose which other networks your virtual network can reach; whether that’s the public Internet or other networks in the private IP address space.</span></span>

### <a name="whats-a-network-security-group"></a><span data-ttu-id="f8c91-141">Informazioni sul gruppo di sicurezza di rete</span><span class="sxs-lookup"><span data-stu-id="f8c91-141">What's a network security group?</span></span>

<span data-ttu-id="f8c91-142">Un _gruppo di sicurezza di rete_, o NSG, consente o nega il traffico di rete in ingresso alle risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="f8c91-142">A _network security group_, or NSG, allows or denies inbound network traffic to your Azure resources.</span></span> <span data-ttu-id="f8c91-143">Un gruppo di sicurezza di rete può essere paragonato a un firewall a livello cloud per la rete.</span><span class="sxs-lookup"><span data-stu-id="f8c91-143">Think of a network security group as a cloud-level firewall for your network.</span></span>

<span data-ttu-id="f8c91-144">Si può notare ad esempio che la macchina virtuale nel livello Web consente il traffico in ingresso sulle porte 22 (SSH) e 80 (HTTP).</span><span class="sxs-lookup"><span data-stu-id="f8c91-144">For example, notice that the VM in the web tier allows inbound traffic on ports 22 (SSH) and 80 (HTTP).</span></span> <span data-ttu-id="f8c91-145">Ogni gruppo di sicurezza di rete qui consente il traffico da tutte le origini.</span><span class="sxs-lookup"><span data-stu-id="f8c91-145">Each network security group here allows traffic from all sources.</span></span> <span data-ttu-id="f8c91-146">È possibile configurare un gruppo di sicurezza di rete per accettare il traffico solo da origini note, ad esempio gli indirizzi IP considerati attendibili.</span><span class="sxs-lookup"><span data-stu-id="f8c91-146">You can configure a network security group to accept traffic only from known sources, such as IP addresses that you trust.</span></span>

> [!NOTE]
> <span data-ttu-id="f8c91-147">La porta 22 consente di connettersi direttamente ai sistemi Linux con SSH.</span><span class="sxs-lookup"><span data-stu-id="f8c91-147">Port 22 enables you to connect directly to Linux systems over SSH.</span></span> <span data-ttu-id="f8c91-148">Di seguito è illustrata la porta 22 aperta ai fini dell'apprendimento.</span><span class="sxs-lookup"><span data-stu-id="f8c91-148">Here we show port 22 open for learning purposes.</span></span> <span data-ttu-id="f8c91-149">In pratica, è possibile configurare l'accesso VPN alla rete virtuale per avere una maggiore protezione.</span><span class="sxs-lookup"><span data-stu-id="f8c91-149">In practice, you might configure VPN access to your virtual network to increase security.</span></span>

## <a name="summary"></a><span data-ttu-id="f8c91-150">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="f8c91-150">Summary</span></span>

<span data-ttu-id="f8c91-151">L'applicazione a tre livelli è ora in esecuzione in Azure nell'area Stati Uniti orientali.</span><span class="sxs-lookup"><span data-stu-id="f8c91-151">Your three-tier application is now running on Azure in the East US region.</span></span> <span data-ttu-id="f8c91-152">Un'_area_ è un data center di Azure in un'area geografica specifica.</span><span class="sxs-lookup"><span data-stu-id="f8c91-152">A _region_ is an Azure data center within a specific geographic location.</span></span>

<span data-ttu-id="f8c91-153">Ogni livello può accedere ai servizi solo da un livello inferiore.</span><span class="sxs-lookup"><span data-stu-id="f8c91-153">Each tier can access services only from a lower tier.</span></span> <span data-ttu-id="f8c91-154">La macchina virtuale in esecuzione nel livello Web ha un indirizzo IP pubblico poiché riceve il traffico da Internet.</span><span class="sxs-lookup"><span data-stu-id="f8c91-154">The VM running in the web tier has a public IP address because it receives traffic from the Internet.</span></span> <span data-ttu-id="f8c91-155">Le macchine virtuali nei livelli inferiori sono i livelli applicazione e dati e hanno tutte indirizzi IP privati perché non comunicano direttamente su Internet.</span><span class="sxs-lookup"><span data-stu-id="f8c91-155">The VMs in the lower tiers,are the application and data tiers and each have private IP addresses because they don't communicate directly over the internet.</span></span>

<span data-ttu-id="f8c91-156">Le _reti virtuali_ consentono di raggruppare e isolare i sistemi correlati.</span><span class="sxs-lookup"><span data-stu-id="f8c91-156">_Virtual networks_ enable you to group and isolate related systems.</span></span> <span data-ttu-id="f8c91-157">Si definiscono i _gruppi di sicurezza di rete_ per stabilire quale traffico può passare attraverso una rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="f8c91-157">You define _network security groups_ to control what traffic can flow through a virtual network.</span></span>

<span data-ttu-id="f8c91-158">La configurazione illustrata qui è un buon punto di partenza.</span><span class="sxs-lookup"><span data-stu-id="f8c91-158">This configuration you saw here is a good start.</span></span> <span data-ttu-id="f8c91-159">Ma quando si distribuisce il sito di e-commerce nell'ambiente di produzione nel cloud, è probabile che si incontrino gli stessi problemi incontrati nella distribuzione a livello locale.</span><span class="sxs-lookup"><span data-stu-id="f8c91-159">But when you deploy your e-commerce site to production in the cloud, you'll likely run into the same problems as you did in your on-premise deployment.</span></span>
