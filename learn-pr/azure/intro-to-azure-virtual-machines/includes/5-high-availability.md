<span data-ttu-id="2ec23-101">Il successo di una società di servizi spesso dipende direttamente dai contratti di servizio che la società stabilisce con i clienti.</span><span class="sxs-lookup"><span data-stu-id="2ec23-101">Often, the success of a services company is directly related to the service level agreements (SLA) the company has with its customers.</span></span> <span data-ttu-id="2ec23-102">I clienti si aspettano che i servizi forniti siano sempre disponibili e che i dati siano protetti.</span><span class="sxs-lookup"><span data-stu-id="2ec23-102">Your customers expect the services you provide always to be available and their data kept safe.</span></span> <span data-ttu-id="2ec23-103">Microsoft prende molto seriamente questo aspetto.</span><span class="sxs-lookup"><span data-stu-id="2ec23-103">This is something that Microsoft takes very seriously.</span></span> <span data-ttu-id="2ec23-104">Azure fornisce strumenti che è possibile usare per gestire disponibilità, sicurezza dei dati e monitoraggio ed essere quindi certi che i servizi siano sempre disponibili per i clienti.</span><span class="sxs-lookup"><span data-stu-id="2ec23-104">Azure provides tools you can use to manage availability, data security, and monitoring, so you know your services are always available for your customers.</span></span>

<span data-ttu-id="2ec23-105">L'amministrazione di una VM di Azure non si limita alla gestione del sistema operativo o del software in esecuzione nella VM.</span><span class="sxs-lookup"><span data-stu-id="2ec23-105">Administration of an Azure VM isn't limited to managing the operating system or software that runs on the VM.</span></span> <span data-ttu-id="2ec23-106">Consente di sapere quali sono i servizi forniti da Azure, assicurando la disponibilità dei servizi e supportando l'automazione.</span><span class="sxs-lookup"><span data-stu-id="2ec23-106">It helps to know which services Azure provides that ensure service availability and support automation.</span></span> <span data-ttu-id="2ec23-107">Questi servizi consentono di pianificare la strategia di continuità aziendale e ripristino di emergenza dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="2ec23-107">These services help you to plan your organization's business continuity and disaster recovery strategy.</span></span>

<span data-ttu-id="2ec23-108">Verrà qui illustrato un servizio di Azure che consente di migliorare la disponibilità della VM, semplifica le attività di gestione della VM e conserva i dati della VM di cui è stato eseguire un backup, tenendoli al sicuro.</span><span class="sxs-lookup"><span data-stu-id="2ec23-108">Here, we'll cover an Azure service that helps you improve VM availability, streamlines VM management tasks, and keeps your VM data backed up and safe.</span></span> <span data-ttu-id="2ec23-109">Si inizierà definendo la disponibilità.</span><span class="sxs-lookup"><span data-stu-id="2ec23-109">Let's start by defining availability.</span></span>

## <a name="what-is-availability"></a><span data-ttu-id="2ec23-110">Che cos'è la disponibilità?</span><span class="sxs-lookup"><span data-stu-id="2ec23-110">What is availability?</span></span>

<span data-ttu-id="2ec23-111">La disponibilità è la percentuale di tempo in cui un servizio è disponibile per l'uso.</span><span class="sxs-lookup"><span data-stu-id="2ec23-111">Availability is the percentage of time a service is available for use.</span></span>

<span data-ttu-id="2ec23-112">Si supponga di avere un sito Web e di voler fare in modo che i clienti possano accedere alle informazioni in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="2ec23-112">Let's assume you have a website and you want your customers to be able to access information at all times.</span></span> <span data-ttu-id="2ec23-113">Per l'accesso al sito Web è prevista una disponibilità del 100%.</span><span class="sxs-lookup"><span data-stu-id="2ec23-113">Your expectation is 100% availability concerning website access.</span></span>

### <a name="why-do-i-need-to-think-about-availability-when-using-azure"></a><span data-ttu-id="2ec23-114">Perché preoccuparsi della disponibilità quando si usa Azure?</span><span class="sxs-lookup"><span data-stu-id="2ec23-114">Why do I need to think about availability when using Azure?</span></span>

<span data-ttu-id="2ec23-115">Le VM di Azure vengono eseguite in server fisici ospitati nei data center di Microsoft.</span><span class="sxs-lookup"><span data-stu-id="2ec23-115">Azure VMs run on physical servers hosted within Microsoft's data centers.</span></span> <span data-ttu-id="2ec23-116">Come per la maggior parte dei dispositivi fisici, potrebbe verificarsi un guasto.</span><span class="sxs-lookup"><span data-stu-id="2ec23-116">As with most physical devices, there's a chance that there could be a failure.</span></span> <span data-ttu-id="2ec23-117">Se si verifica un guasto nel server fisico, si verifica un errore anche nelle macchine virtuali ospitate in tale server.</span><span class="sxs-lookup"><span data-stu-id="2ec23-117">If the physical server fails, the virtual machines hosted on that server will also fail.</span></span> <span data-ttu-id="2ec23-118">In questo caso Azure sposterà automaticamente la VM in un server host integro.</span><span class="sxs-lookup"><span data-stu-id="2ec23-118">If this happens, Azure will move the VM to a healthy host server automatically.</span></span> <span data-ttu-id="2ec23-119">Questa migrazione automatica potrebbe tuttavia richiedere alcuni minuti, durante i quali le applicazioni ospitate in tale VM non saranno disponibili.</span><span class="sxs-lookup"><span data-stu-id="2ec23-119">However, this self-healing migration could take several minutes, during which, the application(s) hosted on that VM will not be available.</span></span>

<span data-ttu-id="2ec23-120">Le VM potrebbero anche essere interessate da aggiornamenti periodici avviati da Azure.</span><span class="sxs-lookup"><span data-stu-id="2ec23-120">The VMs could also be affected by periodic updates initiated by Azure itself.</span></span> <span data-ttu-id="2ec23-121">Questi eventi di manutenzione comprendono aggiornamenti software e hardware e sono necessari per migliorare l'affidabilità e le prestazioni della piattaforma.</span><span class="sxs-lookup"><span data-stu-id="2ec23-121">These maintenance events range from software updates to hardware upgrades and are required to improve platform reliability and performance.</span></span> <span data-ttu-id="2ec23-122">Questi eventi vengono in genere eseguiti senza conseguenze per le VM guest, ma in alcuni casi le macchine virtuali verranno riavviate per completare un aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="2ec23-122">These events usually are performed without impacting any guest VMs, but sometimes the virtual machines will be rebooted to complete an update or upgrade.</span></span>

> [!NOTE]
> <span data-ttu-id="2ec23-123">Microsoft non aggiorna automaticamente il sistema operativo o il software delle VM.</span><span class="sxs-lookup"><span data-stu-id="2ec23-123">Microsoft does not automatically update your VM's OS or software.</span></span> <span data-ttu-id="2ec23-124">È l'utente ad avere il controllo completo e la responsabilità di questa operazione.</span><span class="sxs-lookup"><span data-stu-id="2ec23-124">You have complete control and responsibility for that.</span></span> <span data-ttu-id="2ec23-125">All'host del software e all'hardware sottostanti, tuttavia, vengono periodicamente applicate patch per garantire affidabilità e prestazioni elevate in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="2ec23-125">However, the underlying software host and hardware are periodically patched to ensure reliability and high performance at all times.</span></span>

<span data-ttu-id="2ec23-126">Per assicurarsi che i servizi non vengano interrotti ed evitare un singolo punto di guasto, è consigliabile distribuire almeno due istanze di ogni VM.</span><span class="sxs-lookup"><span data-stu-id="2ec23-126">To ensure your services aren't interrupted and avoid a single point of failure, it's recommended to deploy at least two instances of each VM.</span></span> <span data-ttu-id="2ec23-127">Questa funzionalità è chiamata _set di disponibilità_.</span><span class="sxs-lookup"><span data-stu-id="2ec23-127">This feature is called an _availability set_.</span></span>

### <a name="what-is-an-availability-set"></a><span data-ttu-id="2ec23-128">Che cos'è un set di disponibilità?</span><span class="sxs-lookup"><span data-stu-id="2ec23-128">What is an availability set?</span></span>

<span data-ttu-id="2ec23-129">Un **set di disponibilità** è una funzionalità logica usata per assicurarsi che venga distribuito un gruppo di VM correlate in modo che non siano tutte soggette a un singolo punto di guasto e non vengano tutte aggiornate contemporaneamente durante un aggiornamento del sistema operativo host nel data center.</span><span class="sxs-lookup"><span data-stu-id="2ec23-129">An **availability set** is a logical feature used to ensure that a group of related VMs are deployed so that they aren't all subject to a single point of failure and not all upgraded at the same time during a host operating system upgrade in the data center.</span></span> <span data-ttu-id="2ec23-130">Le VM inserite in un set di disponibilità eseguiranno un set identico di funzionalità e avranno lo stesso software installato.</span><span class="sxs-lookup"><span data-stu-id="2ec23-130">VMs placed in an availability set should perform an identical set of functionalities and have the same software installed.</span></span>

> [!TIP]
> <span data-ttu-id="2ec23-131">Microsoft offre un contratto di servizio di connettività esterna al 99,95% per le VM a più istanze distribuite in un set di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="2ec23-131">Microsoft offers a 99.95% external connectivity service level agreement (SLA) for multiple-instance VMs deployed in an availability set.</span></span> <span data-ttu-id="2ec23-132">Perché il contratto di servizio sia valido, devono quindi essere distribuite almeno due istanze della VM in un set di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="2ec23-132">That means that for the SLA to apply, there must be at least two instances of the VM deployed within an availability set.</span></span> 

<span data-ttu-id="2ec23-133">È possibile creare i set di disponibilità nella sezione del portale di Azure relativa al ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="2ec23-133">You can create availability sets through the Azure portal in the disaster recovery section.</span></span> <span data-ttu-id="2ec23-134">È anche possibile crearli usando i modelli di Resource Manager oppure uno strumento di scripting o API.</span><span class="sxs-lookup"><span data-stu-id="2ec23-134">Also, you can build them using Resource Manager templates, or any of the scripting or API tools.</span></span> <span data-ttu-id="2ec23-135">Quando si inseriscono le VM in un set di disponibilità, Azure garantisce che vengano distribuite tra **domini di errore** e **domini di aggiornamento**.</span><span class="sxs-lookup"><span data-stu-id="2ec23-135">When you place VMs into an availability set, Azure guarantees to spread them across **Fault Domains** and **Update Domains**.</span></span>

#### <a name="what-is-a-fault-domain"></a><span data-ttu-id="2ec23-136">Che cos'è un dominio di errore?</span><span class="sxs-lookup"><span data-stu-id="2ec23-136">What is a fault domain?</span></span>

<span data-ttu-id="2ec23-137">Un dominio di errore è un gruppo logico di hardware in Azure che condividono un'unità di alimentazione o un commutatore di rete comune.</span><span class="sxs-lookup"><span data-stu-id="2ec23-137">A fault domain is a logical group of hardware in Azure that shares a common power source and network switch.</span></span> <span data-ttu-id="2ec23-138">Può essere considerato come un rack in un data center locale.</span><span class="sxs-lookup"><span data-stu-id="2ec23-138">You can think of it as a rack within an on-premises datacenter.</span></span> <span data-ttu-id="2ec23-139">Il provisioning delle prime due VM di un set di disponibilità verrà effettuato in due diversi rack in modo che, se dovesse verificarsi un guasto a livello di rete o di alimentazione in un rack, ne sarebbe interessata solo una VM.</span><span class="sxs-lookup"><span data-stu-id="2ec23-139">The first two VMs in an availability set will be provisioned into two different racks so that if the network or the power failed in a rack, only one VM would be affected.</span></span> <span data-ttu-id="2ec23-140">I domini di errore vengono definiti anche per i dischi gestiti collegati alle VM.</span><span class="sxs-lookup"><span data-stu-id="2ec23-140">Fault domains are also defined for managed disks attached to VMs.</span></span>

![Domini di errore](../media/5-fault-domains.png)

#### <a name="what-is-an-update-domain"></a><span data-ttu-id="2ec23-142">Che cos'è un dominio di aggiornamento?</span><span class="sxs-lookup"><span data-stu-id="2ec23-142">What is an update domain?</span></span>

<span data-ttu-id="2ec23-143">Un dominio di aggiornamento è un gruppo logico di hardware che può essere sottoposto a manutenzione oppure riavviato nello stesso momento.</span><span class="sxs-lookup"><span data-stu-id="2ec23-143">An update domain is a logical group of hardware that can undergo maintenance or be rebooted at the same time.</span></span> <span data-ttu-id="2ec23-144">Azure inserirà automaticamente i set di disponibilità nei domini di aggiornamento per ridurre al minimo l'impatto quando la piattaforma Azure introduce modifiche nel sistema operativo host.</span><span class="sxs-lookup"><span data-stu-id="2ec23-144">Azure will automatically place availability sets into update domains to minimize the impact when the Azure platform introduces host operating system changes.</span></span> <span data-ttu-id="2ec23-145">Azure elabora quindi ogni dominio di aggiornamento singolarmente.</span><span class="sxs-lookup"><span data-stu-id="2ec23-145">Azure then processes each update domain one at a time.</span></span>

<span data-ttu-id="2ec23-146">I set di disponibilità sono una funzionalità avanzata che assicura che i servizi in esecuzione nelle VM siano sempre disponibili per i clienti.</span><span class="sxs-lookup"><span data-stu-id="2ec23-146">Availability sets are a powerful feature to ensure the services running in your VMs are always available to your customers.</span></span> <span data-ttu-id="2ec23-147">Non sono tuttavia infallibili.</span><span class="sxs-lookup"><span data-stu-id="2ec23-147">However, they aren't foolproof.</span></span> <span data-ttu-id="2ec23-148">Cosa accade se si verifica un problema relativo ai dati o al software in esecuzione nella VM?</span><span class="sxs-lookup"><span data-stu-id="2ec23-148">What if something happens to the data or the software running on the VM itself?</span></span> <span data-ttu-id="2ec23-149">In questo caso sarà necessario ricorrere ad altre tecniche di ripristino di emergenza e backup.</span><span class="sxs-lookup"><span data-stu-id="2ec23-149">For that, we'll need to look at other disaster recovery and backup techniques.</span></span>

## <a name="failover-across-locations"></a><span data-ttu-id="2ec23-150">Failover in diverse località</span><span class="sxs-lookup"><span data-stu-id="2ec23-150">Failover across locations</span></span>

<span data-ttu-id="2ec23-151">È anche possibile replicare l'infrastruttura tra siti per gestire il failover a livello di area.</span><span class="sxs-lookup"><span data-stu-id="2ec23-151">You can also replicate your infrastructure across sites to handle regional failover.</span></span> <span data-ttu-id="2ec23-152">**Azure Site Recovery** replica i carichi di lavoro da un sito primario a una località secondaria.</span><span class="sxs-lookup"><span data-stu-id="2ec23-152">**Azure Site Recovery**  replicates workloads from a primary site to a secondary location.</span></span> <span data-ttu-id="2ec23-153">Se si verifica un'interruzione nel sito primario, è possibile effettuare il failover in una località secondaria.</span><span class="sxs-lookup"><span data-stu-id="2ec23-153">If an outage happens at your primary site, you can fail over to a secondary location.</span></span> <span data-ttu-id="2ec23-154">Questo failover consente agli utenti di continuare ad accedere alle applicazioni senza interruzioni.</span><span class="sxs-lookup"><span data-stu-id="2ec23-154">This failover allows users to continue to access your applications without interruption.</span></span> <span data-ttu-id="2ec23-155">Sarà quindi possibile effettuare il failback nella località primaria quando sarà di nuovo operativa.</span><span class="sxs-lookup"><span data-stu-id="2ec23-155">You can then fail back to the primary location once it's up and running again.</span></span> <span data-ttu-id="2ec23-156">Azure Site Recovery consente la replica delle macchine virtuali o dei computer fisici, garantendo la disponibilità dei carichi di lavoro in caso di interruzione.</span><span class="sxs-lookup"><span data-stu-id="2ec23-156">Azure Site Recovery is about replication of virtual or physical machines; it keeps your workloads available in an outage.</span></span>

<span data-ttu-id="2ec23-157">Oltre alle numerose utili funzionalità di Site Recovery, sono almeno due i vantaggi importanti per le aziende:</span><span class="sxs-lookup"><span data-stu-id="2ec23-157">While there are many attractive technical features to Site Recovery, there are at least two significant business advantages:</span></span>

1. <span data-ttu-id="2ec23-158">Site Recovery consente l'uso di Azure come destinazione per il ripristino, eliminando i costi e la complessità derivanti dalla gestione di un data center fisico secondario.</span><span class="sxs-lookup"><span data-stu-id="2ec23-158">Site Recovery enables the use of Azure as a destination for recovery, thus eliminating the cost and complexity of maintaining a secondary physical datacenter.</span></span>

2. <span data-ttu-id="2ec23-159">Site Recovery semplifica considerevolmente il test dei failover con esercitazioni sul ripristino senza alcun impatto sugli ambienti di produzione.</span><span class="sxs-lookup"><span data-stu-id="2ec23-159">Site Recovery makes it incredibly simple to test failovers for recovery drills without impacting production environments.</span></span> <span data-ttu-id="2ec23-160">In questo modo risulta più facile testare i failover pianificati o non pianificati.</span><span class="sxs-lookup"><span data-stu-id="2ec23-160">This makes it easy to test your planned or unplanned failovers.</span></span> <span data-ttu-id="2ec23-161">Non si può infatti considerare valido un piano di ripristino di emergenza se non si è mai provato a effettuare il failover.</span><span class="sxs-lookup"><span data-stu-id="2ec23-161">After all, you don’t have a good disaster recovery plan if you’ve never tried to failover.</span></span>

<span data-ttu-id="2ec23-162">I piani di ripristino creati con Site Recovery possono essere semplici o complessi a seconda dello scenario.</span><span class="sxs-lookup"><span data-stu-id="2ec23-162">The recovery plans you create with Site Recovery can be as simple or as complex as your scenario requires.</span></span> <span data-ttu-id="2ec23-163">Possono includere script di PowerShell personalizzati, runbook di Automazione di Azure o procedure di intervento manuale.</span><span class="sxs-lookup"><span data-stu-id="2ec23-163">They can include custom PowerShell scripts, Azure Automation runbooks, or manual intervention steps.</span></span> <span data-ttu-id="2ec23-164">È possibile sfruttare i piani di ripristino per replicare i carichi di lavoro in Azure, creando facilmente nuove opportunità per migrazione, burst temporanei durante i periodi di sovratensione o sviluppo e test di nuove applicazioni.</span><span class="sxs-lookup"><span data-stu-id="2ec23-164">You can leverage the recovery plans to replicate workloads to Azure, easily enabling new opportunities for migration, temporary bursts during surge periods, or development and testing of new applications.</span></span>

<span data-ttu-id="2ec23-165">Azure Site Recovery usa le risorse di Azure o i server Hyper-V, VMware e fisici nell'infrastruttura locale e può diventare un elemento chiave della strategia di continuità aziendale e ripristino di emergenza (BCDR) dell'organizzazione orchestrando la replica, il failover e il ripristino di carichi di lavoro e applicazioni se si verifica un guasto nella località primaria.</span><span class="sxs-lookup"><span data-stu-id="2ec23-165">Azure Site Recovery works with Azure resources, or Hyper-V, VMware, and physical servers in your on-premises infrastructure and can be a key part of your organization’s business continuity and disaster recovery (BCDR) strategy by orchestrating the replication, failover, and recovery of workloads and applications if the primary location fails.</span></span>
