<span data-ttu-id="76d93-101">Ora si applicherà alla rete un gruppo di sicurezza di rete, in modo che sul server possa transitare solo traffico HTTP.</span><span class="sxs-lookup"><span data-stu-id="76d93-101">Let's apply a network security group to our network, so that we only allow HTTP traffic through our server.</span></span>

## <a name="create-a-network-security-group"></a><span data-ttu-id="76d93-102">Creare un gruppo di sicurezza di rete</span><span class="sxs-lookup"><span data-stu-id="76d93-102">Create a network security group</span></span>

<span data-ttu-id="76d93-103">Azure dovrebbe aver creato un gruppo di sicurezza, perché si era indicato di volere l'accesso SSH.</span><span class="sxs-lookup"><span data-stu-id="76d93-103">Azure should have created a security group for us because we indicated we wanted SSH access.</span></span> <span data-ttu-id="76d93-104">Tuttavia ora si crea un nuovo gruppo di sicurezza, in modo da documentare l'intero processo.</span><span class="sxs-lookup"><span data-stu-id="76d93-104">But let's create a new security group, so you can walk through the entire process.</span></span> <span data-ttu-id="76d93-105">Questa procedura è particolarmente importante se si decide di creare la rete virtuale _prima_ delle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="76d93-105">This is particularly important if you decide to create your virtual network _before_ your VMs.</span></span> <span data-ttu-id="76d93-106">Come indicato in precedenza, i gruppi di sicurezza sono _facoltativi_ e non vengono necessariamente creati con la rete.</span><span class="sxs-lookup"><span data-stu-id="76d93-106">As mentioned earlier, security groups are _optional_ and not necessarily created with the network.</span></span>

1. <span data-ttu-id="76d93-107">Nel [portale di Azure](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true) fare clic sul pulsante **Crea una risorsa** sulla barra laterale nell'angolo a sinistra per avviare la creazione di una nuova risorsa.</span><span class="sxs-lookup"><span data-stu-id="76d93-107">In the [Azure portal](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true), click the **Create a resource** button in the left-corner sidebar to start a new resource creation.</span></span>

1. <span data-ttu-id="76d93-108">Digitare **Gruppo di sicurezza di rete** nella casella del filtro e selezionare l'elemento corrispondente nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="76d93-108">Type **Network security group** into the filter box and select the matching item in the list.</span></span>

1. <span data-ttu-id="76d93-109">Verificare che sia selezionato il modello di distribuzione **Resource Manager** e fare clic su **Crea**.</span><span class="sxs-lookup"><span data-stu-id="76d93-109">Make sure the **Resource Manager** deployment model is selected and click **Create**.</span></span>

1. <span data-ttu-id="76d93-110">Specificare un **Nome** per il gruppo di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="76d93-110">Provide a **Name** for your security group.</span></span> <span data-ttu-id="76d93-111">Anche in questo caso è consigliabile applicare le convenzioni di denominazione.</span><span class="sxs-lookup"><span data-stu-id="76d93-111">Again, naming conventions are a good idea here.</span></span> <span data-ttu-id="76d93-112">Si userà **test-web-eus-nsg1** per **Test Web Network Security Group #1 in East US**.</span><span class="sxs-lookup"><span data-stu-id="76d93-112">Let's use **test-web-eus-nsg1** for **Test Web Network Security Group #1 in East US**.</span></span> <span data-ttu-id="76d93-113">È consigliabile modificare la parte del nome relativa alla località in modo da riflettere la posizione del gruppo di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="76d93-113">You'll likely want to change the location portion of the name to reflect where you put the security group.</span></span>

1. <span data-ttu-id="76d93-114">Selezionare la **sottoscrizione** appropriata e usare il **gruppo di risorse** esistente.</span><span class="sxs-lookup"><span data-stu-id="76d93-114">Select the proper **Subscription** and use your existing **Resource group**.</span></span>

1. <span data-ttu-id="76d93-115">Inserirlo infine nella stessa **Posizione** della VM/rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="76d93-115">Finally, put it into the same **Location** as the VM / virtual network.</span></span> <span data-ttu-id="76d93-116">Questa operazione è importante perché non sarà possibile applicare questa risorsa se si trova in una posizione diversa.</span><span class="sxs-lookup"><span data-stu-id="76d93-116">This is important; you won't be able to apply this resource if it's in a different location.</span></span>

1. <span data-ttu-id="76d93-117">Fare clic su **Crea** per creare il gruppo.</span><span class="sxs-lookup"><span data-stu-id="76d93-117">Click **Create** to create the group.</span></span>

## <a name="add-a-new-inbound-rule-to-our-network-security-group"></a><span data-ttu-id="76d93-118">Aggiungere una nuova regola in ingresso al gruppo di sicurezza di rete</span><span class="sxs-lookup"><span data-stu-id="76d93-118">Add a new inbound rule to our network security group</span></span>

<span data-ttu-id="76d93-119">La distribuzione verrà completata rapidamente.</span><span class="sxs-lookup"><span data-stu-id="76d93-119">Deployment should complete quickly.</span></span> <span data-ttu-id="76d93-120">Al termine è possibile aggiungere nuove regole per il gruppo di sicurezza:</span><span class="sxs-lookup"><span data-stu-id="76d93-120">When it's finished, we can add new rules to our security group:</span></span>

1. <span data-ttu-id="76d93-121">Trovare la nuova risorsa gruppo di sicurezza e selezionarla nel portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="76d93-121">Find the new security group resource and select it in the Azure portal.</span></span>

1. <span data-ttu-id="76d93-122">Nella pagina Panoramica si noterà che sono state create alcune regole predefinite create per bloccare la rete.</span><span class="sxs-lookup"><span data-stu-id="76d93-122">On the overview page, you'll find that it has some default rules created to lock down the network.</span></span>

    <span data-ttu-id="76d93-123">Sul lato in ingresso:</span><span class="sxs-lookup"><span data-stu-id="76d93-123">On the inbound side:</span></span>

    - <span data-ttu-id="76d93-124">Tutto il traffico in ingresso da una rete virtuale a un'altra è consentito.</span><span class="sxs-lookup"><span data-stu-id="76d93-124">All incoming traffic from one VNet to another is allowed.</span></span> <span data-ttu-id="76d93-125">In questo modo le risorse della rete virtuale possono comunicare tra loro.</span><span class="sxs-lookup"><span data-stu-id="76d93-125">This lets resources on the VNet talk to each other.</span></span>
    - <span data-ttu-id="76d93-126">Il **probe** di Azure Load Balancer richiede di verificare che la macchina virtuale sia attiva.</span><span class="sxs-lookup"><span data-stu-id="76d93-126">Azure Load Balancer **probe** requests to ensure the VM is alive.</span></span>
    - <span data-ttu-id="76d93-127">Tutto il traffico in ingresso rimanente viene rifiutato.</span><span class="sxs-lookup"><span data-stu-id="76d93-127">All other inbound traffic is denied.</span></span>

    <span data-ttu-id="76d93-128">Sul lato in uscita:</span><span class="sxs-lookup"><span data-stu-id="76d93-128">On the outbound side:</span></span>
    - <span data-ttu-id="76d93-129">Tutto il traffico nella rete virtuale è consentito.</span><span class="sxs-lookup"><span data-stu-id="76d93-129">All in-network traffic on the VNet is allowed.</span></span>
    - <span data-ttu-id="76d93-130">Tutto il traffico in uscita verso Internet è consentito.</span><span class="sxs-lookup"><span data-stu-id="76d93-130">All outbound traffic to the internet is permitted.</span></span>
    - <span data-ttu-id="76d93-131">Tutto il traffico in uscita di altro tipo viene rifiutato.</span><span class="sxs-lookup"><span data-stu-id="76d93-131">All other outbound traffic is denied.</span></span>

    > [!NOTE]
    > <span data-ttu-id="76d93-132">Queste regole predefinite vengono impostate con valori di priorità elevata e quindi vengono valutate per _ultime_.</span><span class="sxs-lookup"><span data-stu-id="76d93-132">These default rules are set with high-priority values, which means that they get evaluated _last_.</span></span> <span data-ttu-id="76d93-133">Non possono essere modificate o eliminate, ma è possibile eseguirne l'_override_ creando regole più specifiche per il traffico con un valore di priorità più basso.</span><span class="sxs-lookup"><span data-stu-id="76d93-133">They cannot be changed or deleted, but you can _override_ them by creating more specific rules to match your traffic with a lower priority value.</span></span>

1. <span data-ttu-id="76d93-134">Fare clic sulla sezione **Regole di sicurezza in ingresso** nel pannello **Impostazioni** del gruppo di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="76d93-134">Click the **Inbound security rules** section in the **Settings** panel for the security group.</span></span>

1. <span data-ttu-id="76d93-135">Fare clic su **+ Aggiungi** per aggiungere una nuova regola di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="76d93-135">Click **+ Add** to add a new security rule.</span></span>

    ![Screenshot del portale di Azure che visualizza le impostazioni delle regole di sicurezza in ingresso con il pulsante Aggiungi evidenziato.](../media/8-add-rule.png)

    <span data-ttu-id="76d93-137">Esistono due modalità per immettere le informazioni necessarie per una regola di sicurezza: di base e avanzata.</span><span class="sxs-lookup"><span data-stu-id="76d93-137">There are two ways to enter the information necessary for a security rule: basic and advanced.</span></span> <span data-ttu-id="76d93-138">È possibile alternare tra le modalità facendo clic sul pulsante nella parte superiore del pannello **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="76d93-138">You can switch between them by clicking the button at the top of the **add** panel.</span></span>

    ![Due screenshot del portale di Azure che visualizzano l'alternanza tra le regole di immissione di base e avanzata con una freccia evidenziata che collega i due stati dell'interruttore.](../media/8-advanced-create-rule.png)

    <span data-ttu-id="76d93-140">La modalità avanzata consente di personalizzare completamente la regola.</span><span class="sxs-lookup"><span data-stu-id="76d93-140">The advanced mode provides the ability to customize the rule completely.</span></span> <span data-ttu-id="76d93-141">Se tuttavia è necessario configurare un protocollo noto, è più facile lavorare con la modalità di base.</span><span class="sxs-lookup"><span data-stu-id="76d93-141">However, if you need to configure a known protocol, the basic mode is a bit easier to work with.</span></span>

1. <span data-ttu-id="76d93-142">Passare alla modalità di base.</span><span class="sxs-lookup"><span data-stu-id="76d93-142">Switch to the basic mode.</span></span>

1. <span data-ttu-id="76d93-143">Aggiungere le informazioni per la regola HTTP:</span><span class="sxs-lookup"><span data-stu-id="76d93-143">Add the information for our HTTP rule:</span></span>

    - <span data-ttu-id="76d93-144">Impostare **Servizio** su HTTP.</span><span class="sxs-lookup"><span data-stu-id="76d93-144">Set the **Service** to be HTTP.</span></span> <span data-ttu-id="76d93-145">Verrà automaticamente configurato l'intervallo di porte.</span><span class="sxs-lookup"><span data-stu-id="76d93-145">This will set your port range up for you.</span></span>
    - <span data-ttu-id="76d93-146">Impostare **Priorità** su **1000**.</span><span class="sxs-lookup"><span data-stu-id="76d93-146">Set the **Priority** to **1000**.</span></span> <span data-ttu-id="76d93-147">Deve essere un numero inferiore a quello della regola predefinita **Nega**.</span><span class="sxs-lookup"><span data-stu-id="76d93-147">It has to be a lower number than the default **Deny** rule.</span></span> <span data-ttu-id="76d93-148">È possibile far iniziare l'intervallo con qualsiasi valore, ma è consigliabile usare un valore che consenta di creare un'eccezione in un secondo momento, se necessario.</span><span class="sxs-lookup"><span data-stu-id="76d93-148">You can start the range at any value, but it's recommended that you give yourself some space in case an exception needs to be created later.</span></span>
    - <span data-ttu-id="76d93-149">Assegnare un nome alla regola. In questo caso usare **allow-http-traffic**.</span><span class="sxs-lookup"><span data-stu-id="76d93-149">Give the rule a name; we'll use **allow-http-traffic**.</span></span>
    - <span data-ttu-id="76d93-150">Assegnare una descrizione alla regola.</span><span class="sxs-lookup"><span data-stu-id="76d93-150">Give the rule a description.</span></span>

1. <span data-ttu-id="76d93-151">Tornare alla modalità **avanzata**.</span><span class="sxs-lookup"><span data-stu-id="76d93-151">Switch back to the **Advanced** mode.</span></span> <span data-ttu-id="76d93-152">Si noti che le impostazioni sono ancora presenti.</span><span class="sxs-lookup"><span data-stu-id="76d93-152">Notice that our settings are still present.</span></span> <span data-ttu-id="76d93-153">È possibile usare questo pannello per creare impostazioni con granularità più fine.</span><span class="sxs-lookup"><span data-stu-id="76d93-153">We can use this panel to create more fine-grained settings.</span></span> <span data-ttu-id="76d93-154">In particolare, l'**origine** deve essere un indirizzo IP specifico o un intervallo di indirizzi IP specifici delle telecamere.</span><span class="sxs-lookup"><span data-stu-id="76d93-154">In particular, we would likely restrict the **Source** to be a specific IP address or range of IP addresses specific to the cameras.</span></span> <span data-ttu-id="76d93-155">Se si conosce l'indirizzo IP corrente del computer locale, provare a usarlo.</span><span class="sxs-lookup"><span data-stu-id="76d93-155">If you know the current IP address of your local computer, you can try that.</span></span> <span data-ttu-id="76d93-156">In caso contrario, lasciare l'impostazione **Qualsiasi** in modo che sia possibile testare la regola.</span><span class="sxs-lookup"><span data-stu-id="76d93-156">Otherwise, leave the setting as **Any**, so you can test the rule.</span></span>

1. <span data-ttu-id="76d93-157">Fare clic su **Aggiungi** per creare la regola.</span><span class="sxs-lookup"><span data-stu-id="76d93-157">Click **Add** to create the rule.</span></span> <span data-ttu-id="76d93-158">L'elenco di regole in ingresso verrà aggiornato. Si noti che sono in ordine di priorità, ovvero l'ordine in cui verranno esaminate.</span><span class="sxs-lookup"><span data-stu-id="76d93-158">This will update the list of inbound rules - notice they are in priority order, which is how they will be examined.</span></span>

## <a name="apply-the-security-group"></a><span data-ttu-id="76d93-159">Applicare il gruppo di sicurezza</span><span class="sxs-lookup"><span data-stu-id="76d93-159">Apply the security group</span></span>

<span data-ttu-id="76d93-160">Tenere presente che il gruppo di sicurezza può essere applicato a un'interfaccia di rete (per proteggere una singola VM) oppure a una subnet (per applicarlo a tutte le risorse della subnet).</span><span class="sxs-lookup"><span data-stu-id="76d93-160">Recall that we can apply the security group to a network interface to guard a single VM or to a subnet where it would apply to any resources on that subnet.</span></span> <span data-ttu-id="76d93-161">Si userà il secondo approccio, che è il più comune.</span><span class="sxs-lookup"><span data-stu-id="76d93-161">The latter approach tends to be the most common, so let's do that.</span></span> <span data-ttu-id="76d93-162">È possibile accedere a questa risorsa in Azure tramite la risorsa di rete virtuale oppure indirettamente tramite la VM che usa la rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="76d93-162">We could get to this resource in Azure through either the virtual network resource or indirectly through the VM that is using the virtual network.</span></span>

1. <span data-ttu-id="76d93-163">Passare al pannello **Panoramica** per la macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="76d93-163">Switch to the **Overview** panel for the virtual machine.</span></span> <span data-ttu-id="76d93-164">È possibile trovare la VM in **Tutte le risorse**.</span><span class="sxs-lookup"><span data-stu-id="76d93-164">You can find the VM under **All Resources**.</span></span>

1. <span data-ttu-id="76d93-165">Selezionare l'elemento **Rete** nella sezione **Impostazioni**.</span><span class="sxs-lookup"><span data-stu-id="76d93-165">Select the **Networking** item in the **Settings** section.</span></span>

1. <span data-ttu-id="76d93-166">Nelle proprietà della rete sono disponibili informazioni sulla rete applicata alla VM, tra cui **Rete virtuale/subnet**.</span><span class="sxs-lookup"><span data-stu-id="76d93-166">In the networking properties, you will find information about the networking applied to the VM, including the **Virtual network/subnet**.</span></span> <span data-ttu-id="76d93-167">Questo è un collegamento selezionabile che consente di ottenere la risorsa.</span><span class="sxs-lookup"><span data-stu-id="76d93-167">This is a clickable link to get to the resource.</span></span> <span data-ttu-id="76d93-168">Fare clic per aprire la rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="76d93-168">Click it to open the virtual network.</span></span> <span data-ttu-id="76d93-169">Questo collegamento è disponibile _anche_ nel pannello **Panoramica** della VM.</span><span class="sxs-lookup"><span data-stu-id="76d93-169">This link is _also_ available on the **Overview** panel of the VM.</span></span> <span data-ttu-id="76d93-170">Entrambi i collegamenti apriranno la **panoramica** della rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="76d93-170">Either of these will open the **Overview** of the virtual network.</span></span>

1. <span data-ttu-id="76d93-171">Nella sezione **Impostazioni** selezionare l'elemento **Subnet**.</span><span class="sxs-lookup"><span data-stu-id="76d93-171">In the **Settings** section, select the **Subnets** item.</span></span>

1. <span data-ttu-id="76d93-172">Dovrebbe essere presente una sola subnet definita (predefinita) da quando prima sono state create la VM e la rete.</span><span class="sxs-lookup"><span data-stu-id="76d93-172">We should have a single subnet defined (default) from when we created the VM + network earlier.</span></span> <span data-ttu-id="76d93-173">Fare clic sull'elemento nell'elenco per aprire i dettagli.</span><span class="sxs-lookup"><span data-stu-id="76d93-173">Click the item in the list to open the details.</span></span>

1. <span data-ttu-id="76d93-174">Fare clic sulla voce **Gruppo di sicurezza di rete**.</span><span class="sxs-lookup"><span data-stu-id="76d93-174">Click the **Network security group** entry.</span></span>

1. <span data-ttu-id="76d93-175">Selezionare il nuovo gruppo di sicurezza: **test-web-eus-nsg1**.</span><span class="sxs-lookup"><span data-stu-id="76d93-175">Select your new security group: **test-web-eus-nsg1**.</span></span> <span data-ttu-id="76d93-176">Dovrebbe essere presente un altro gruppo oltre a quello creato con la macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="76d93-176">There should be another group here as well that was created with the VM.</span></span>

1. <span data-ttu-id="76d93-177">Fare clic su **Salva** per salvare la modifica.</span><span class="sxs-lookup"><span data-stu-id="76d93-177">Click **Save** to save the change.</span></span> <span data-ttu-id="76d93-178">L'applicazione alla rete richiederà un minuto.</span><span class="sxs-lookup"><span data-stu-id="76d93-178">It will take a minute to apply to the network.</span></span>

## <a name="update-the-nsg-on-the-network-interface"></a><span data-ttu-id="76d93-179">Aggiornare il gruppo di sicurezza di rete nell'interfaccia di rete</span><span class="sxs-lookup"><span data-stu-id="76d93-179">Update the NSG on the network interface</span></span>

<span data-ttu-id="76d93-180">La porta 80 è aperta nel gruppo di sicurezza di rete applicato alla subnet, ma continuerà a essere bloccata perché attualmente non è consentita nel gruppo di sicurezza di rete applicato all'interfaccia di rete.</span><span class="sxs-lookup"><span data-stu-id="76d93-180">Port 80 is open on the NSG applied to the subnet, but it's still going to be blocked because it's not currently allowed on the NSG applied to the network interface.</span></span> <span data-ttu-id="76d93-181">Ecco come risolvere il problema per abilitare la connessione.</span><span class="sxs-lookup"><span data-stu-id="76d93-181">Let's fix that and then we should be able to connect.</span></span>

1. <span data-ttu-id="76d93-182">Tornare al pannello **Panoramica** per la macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="76d93-182">Switch back to the **Overview** panel for the virtual machine.</span></span> <span data-ttu-id="76d93-183">È possibile trovare la macchina virtuale in **Tutte le risorse**.</span><span class="sxs-lookup"><span data-stu-id="76d93-183">You can find the VM under **All Resources**.</span></span>

1. <span data-ttu-id="76d93-184">Selezionare l'elemento **Rete** nella sezione **Impostazioni**.</span><span class="sxs-lookup"><span data-stu-id="76d93-184">In the **Settings** section, select the **Networking** item.</span></span>

1. <span data-ttu-id="76d93-185">Nella sezione **Regole porta in ingresso** dovrebbero essere visualizzate le regole del gruppo di sicurezza di rete per la subnet, e appena sotto, le regole per l'interfaccia di rete.</span><span class="sxs-lookup"><span data-stu-id="76d93-185">In the **Inbound port rules** section you should see the NSG rules for the subnet, then the NSG rules for the network interface just below it.</span></span> <span data-ttu-id="76d93-186">Nelle regole del gruppo di sicurezza di rete per l'interfaccia di rete selezionare **Aggiungi regola porta in ingresso**.</span><span class="sxs-lookup"><span data-stu-id="76d93-186">In the NSG rules for the network interface, select **Add inbound port rule**.</span></span>

1. <span data-ttu-id="76d93-187">Passare alla modalità di base.</span><span class="sxs-lookup"><span data-stu-id="76d93-187">Switch to the basic mode.</span></span>

1. <span data-ttu-id="76d93-188">Aggiungere le informazioni per la regola HTTP:</span><span class="sxs-lookup"><span data-stu-id="76d93-188">Add the information for our HTTP rule:</span></span>

    - <span data-ttu-id="76d93-189">Impostare **Servizio** su HTTP.</span><span class="sxs-lookup"><span data-stu-id="76d93-189">Set the **Service** to be HTTP.</span></span> <span data-ttu-id="76d93-190">Verrà automaticamente configurato l'intervallo di porte.</span><span class="sxs-lookup"><span data-stu-id="76d93-190">This will set your port range up for you.</span></span>
    - <span data-ttu-id="76d93-191">Impostare la **Priorità** su **310**.</span><span class="sxs-lookup"><span data-stu-id="76d93-191">Set the **Priority** to **310**.</span></span>
    - <span data-ttu-id="76d93-192">Assegnare un nome alla regola. In questo caso usare **allow-http-traffic**.</span><span class="sxs-lookup"><span data-stu-id="76d93-192">Give the rule a name; we'll use **allow-http-traffic**.</span></span>
    - <span data-ttu-id="76d93-193">Assegnare alla regola una descrizione.</span><span class="sxs-lookup"><span data-stu-id="76d93-193">Give the rule a description.</span></span>

1. <span data-ttu-id="76d93-194">Fare clic su **Aggiungi** per creare la regola.</span><span class="sxs-lookup"><span data-stu-id="76d93-194">Click **Add** to create the rule.</span></span>

## <a name="verify-the-rules"></a><span data-ttu-id="76d93-195">Verificare le regole</span><span class="sxs-lookup"><span data-stu-id="76d93-195">Verify the rules</span></span>

<span data-ttu-id="76d93-196">Ora si procede a convalidare la modifica:</span><span class="sxs-lookup"><span data-stu-id="76d93-196">Let's validate the change:</span></span>

1. <span data-ttu-id="76d93-197">Tornare al pannello **Panoramica** per la macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="76d93-197">Switch back to the **Overview** panel for the virtual machine.</span></span> <span data-ttu-id="76d93-198">È possibile trovare la VM in **Tutte le risorse**.</span><span class="sxs-lookup"><span data-stu-id="76d93-198">You can find the VM under **All Resources**.</span></span>

1. <span data-ttu-id="76d93-199">Selezionare l'elemento **Rete** nella sezione **Impostazioni**.</span><span class="sxs-lookup"><span data-stu-id="76d93-199">Select the **Networking** item in the **Settings** section.</span></span>

1. <span data-ttu-id="76d93-200">Nei dettagli dell'interfaccia di rete è presente un collegamento alle **regole di sicurezza effettive** che consente di visualizzare rapidamente come verranno valutate le regole.</span><span class="sxs-lookup"><span data-stu-id="76d93-200">In the network interface details, there is a link for **Effective security rules** that will quickly show you how rules are going to be evaluated.</span></span> <span data-ttu-id="76d93-201">Fare clic sul collegamento per aprire l'analisi e verificare che vengano visualizzate la nuova regole.</span><span class="sxs-lookup"><span data-stu-id="76d93-201">Click the link to open the analysis and make sure you see your new rules.</span></span>

    ![Screenshot del portale di Azure che visualizza il pannello Regole di sicurezza valide per la rete in uso.](../media/8-effective-rules.png)

1. <span data-ttu-id="76d93-203">Naturalmente, il modo migliore per assicurarsi che tutto funzioni correttamente è inviare una richiesta HTTP al server.</span><span class="sxs-lookup"><span data-stu-id="76d93-203">Of course, the best way to validate it's all working is to hit our server with an HTTP request.</span></span> <span data-ttu-id="76d93-204">A questo punto dovrebbe funzionare.</span><span class="sxs-lookup"><span data-stu-id="76d93-204">It should now work.</span></span>

    ![Screenshot di un Web browser con la pagina Web predefinita di Apache ospitata nell'IP della nuova macchina virtuale Linux.](../media/6-apache-works.png)

## <a name="one-more-thing"></a><span data-ttu-id="76d93-206">Ultimo passaggio</span><span class="sxs-lookup"><span data-stu-id="76d93-206">One more thing</span></span>

<span data-ttu-id="76d93-207">Le regole di sicurezza sono difficili da configurare correttamente.</span><span class="sxs-lookup"><span data-stu-id="76d93-207">Security rules are tricky to get right.</span></span> <span data-ttu-id="76d93-208">È stato commesso un errore quando si è applicato questo nuovo gruppo di sicurezza: si è perso l'accesso SSH.</span><span class="sxs-lookup"><span data-stu-id="76d93-208">We made a mistake when we applied this new security group - we lost our SSH access!</span></span> <span data-ttu-id="76d93-209">Per risolvere questo problema, è possibile aggiungere un'altra regola al gruppo di sicurezza applicato alla subnet per consentire l'accesso SSH.</span><span class="sxs-lookup"><span data-stu-id="76d93-209">To fix this, you can add another rule to the security group applied to the subnet to allow SSH access.</span></span> <span data-ttu-id="76d93-210">Assicurarsi di limitare gli indirizzi TCP/IP in ingresso per la regola a quelli di cui si è proprietari.</span><span class="sxs-lookup"><span data-stu-id="76d93-210">Make sure to restrict the inbound TCP/IP addresses for the rule to be the ones you own.</span></span>

> [!WARNING]
> <span data-ttu-id="76d93-211">Assicurarsi sempre di bloccare le porte usate per l'accesso amministrativo.</span><span class="sxs-lookup"><span data-stu-id="76d93-211">Always make sure to lock down ports used for administrative access.</span></span> <span data-ttu-id="76d93-212">Un approccio ancora migliore consiste nel creare una VPN per collegare la rete virtuale alla rete privata e consentire solo le richieste RDP o SSH da tale intervallo di indirizzi.</span><span class="sxs-lookup"><span data-stu-id="76d93-212">An even better approach is to create a VPN to link the virtual network to your private network and only allow RDP or SSH requests from that address range.</span></span> <span data-ttu-id="76d93-213">È anche possibile sostituire la porta usata da SSH con una diversa da quella predefinita.</span><span class="sxs-lookup"><span data-stu-id="76d93-213">You can also change the port used by SSH to be something other than the default.</span></span> <span data-ttu-id="76d93-214">Tenere presente che la sostituzione della porta non è sufficiente ad arrestare gli attacchi.</span><span class="sxs-lookup"><span data-stu-id="76d93-214">Keep in mind that changing ports is not sufficient to stop attacks.</span></span> <span data-ttu-id="76d93-215">L'unico effetto che ottiene è rendere più difficile il rilevamento della porta.</span><span class="sxs-lookup"><span data-stu-id="76d93-215">It simply makes it a little harder to discover.</span></span>