<span data-ttu-id="44a55-101">Si è notato che i picchi di traffico possono sovraccaricare il livello intermedio.</span><span class="sxs-lookup"><span data-stu-id="44a55-101">You've discovered that spikes in traffic can overwhelm our middle-tier.</span></span> <span data-ttu-id="44a55-102">Per risolvere questo problema, si è deciso di aggiungere una coda tra il front-end e il livello intermedio nell'applicazione di caricamento degli articoli.</span><span class="sxs-lookup"><span data-stu-id="44a55-102">To deal with this, you've decided to add a queue between the front-end and the middle tier in your article-upload application.</span></span>

<span data-ttu-id="44a55-103">Il primo passaggio della procedura di creazione di una coda è creare l'account di archiviazione di Azure in cui verranno archiviati i dati.</span><span class="sxs-lookup"><span data-stu-id="44a55-103">The first step in creating a queue is to create the Azure Storage Account that will store our data.</span></span>

## <a name="create-a-storage-account-with-the-azure-cli"></a><span data-ttu-id="44a55-104">Creare un account di archiviazione usando l'interfaccia della riga di comando di Azure</span><span class="sxs-lookup"><span data-stu-id="44a55-104">Create a Storage Account with the Azure CLI</span></span>

<span data-ttu-id="44a55-105">Per iniziare, creare un gruppo di risorse di Azure in cui inserire l'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="44a55-105">To start with, let's create an Azure Resource Group to hold our storage account.</span></span>

1. <span data-ttu-id="44a55-106">In Cloud Shell a destra selezionare Bash se è possibile scegliere un'opzione.</span><span class="sxs-lookup"><span data-stu-id="44a55-106">In the Cloud shell on the right, select Bash if you are given a choice.</span></span>

1. <span data-ttu-id="44a55-107">Usare il comando `az group create` dell'interfaccia della riga di comando di Azure per creare un nuovo gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="44a55-107">Use the `az group create` Azure CLI command to create a new resource group.</span></span> <span data-ttu-id="44a55-108">Assegnare al gruppo il nome **ExerciseResources** e posizionarlo in una località vicina.</span><span class="sxs-lookup"><span data-stu-id="44a55-108">Give it the name **ExerciseResources** and place it into a location near you.</span></span> 
    - <span data-ttu-id="44a55-109">L'esempio seguente usa "eastus" come località.</span><span class="sxs-lookup"><span data-stu-id="44a55-109">The example below uses "eastus" as the location.</span></span>

    ```azurecli
    az group create -n ExerciseResources --location eastus
    ```
        
1. <span data-ttu-id="44a55-110">Ora usare il comando `az storage account create` per creare l'account di archiviazione effettivo.</span><span class="sxs-lookup"><span data-stu-id="44a55-110">Next, use the `az storage account create` command to create the actual Storage Account.</span></span> <span data-ttu-id="44a55-111">È necessario specificare alcuni parametri:</span><span class="sxs-lookup"><span data-stu-id="44a55-111">You'll need to supply several parameters:</span></span>

| <span data-ttu-id="44a55-112">Parametro</span><span class="sxs-lookup"><span data-stu-id="44a55-112">Parameter</span></span> | <span data-ttu-id="44a55-113">Valore</span><span class="sxs-lookup"><span data-stu-id="44a55-113">Value</span></span> |
|-----------|-------|
| `--name`  | <span data-ttu-id="44a55-114">Imposta il nome.</span><span class="sxs-lookup"><span data-stu-id="44a55-114">Sets the name.</span></span> <span data-ttu-id="44a55-115">Tenere presente che gli account di archiviazione usano il nome per generare un URL pubblico, quindi deve essere univoco.</span><span class="sxs-lookup"><span data-stu-id="44a55-115">Remember that storage accounts use the name to generate a public URL - so it has to be unique.</span></span> <span data-ttu-id="44a55-116">Inoltre, il nome dell'account deve avere una lunghezza compresa tra 3 e 24 caratteri e può contenere solo numeri e lettere minuscole.</span><span class="sxs-lookup"><span data-stu-id="44a55-116">In addition, the account name must be between 3 and 24 characters, and be composed of numbers and lowercase letters only.</span></span> <span data-ttu-id="44a55-117">È consigliabile usare il prefisso **articles** con un numero casuale come suffisso ma è possibile usare ciò che si vuole.</span><span class="sxs-lookup"><span data-stu-id="44a55-117">We recommend you use the prefix **articles** with a random number suffix but you can use whatever you like.</span></span> |
| `-g`        | <span data-ttu-id="44a55-118">Specifica il gruppo di risorse, usare **ExerciseResources** come valore.</span><span class="sxs-lookup"><span data-stu-id="44a55-118">Supplies the Resource Group, use **ExerciseResources** as the value.</span></span> |
| `--kind`    | <span data-ttu-id="44a55-119">Imposta il tipo di account di archiviazione, usare **StorageV2** per creare un account V2 per utilizzo generico.</span><span class="sxs-lookup"><span data-stu-id="44a55-119">Sets the Storage Account type - use **StorageV2** to create a general-purpose V2 account.</span></span> |
| `-l`        | <span data-ttu-id="44a55-120">Imposta la posizione in modo indipendente dal proprietario del gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="44a55-120">Sets the location independent of the Resource Group owner.</span></span> <span data-ttu-id="44a55-121">È facoltativo, ma è possibile usarlo per posizionare la coda in un'area diversa rispetto al gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="44a55-121">It's optional, but you can use it to place the queue in a different region than the Resource Group.</span></span> |
| `--sku`     | <span data-ttu-id="44a55-122">Per impostazione predefinita il tipo di account è **Standard_RAGRS**, che però è eccessivo per questa dimostrazione.</span><span class="sxs-lookup"><span data-stu-id="44a55-122">Sets the account type, it defaults to **Standard_RAGRS**, which is overkill for this demonstration.</span></span> <span data-ttu-id="44a55-123">Verrà quindi usato **Standard_LRS**, che è ridondante solo a livello locale all'interno del data center.</span><span class="sxs-lookup"><span data-stu-id="44a55-123">Let's use **Standard_LRS** which means it's only locally redundant within the data center.</span></span> |

<span data-ttu-id="44a55-124">Di seguito è riportato un esempio di riga di comando che usa i parametri indicati sopra.</span><span class="sxs-lookup"><span data-stu-id="44a55-124">Here's an example command line that uses the above parameters.</span></span> <span data-ttu-id="44a55-125">Assicurarsi di modificare il parametro `--name` in modo che sia univoco se si decide di copiare e incollare questo comando.</span><span class="sxs-lookup"><span data-stu-id="44a55-125">Make sure to change the `--name` parameter to be something unique if you decide to copy/paste this command.</span></span>

```azurecli
az storage account create --name <name> -g ExerciseResources --kind StorageV2 -l eastus --sku Standard_LRS
```