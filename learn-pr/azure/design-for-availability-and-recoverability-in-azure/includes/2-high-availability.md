<span data-ttu-id="92278-101">La disponibilità elevata garantisce che l'architettura sia in grado di gestire gli errori.</span><span class="sxs-lookup"><span data-stu-id="92278-101">High availability (HA) ensures your architecture can handle failures.</span></span> <span data-ttu-id="92278-102">Si immagini di essere il responsabile di un sistema che deve essere sempre completamente operativo.</span><span class="sxs-lookup"><span data-stu-id="92278-102">Imagine you're responsible for a system that must be always fully operational.</span></span> <span data-ttu-id="92278-103">Dal momento che è inevitabile che si verifichino errori, come è possibile assicurarsi che il sistema rimanga online in caso di problemi?</span><span class="sxs-lookup"><span data-stu-id="92278-103">Failures can and will happen, so how do you ensure that your system can remain online when something goes wrong?</span></span> <span data-ttu-id="92278-104">Come si esegue la manutenzione senza interrompere il servizio?</span><span class="sxs-lookup"><span data-stu-id="92278-104">How do you perform maintenance without service interruption?</span></span> 

<span data-ttu-id="92278-105">In questo modulo si apprenderà quando è necessaria la disponibilità elevata, come valutare i requisiti di disponibilità elevata dell'applicazione e in che modo la piattaforma Azure aiuta a soddisfare gli obiettivi di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="92278-105">Here, you'll learn the need for high availability, evaluate application high-availability requirements, and see how the Azure platform helps you meet your availability goals.</span></span>

## <a name="what-is-high-availability"></a><span data-ttu-id="92278-106">Che cos'è la disponibilità elevata?</span><span class="sxs-lookup"><span data-stu-id="92278-106">What is high availability?</span></span>

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE2yEvc]

<span data-ttu-id="92278-107">Un servizio a disponibilità elevata assorbe le fluttuazioni di disponibilità, carico ed errori temporanei nell'hardware e nei servizi dipendenti.</span><span class="sxs-lookup"><span data-stu-id="92278-107">A highly-available service is a service that absorbs fluctuations in availability, load, and temporary failures in dependent services and hardware.</span></span> <span data-ttu-id="92278-108">L'applicazione rimane online e disponibile (o continua a sembrare tale) con un livello di prestazioni accettabile.</span><span class="sxs-lookup"><span data-stu-id="92278-108">The application remains online and available (or maintains the appearance of it) while performing acceptably.</span></span> <span data-ttu-id="92278-109">Questa disponibilità è spesso definita da requisiti di business, obiettivi del livello di servizio o contratti di servizio dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="92278-109">This availability is often defined by business requirements, service-level objectives, or service-level agreements.</span></span>

<span data-ttu-id="92278-110">In ultima analisi la disponibilità elevata è la capacità di gestire la perdita o una grave riduzione delle prestazioni di un componente di un sistema.</span><span class="sxs-lookup"><span data-stu-id="92278-110">High availability is ultimately about the ability to handle the loss or severe degradation of a component of a system.</span></span> <span data-ttu-id="92278-111">Il problema può essere causato dal passaggio alla modalità offline di una macchina virtuale che ospita un'applicazione perché si è verificato un problema dell'host.</span><span class="sxs-lookup"><span data-stu-id="92278-111">This might be due to a virtual machine that's hosting an application going offline because the host failed.</span></span> <span data-ttu-id="92278-112">Può essere dovuto a una manutenzione pianificata per un aggiornamento del sistema.</span><span class="sxs-lookup"><span data-stu-id="92278-112">It could be due to planned maintenance for a system upgrade.</span></span> <span data-ttu-id="92278-113">Può anche essere causato dall'errore di un servizio nel cloud.</span><span class="sxs-lookup"><span data-stu-id="92278-113">It could even be caused by the failure of a service in the cloud.</span></span> <span data-ttu-id="92278-114">Identificando le posizioni in cui potrebbe verificarsi un errore del sistema e creando le funzionalità per gestire tali errori, è possibile garantire la costante disponibilità online dei servizi offerti ai clienti.</span><span class="sxs-lookup"><span data-stu-id="92278-114">Identifying the places where your system can fail, and building in the capabilities to handle those failures, will ensure that the services you offer to your customers can stay online.</span></span>

<span data-ttu-id="92278-115">In genere la disponibilità elevata di un servizio richiede la disponibilità elevata dei componenti che costituiscono il servizio.</span><span class="sxs-lookup"><span data-stu-id="92278-115">High availability of a service typically requires high availability of the components that make up the service.</span></span> <span data-ttu-id="92278-116">Si pensi a un sito Web che offre un marketplace online per l'acquisto di articoli.</span><span class="sxs-lookup"><span data-stu-id="92278-116">Think of a website that offers an online marketplace to purchase items.</span></span> <span data-ttu-id="92278-117">Il servizio offerto ai clienti è la possibilità di visualizzare in un elenco, acquistare e vendere articoli online.</span><span class="sxs-lookup"><span data-stu-id="92278-117">The service that's offered to your customers is the ability to list, buy, and sell items online.</span></span> <span data-ttu-id="92278-118">Per rendere disponibile questo servizio saranno necessari più componenti: un database, dei server Web, dei server applicazioni e così via.</span><span class="sxs-lookup"><span data-stu-id="92278-118">To provide this service, you'll have multiple components: a database, web servers, application servers, and so on.</span></span> <span data-ttu-id="92278-119">Poiché ognuno di questi componenti potrebbe presentare un problema, è necessario identificare i punti di errore, stabilire dove si trovano e determinare come gestire questi punti di errore nell'architettura.</span><span class="sxs-lookup"><span data-stu-id="92278-119">Each of these components could fail, so you have to identify how and where  your failure points are, and determine how to address these failure points in your architecture.</span></span>

## <a name="evaluate-high-availability-for-your-architecture"></a><span data-ttu-id="92278-120">Valutare la disponibilità elevata per l'architettura in uso</span><span class="sxs-lookup"><span data-stu-id="92278-120">Evaluate high availability for your architecture</span></span>

<span data-ttu-id="92278-121">La valutazione di un'applicazione per la disponibilità elevata comprende tre passaggi:</span><span class="sxs-lookup"><span data-stu-id="92278-121">There are three steps to evaluate an application for high availability:</span></span>

1. <span data-ttu-id="92278-122">Determinare il contratto di servizio dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="92278-122">Determine the service-level agreement of your application</span></span>
1. <span data-ttu-id="92278-123">Valutare le funzionalità per la disponibilità elevata dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="92278-123">Evaluate the HA capabilities of the application</span></span>
1. <span data-ttu-id="92278-124">Valutare le funzionalità per la disponibilità elevata delle applicazioni dipendenti</span><span class="sxs-lookup"><span data-stu-id="92278-124">Evaluate the HA capabilities of dependent applications</span></span>

<span data-ttu-id="92278-125">Esaminiamo questi passaggi in dettaglio.</span><span class="sxs-lookup"><span data-stu-id="92278-125">Let's explore these steps in detail.</span></span>

### <a name="determine-the-service-level-agreement-of-your-application"></a><span data-ttu-id="92278-126">Determinare il contratto di servizio dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="92278-126">Determine the service-level agreement of your application</span></span>

<span data-ttu-id="92278-127">Un contratto di servizio è un contratto tra il provider di un servizio e un consumer del servizio, in cui il provider del servizio si impegna per il rispetto di uno standard del servizio basato su metriche misurabili e responsabilità definite.</span><span class="sxs-lookup"><span data-stu-id="92278-127">A service-level agreement (SLA) is an agreement between a service provider and a service consumer in which the service provider commits to a standard of service based on measurable metrics and defined responsibilities.</span></span> <span data-ttu-id="92278-128">I contratti di servizio possono essere accordi contrattuali legalmente vincolanti o aspettative di disponibilità da parte dei clienti.</span><span class="sxs-lookup"><span data-stu-id="92278-128">SLAs can be strict, legally bound, contractual agreements, or assumed expectations of availability by customers.</span></span> <span data-ttu-id="92278-129">Le metriche del servizio in genere riguardano la velocità effettiva, la capacità e la disponibilità del servizio, ognuna delle quali può essere misurata in vari modi.</span><span class="sxs-lookup"><span data-stu-id="92278-129">Service metrics typically focus on service throughput, capacity, and availability, all of which can be measured in various ways.</span></span> <span data-ttu-id="92278-130">Indipendentemente dalle specifiche metriche che costituiscono il contratto di servizio, il mancato rispetto del contratto di servizio può avere gravi conseguenze finanziarie per il provider del servizio.</span><span class="sxs-lookup"><span data-stu-id="92278-130">Regardless of the specific metrics that make up the SLA, failure to meet the SLA can have serious financial ramifications for the service provider.</span></span> <span data-ttu-id="92278-131">Un componente comune dei contratti di servizio è un rimborso finanziario garantito in caso di mancato rispetto del contratto.</span><span class="sxs-lookup"><span data-stu-id="92278-131">A common component of service agreements is guaranteed financial reimbursement for missed SLAs.</span></span>

<span data-ttu-id="92278-132">Gli obiettivi del livello di servizio (SLO) sono valori di metriche target usati per misurare le prestazioni, l'affidabilità o la disponibilità.</span><span class="sxs-lookup"><span data-stu-id="92278-132">Service-level objectives (SLO) are the values of target metrics that are used to measure performance, reliability, or availability.</span></span> <span data-ttu-id="92278-133">Possono essere metriche che definiscono ad esempio le prestazioni di elaborazione richieste in millisecondi, la disponibilità dei servizi in minuti al mese o il numero di richieste elaborate ogni ora.</span><span class="sxs-lookup"><span data-stu-id="92278-133">These could be metrics defining the performance of request processing in milliseconds, the availability of services in minutes per month, or the number of requests processed per hour.</span></span> <span data-ttu-id="92278-134">Tramite la valutazione delle metriche prodotte dall'applicazione e il riconoscimento degli elementi usati dai clienti per misurare la qualità, è possibile definire intervalli accettabili e non accettabili per questi obiettivi.</span><span class="sxs-lookup"><span data-stu-id="92278-134">By evaluating the metrics exposed by your application and understanding what customers use as a measure of quality, you can define the acceptable and unacceptable ranges for these SLOs.</span></span> <span data-ttu-id="92278-135">Mediante la definizione di questi obiettivi si definiscono risultati e attese sia per i team che supportano i servizi sia per i clienti che li usano.</span><span class="sxs-lookup"><span data-stu-id="92278-135">By defining these objectives, you clearly set goals and expectations with both the teams supporting the services and customers who are consuming these services.</span></span> <span data-ttu-id="92278-136">I punti di disconnessione singolo (SLO) verranno usati per determinare se il contratto di servizio complessivo è soddisfatto.</span><span class="sxs-lookup"><span data-stu-id="92278-136">These SLOs will be used to determine if your overall SLA is being met.</span></span>

<span data-ttu-id="92278-137">La tabella seguente illustra il potenziale tempo totale di inattività per vari livelli di contratto di servizio.</span><span class="sxs-lookup"><span data-stu-id="92278-137">The following table shows the potential cumulative downtime for various SLA levels.</span></span> 

| <span data-ttu-id="92278-138">Contratto di servizio</span><span class="sxs-lookup"><span data-stu-id="92278-138">SLA</span></span> | <span data-ttu-id="92278-139">Tempo di inattività settimanale</span><span class="sxs-lookup"><span data-stu-id="92278-139">Downtime per week</span></span> | <span data-ttu-id="92278-140">Tempo di inattività mensile</span><span class="sxs-lookup"><span data-stu-id="92278-140">Downtime per month</span></span> | <span data-ttu-id="92278-141">Tempo di inattività annuale</span><span class="sxs-lookup"><span data-stu-id="92278-141">Downtime per year</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="92278-142">99%</span><span class="sxs-lookup"><span data-stu-id="92278-142">99%</span></span> |<span data-ttu-id="92278-143">1,68 ore</span><span class="sxs-lookup"><span data-stu-id="92278-143">1.68 hours</span></span> |<span data-ttu-id="92278-144">7,2 ore</span><span class="sxs-lookup"><span data-stu-id="92278-144">7.2 hours</span></span> |<span data-ttu-id="92278-145">3,65 giorni</span><span class="sxs-lookup"><span data-stu-id="92278-145">3.65 days</span></span> |
| <span data-ttu-id="92278-146">99,9%</span><span class="sxs-lookup"><span data-stu-id="92278-146">99.9%</span></span> |<span data-ttu-id="92278-147">10,1 minuti</span><span class="sxs-lookup"><span data-stu-id="92278-147">10.1 minutes</span></span> |<span data-ttu-id="92278-148">43,2 minuti</span><span class="sxs-lookup"><span data-stu-id="92278-148">43.2 minutes</span></span> |<span data-ttu-id="92278-149">8,76 ore</span><span class="sxs-lookup"><span data-stu-id="92278-149">8.76 hours</span></span> |
| <span data-ttu-id="92278-150">99,95%</span><span class="sxs-lookup"><span data-stu-id="92278-150">99.95%</span></span> |<span data-ttu-id="92278-151">5 minuti</span><span class="sxs-lookup"><span data-stu-id="92278-151">5 minutes</span></span> |<span data-ttu-id="92278-152">21,6 minuti</span><span class="sxs-lookup"><span data-stu-id="92278-152">21.6 minutes</span></span> |<span data-ttu-id="92278-153">4,38 ore</span><span class="sxs-lookup"><span data-stu-id="92278-153">4.38 hours</span></span> |
| <span data-ttu-id="92278-154">99,99%</span><span class="sxs-lookup"><span data-stu-id="92278-154">99.99%</span></span> |<span data-ttu-id="92278-155">1,01 minuti</span><span class="sxs-lookup"><span data-stu-id="92278-155">1.01 minutes</span></span> |<span data-ttu-id="92278-156">4,32 minuti</span><span class="sxs-lookup"><span data-stu-id="92278-156">4.32 minutes</span></span> |<span data-ttu-id="92278-157">52,56 minuti</span><span class="sxs-lookup"><span data-stu-id="92278-157">52.56 minutes</span></span> |
| <span data-ttu-id="92278-158">99,999%</span><span class="sxs-lookup"><span data-stu-id="92278-158">99.999%</span></span> |<span data-ttu-id="92278-159">6 secondi</span><span class="sxs-lookup"><span data-stu-id="92278-159">6 seconds</span></span> |<span data-ttu-id="92278-160">25,9 secondi</span><span class="sxs-lookup"><span data-stu-id="92278-160">25.9 seconds</span></span> |<span data-ttu-id="92278-161">5,26 minuti</span><span class="sxs-lookup"><span data-stu-id="92278-161">5.26 minutes</span></span> |

<span data-ttu-id="92278-162">Naturalmente, a parità di condizioni, una maggiore disponibilità è migliore.</span><span class="sxs-lookup"><span data-stu-id="92278-162">Of course, higher availability is better, everything else being equal.</span></span> <span data-ttu-id="92278-163">Tuttavia, quando si cercano di ottenere più 9, i costi e la complessità per raggiungere quel livello di disponibilità aumentano.</span><span class="sxs-lookup"><span data-stu-id="92278-163">But as you strive for more 9s, the cost and complexity to achieve that level of availability grows.</span></span> <span data-ttu-id="92278-164">Un tempo di attività pari al 99,99% si traduce in circa 5 minuti di inattività totale al mese.</span><span class="sxs-lookup"><span data-stu-id="92278-164">An uptime of 99.99% translates to about 5 minutes of total downtime per month.</span></span> <span data-ttu-id="92278-165">Vale la pena sostenere questa maggiore complessità e questi costi aggiuntivi per raggiungere cinque 9?</span><span class="sxs-lookup"><span data-stu-id="92278-165">Is it worth the additional complexity and cost to reach five 9s?</span></span> <span data-ttu-id="92278-166">La risposta dipende dai requisiti aziendali.</span><span class="sxs-lookup"><span data-stu-id="92278-166">The answer depends on the business requirements.</span></span> 

<span data-ttu-id="92278-167">Di seguito sono riportate alcune altre considerazioni che emergono quando si definisce un contratto di servizio:</span><span class="sxs-lookup"><span data-stu-id="92278-167">Here are some other considerations when defining an SLA:</span></span>

* <span data-ttu-id="92278-168">Per ottenere quattro 9 (99,99%), non ci si può probabilmente basare su un intervento manuale per correggere gli errori.</span><span class="sxs-lookup"><span data-stu-id="92278-168">To achieve four 9's (99.99%), you probably can't rely on manual intervention to recover from failures.</span></span> <span data-ttu-id="92278-169">L'applicazione, infatti, deve essere in grado di eseguire automaticamente la diagnosi e la riparazione.</span><span class="sxs-lookup"><span data-stu-id="92278-169">The application must be self-diagnosing and self-healing.</span></span> 
* <span data-ttu-id="92278-170">Dopo il quarto 9, è difficile rilevare le interruzioni in modo sufficientemente rapido per soddisfare il contratto di servizio.</span><span class="sxs-lookup"><span data-stu-id="92278-170">Beyond four 9's, it is challenging to detect outages quickly enough to meet the SLA.</span></span>
* <span data-ttu-id="92278-171">Si pensi all'intervallo di tempo rispetto al quale viene misurato il contratto di servizio:</span><span class="sxs-lookup"><span data-stu-id="92278-171">Think about the time window that your SLA is measured against.</span></span> <span data-ttu-id="92278-172">minore è la finestra, più ristretto sarà il livello di tolleranza.</span><span class="sxs-lookup"><span data-stu-id="92278-172">The smaller the window, the tighter the tolerances.</span></span> <span data-ttu-id="92278-173">Probabilmente non ha senso definire il contratto di servizio in termini di tempo di attività oraria o giornaliera.</span><span class="sxs-lookup"><span data-stu-id="92278-173">It probably doesn't make sense to define your SLA in terms of hourly or daily uptime.</span></span> 

<span data-ttu-id="92278-174">L'identificazione dei contratti di servizio è un primo passaggio importante per determinare le funzionalità con disponibilità elevata che richiederà l'architettura.</span><span class="sxs-lookup"><span data-stu-id="92278-174">Identifying SLAs is an important first step when determining the high availability capabilities that your architecture will require.</span></span> <span data-ttu-id="92278-175">Queste funzionalità consentiranno di identificare i metodi da usare per garantire la disponibilità elevata dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="92278-175">These will help shape the methods you'll use to make your application highly available.</span></span>

### <a name="evaluate-the-ha-capabilities-of-the-application"></a><span data-ttu-id="92278-176">Valutare le funzionalità per la disponibilità elevata dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="92278-176">Evaluate the HA capabilities of the application</span></span>

<span data-ttu-id="92278-177">Per valutare le funzionalità per la disponibilità elevata dell'applicazione, eseguire un'analisi degli errori.</span><span class="sxs-lookup"><span data-stu-id="92278-177">To evaluate the HA capabilities of your application, perform a failure analysis.</span></span> <span data-ttu-id="92278-178">È necessario concentrarsi sui singoli punti di errore e sui componenti critici che potrebbero avere un notevole impatto sull'applicazione se risultassero non raggiungibili, configurati in modo errato o con un comportamento imprevisto.</span><span class="sxs-lookup"><span data-stu-id="92278-178">Focus on single points of failure and critical components that would have a large impact on the application if they were unreachable, misconfigured, or started behaving unexpectedly.</span></span> <span data-ttu-id="92278-179">Per le aree che presentano ridondanza, determinare se l'applicazione è in grado di rilevare le condizioni di errore e di eseguire la riparazione automatica.</span><span class="sxs-lookup"><span data-stu-id="92278-179">For areas that do have redundancy, determine whether the application is capable of detecting error conditions and self-healing.</span></span>

<span data-ttu-id="92278-180">È necessario valutare con attenzione tutti i componenti dell'applicazione, tra cui le parti progettate per fornire funzionalità per la disponibilità elevata, ad esempio i servizi di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="92278-180">You'll need to carefully evaluate all components of your application, including the pieces designed to provide HA functionality, such as load balancers.</span></span> <span data-ttu-id="92278-181">Sarà necessario modificare i singoli punti di errore per integrare funzionalità per la disponibilità elevata o sostituirli con servizi in grado di fornire funzionalità per la disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="92278-181">Single points of failure will either need to be modified to have HA capabilities integrated, or will need to be replaced with services that can provide HA capabilities.</span></span>

### <a name="evaluate-the-ha-capabilities-of-dependent-applications"></a><span data-ttu-id="92278-182">Valutare le funzionalità per la disponibilità elevata delle applicazioni dipendenti</span><span class="sxs-lookup"><span data-stu-id="92278-182">Evaluate the HA capabilities of dependent applications</span></span>

<span data-ttu-id="92278-183">È necessario riconoscere non solo i requisiti del contratto di servizio dell'applicazione per i consumer, ma anche i contratti di servizio di tutte le risorse da cui l'applicazione può dipendere.</span><span class="sxs-lookup"><span data-stu-id="92278-183">You'll need to understand not only your application's SLA requirements to your consumer, but also the provided SLAs of any resource that your application may depend on.</span></span> <span data-ttu-id="92278-184">Se ci si impegna con i clienti per un tempo di attività pari al 99,9%, ma un servizio da cui dipende l'applicazione ha un requisito di tempo di attività che raggiunge solo il 99%, questo potrebbe mettere a rischio la capacità di rispettare il contratto di servizio per i clienti.</span><span class="sxs-lookup"><span data-stu-id="92278-184">If you are committing an uptime to your customers of 99.9%, but a service your application depends on only has an uptime commitment of 99%, this could put you at risk of not meeting your SLA to your customers.</span></span> <span data-ttu-id="92278-185">Se un servizio dipendente non riesce a offrire un contratto di servizio sufficiente, potrebbe essere necessario modificare il proprio contratto di servizio, sostituire la dipendenza con un'alternativa o trovare un modo per rispettare il contratto di servizio quando la dipendenza non è disponibile.</span><span class="sxs-lookup"><span data-stu-id="92278-185">If a dependent service is unable to provide a sufficient SLA, you may need to modify your own SLA, replace the dependency with an alternative, or find ways to meet your SLA while the dependency is unavailable.</span></span> <span data-ttu-id="92278-186">A seconda dello scenario e della natura della dipendenza, è possibile usare soluzioni alternative per i problemi delle dipendenze, come cache e code di lavoro.</span><span class="sxs-lookup"><span data-stu-id="92278-186">Depending on the scenario and the nature of the dependency, failing dependencies can be temporarily worked around with solutions like caches and work queues.</span></span>

## <a name="azures-highly-available-platform"></a><span data-ttu-id="92278-187">Piattaforma a disponibilità elevata di Azure</span><span class="sxs-lookup"><span data-stu-id="92278-187">Azure's highly available platform</span></span>

<span data-ttu-id="92278-188">La piattaforma cloud di Azure è stata progettata per garantire una disponibilità elevata in tutti i servizi.</span><span class="sxs-lookup"><span data-stu-id="92278-188">The Azure cloud platform has been designed to provide high availability throughout all its services.</span></span> <span data-ttu-id="92278-189">Come qualsiasi sistema, le applicazioni possono essere interessate da eventi della piattaforma hardware e software.</span><span class="sxs-lookup"><span data-stu-id="92278-189">Like any system, applications may be affected by both hardware and software platform events.</span></span> <span data-ttu-id="92278-190">La necessità di progettare l'architettura dell'applicazione per gestire gli errori è di importanza critica. La piattaforma cloud di Azure offre strumenti e funzionalità che consentono di garantire la disponibilità elevata dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="92278-190">The need to design your application architecture to handle failures is critical, and the Azure cloud platform provides you with the tools and capabilities to make your application highly available.</span></span> <span data-ttu-id="92278-191">Quando si valuta la disponibilità elevata per l'architettura in Azure, è necessario tenere presenti vari concetti di base:</span><span class="sxs-lookup"><span data-stu-id="92278-191">There are several core concepts when considering HA for your architecture on Azure:</span></span>

* <span data-ttu-id="92278-192">Set di disponibilità</span><span class="sxs-lookup"><span data-stu-id="92278-192">Availability sets</span></span>
* <span data-ttu-id="92278-193">Zone di disponibilità</span><span class="sxs-lookup"><span data-stu-id="92278-193">Availability zones</span></span>
* <span data-ttu-id="92278-194">Bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="92278-194">Load balancing</span></span>
* <span data-ttu-id="92278-195">Funzionalità di alta disponibilità PaaS (Platform as a Service)</span><span class="sxs-lookup"><span data-stu-id="92278-195">Platform as a service (PaaS) HA capabilities</span></span>

### <a name="availability-sets"></a><span data-ttu-id="92278-196">Set di disponibilità</span><span class="sxs-lookup"><span data-stu-id="92278-196">Availability sets</span></span>

<span data-ttu-id="92278-197">I set di disponibilità sono un modo per informare Azure che è necessario distribuire macchine virtuali che appartengono allo stesso carico di lavoro dell'applicazione per evitare l'impatto simultaneo da errori hardware e manutenzione pianificata.</span><span class="sxs-lookup"><span data-stu-id="92278-197">Availability sets are a way for you to inform Azure that VMs that belong to the same application workload should be distributed to prevent simultaneous impact from hardware failure and scheduled maintenance.</span></span> <span data-ttu-id="92278-198">I set di disponibilità sono costituiti da *domini di aggiornamento* e *domini di errore*.</span><span class="sxs-lookup"><span data-stu-id="92278-198">Availability sets are made up of *update domains* and *fault domains*.</span></span>

![Un'illustrazione che mostra tre set di disponibilità.](../media/AzAvailSets.png)

<span data-ttu-id="92278-201">I domini di aggiornamento garantiscono che un subset dei server dell'applicazione rimanga sempre in esecuzione quando in un data center di Azure è necessario un periodo di inattività degli host delle macchine virtuali per attività di manutenzione.</span><span class="sxs-lookup"><span data-stu-id="92278-201">Update domains ensure that a subset of your application's servers always remain running when the virtual machine hosts in an Azure datacenter require downtime for maintenance.</span></span> <span data-ttu-id="92278-202">La maggior parte degli aggiornamenti può essere eseguita senza alcun impatto per le macchine virtuali in esecuzione, ma talvolta questo non è possibile.</span><span class="sxs-lookup"><span data-stu-id="92278-202">Most updates can be performed with no impact to the VMs running on them, but there are times when this isn't possible.</span></span> <span data-ttu-id="92278-203">Per garantire che gli aggiornamenti non vengano eseguiti per un intero data center contemporaneamente, il data center di Azure è suddiviso a livello logico in domini di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="92278-203">To ensure that updates don't happen to a whole datacenter at once, the Azure datacenter is logically sectioned into update domains (UD).</span></span> <span data-ttu-id="92278-204">Quando è necessario applicare all'host un evento di manutenzione come un aggiornamento per le prestazioni o una patch di sicurezza critica, l'aggiornamento viene eseguito in sequenza tramite i domini di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="92278-204">When a maintenance event, such as a performance update and critical security patch that needs to be applied to the host, the update is sequenced through update domains.</span></span> <span data-ttu-id="92278-205">L'applicazione in sequenza degli aggiornamenti tramite i domini di aggiornamento evita che l'intero data center risulti non disponibile durante gli aggiornamenti della piattaforma e l'applicazione di patch.</span><span class="sxs-lookup"><span data-stu-id="92278-205">The use of sequencing updates using update domains ensures that the whole datacenter isn't unavailable during platform updates and patching.</span></span>

<span data-ttu-id="92278-206">Mentre i domini di aggiornamento rappresentano una sezione logica del data center, i domini di errore ne rappresentano le sezioni fisiche e garantiscono la diversità dei rack dei server in un set di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="92278-206">While update domains represent a logical section of the datacenter, fault domains (FD) represent physical sections of the datacenter and ensure rack diversity of servers in an availability set.</span></span> <span data-ttu-id="92278-207">I domini di errore sono allineati alla separazione fisica dell'hardware condiviso nel data center.</span><span class="sxs-lookup"><span data-stu-id="92278-207">Fault domains align to the physical separation of shared hardware in the datacenter.</span></span> <span data-ttu-id="92278-208">Questo include l'alimentazione, il raffreddamento e l'hardware di rete che supporta i server fisici nei rack.</span><span class="sxs-lookup"><span data-stu-id="92278-208">This includes power, cooling, and network hardware that supports the physical servers located in server racks.</span></span> <span data-ttu-id="92278-209">Se l'hardware che supporta un rack di server diventa non disponibile, solo tale rack di server è interessato dall'interruzione.</span><span class="sxs-lookup"><span data-stu-id="92278-209">In the event the hardware that supports a server rack has become unavailable, only that rack of servers would be affected by the outage.</span></span> <span data-ttu-id="92278-210">Se si includono le macchine virtuali in un set di disponibilità, tali macchine vengono distribuite automaticamente su più domini di errore. Pertanto un guasto hardware avrà effetto solo su una parte delle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="92278-210">By placing your VMs in an availability set, your VMs will be automatically spread across multiple FDs so that in the event of a hardware failure only part of your VMs will be impacted.</span></span>

<span data-ttu-id="92278-211">Con i set di disponibilità è possibile garantire che l'applicazione rimanga online se è necessario un evento di manutenzione a impatto elevato o se si verificano errori hardware.</span><span class="sxs-lookup"><span data-stu-id="92278-211">With availability sets, you can ensure your application remains online if a high-impact maintenance event is required or hardware failures occur.</span></span>

### <a name="availability-zones"></a><span data-ttu-id="92278-212">Zone di disponibilità</span><span class="sxs-lookup"><span data-stu-id="92278-212">Availability zones</span></span>

<span data-ttu-id="92278-213">Le zone di disponibilità sono data center fisici in località indipendenti all'interno di un'area geografica, ognuno con sistemi autonomi di alimentazione, raffreddamento e rete.</span><span class="sxs-lookup"><span data-stu-id="92278-213">Availability zones are independent physical datacenter locations within a region that include their own power, cooling, and networking.</span></span> <span data-ttu-id="92278-214">Tenendo conto delle zone di disponibilità al momento della distribuzione delle risorse, è possibile proteggere i carichi di lavoro dalle interruzioni dei data center, mantenendo al tempo stesso la presenza in una determinata area geografica.</span><span class="sxs-lookup"><span data-stu-id="92278-214">By taking availability zones into account when deploying resources, you can protect workloads from datacenter outages while retaining presence in a particular region.</span></span> <span data-ttu-id="92278-215">I servizi come le macchine virtuali sono *servizi di zona* e possono essere distribuiti in zone specifiche all'interno di un'area geografica.</span><span class="sxs-lookup"><span data-stu-id="92278-215">Services like virtual machines are *zonal services* and allow you to deploy them to specific zones within a region.</span></span> <span data-ttu-id="92278-216">Altri servizi sono *servizi con ridondanza della zona* e vengono replicati tra le zone di disponibilità nella specifica area di Azure.</span><span class="sxs-lookup"><span data-stu-id="92278-216">Other services are *zone-redundant services* and will replicate across the availability zones in the specific Azure region.</span></span> <span data-ttu-id="92278-217">Entrambi i tipi garantiscono che in un'area di Azure non siano presenti singoli punti di guasto.</span><span class="sxs-lookup"><span data-stu-id="92278-217">Both types ensure that within an Azure region there are no single points of failure.</span></span>

![Un'illustrazione che mostra tre zone di disponibilità all'interno di un'area di Azure.](../media/AzAvailZones.png)

<span data-ttu-id="92278-220">Le aree supportate contengono almeno tre zone di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="92278-220">Supported regions contain a minimum of three availability zones.</span></span> <span data-ttu-id="92278-221">Quando si creano le risorse di un servizio di zona in tali aree, è possibile selezionare la zona in cui deve essere creata la risorsa.</span><span class="sxs-lookup"><span data-stu-id="92278-221">When creating zonal service resources in those regions, you'll have the ability to select the zone in which the resource should be created.</span></span> <span data-ttu-id="92278-222">Questo consente di progettare l'applicazione in modo che tolleri un'interruzione di zona e continui a funzionare in un'area di Azure, prima che sia necessario spostare l'applicazione in un'altra area di Azure.</span><span class="sxs-lookup"><span data-stu-id="92278-222">This will allow you to design your application to withstand a zonal outage and continue to operate in an Azure region before having to evacuate your application to another Azure region.</span></span>

<span data-ttu-id="92278-223">Le zone di disponibilità sono un servizio di configurazione della disponibilità elevata più recente per le aree di Azure e sono attualmente disponibili in determinate aree geografiche.</span><span class="sxs-lookup"><span data-stu-id="92278-223">Availability zones are a newer high availability configuration service for Azure regions and are currently available for certain regions.</span></span> <span data-ttu-id="92278-224">Se si intende usare questa funzionalità, è importante verificare la disponibilità di questo servizio nell'area in cui si prevede di distribuire l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="92278-224">It's important to check the availability of this service in the region that you're planning to deploy your application if you want to consider this functionality.</span></span> <span data-ttu-id="92278-225">Le zone di disponibilità sono supportate quando si usano macchine virtuali e diversi servizi PaaS.</span><span class="sxs-lookup"><span data-stu-id="92278-225">Availability zones are supported when using virtual machines, as well as several PaaS services.</span></span> <span data-ttu-id="92278-226">Le zone di disponibilità si escludono a vicenda con i set di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="92278-226">Availability zones are mutually exclusive with availability sets.</span></span> <span data-ttu-id="92278-227">Quando si usano le zone di disponibilità non è più necessario definire un set di disponibilità per i sistemi.</span><span class="sxs-lookup"><span data-stu-id="92278-227">When using availability zones you no longer need to define an availability set for your systems.</span></span> <span data-ttu-id="92278-228">Sono disponibili strutture diversificate a livello di data center e gli aggiornamenti non vengono mai eseguiti su più zone di disponibilità nello stesso momento.</span><span class="sxs-lookup"><span data-stu-id="92278-228">You'll have diversity at the data center level, and updates will never be performed to multiple availability zones at the same time.</span></span>

### <a name="load-balancing"></a><span data-ttu-id="92278-229">Bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="92278-229">Load balancing</span></span>

<span data-ttu-id="92278-230">I servizi di bilanciamento del carico consentono di gestire la distribuzione del traffico di rete per un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="92278-230">Load balancers manage how network traffic is distributed across an application.</span></span> <span data-ttu-id="92278-231">I servizi di bilanciamento del carico sono fondamentali per mantenere l'applicazione resiliente agli errori dei singoli componenti e garantire che sia disponibile per l'elaborazione delle richieste.</span><span class="sxs-lookup"><span data-stu-id="92278-231">Load balancers are essential in keeping your application resilient to individual component failures and to ensure your application is available to process requests.</span></span> <span data-ttu-id="92278-232">Per le applicazioni che non dispongono di un servizio di individuazione incorporato, il bilanciamento del carico è necessario sia per i set di disponibilità che per le zone di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="92278-232">For applications that don't have service discovery built in, load balancing is required for both availability sets and availability zones.</span></span>

<span data-ttu-id="92278-233">Azure dispone di tre servizi con tecnologie di bilanciamento del carico, con diverse capacità per l'instradamento del traffico di rete:</span><span class="sxs-lookup"><span data-stu-id="92278-233">Azure possesses three load balancing technology services that are distinct in their abilities to route network traffic:</span></span>

* <span data-ttu-id="92278-234">**Gestione traffico di Azure** offre il bilanciamento del carico DNS globale.</span><span class="sxs-lookup"><span data-stu-id="92278-234">**Azure Traffic Manager** provides global DNS load balancing.</span></span> <span data-ttu-id="92278-235">È consigliabile prendere in considerazione il servizio Gestione traffico per rendere disponibile il bilanciamento del carico degli endpoint DNS all'interno delle aree di Azure o tra le aree stesse.</span><span class="sxs-lookup"><span data-stu-id="92278-235">You would consider using Traffic Manager to provide load balancing of DNS endpoints within or across Azure regions.</span></span> <span data-ttu-id="92278-236">Gestione traffico distribuirà le richieste agli endpoint disponibili e userà il monitoraggio degli endpoint per rilevare e rimuovere dal carico gli endpoint con esito negativo.</span><span class="sxs-lookup"><span data-stu-id="92278-236">Traffic manager will distribute requests to available endpoints, and use endpoint monitoring to detect and remove failed endpoints from load.</span></span>
* <span data-ttu-id="92278-237">Il servizio **Gateway applicazione di Azure** offre funzionalità di bilanciamento del carico di livello 7, tra cui la distribuzione round robin del traffico in ingresso, l'affinità di sessione basata su cookie, il routing basato su percorso URL e la possibilità di ospitare più siti Web dietro un unico gateway applicazione.</span><span class="sxs-lookup"><span data-stu-id="92278-237">**Azure Application Gateway** provides Layer 7 load-balancing capabilities, such as round-robin distribution of incoming traffic, cookie-based session affinity, URL path-based routing, and the ability to host multiple websites behind a single application gateway.</span></span> <span data-ttu-id="92278-238">Per impostazione predefinita, il gateway applicazione monitora l'integrità di tutte le risorse nel pool back-end e rimuove automaticamente dal pool le risorse considerate non integre.</span><span class="sxs-lookup"><span data-stu-id="92278-238">Application Gateway by default monitors the health of all resources in its back-end pool and automatically removes any resource considered unhealthy from the pool.</span></span> <span data-ttu-id="92278-239">Il gateway applicazione continua a monitorare le istanze non integre e le aggiunge di nuovo al pool back-end integro, dopo che sono diventate disponibili e rispondono ai probe di integrità.</span><span class="sxs-lookup"><span data-stu-id="92278-239">Application Gateway continues to monitor the unhealthy instances and adds them back to the healthy back-end pool once they become available and respond to health probes.</span></span>
* <span data-ttu-id="92278-240">**Azure Load Balancer** è un servizio di bilanciamento del carico di livello 4.</span><span class="sxs-lookup"><span data-stu-id="92278-240">**Azure Load Balancer** is a layer 4 load balancer.</span></span> <span data-ttu-id="92278-241">Consente di configurare endpoint pubblici e interni con carico bilanciato e di definire regole per mappare le connessioni in ingresso a destinazioni pool back-end con opzioni di probe dell'integrità TCP e HTTP per gestire la disponibilità del servizio.</span><span class="sxs-lookup"><span data-stu-id="92278-241">You can configure public and internal load-balanced endpoints and define rules to map inbound connections to back-end pool destinations by using TCP and HTTP health-probing options to manage service availability.</span></span>

<span data-ttu-id="92278-242">L'uso di una delle tecnologie di bilanciamento del carico di Azure o di una combinazione delle stesse può offrire le opzioni necessarie per progettare una soluzione a disponibilità elevata per l'instradamento del traffico di rete tramite l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="92278-242">One or a combination of all three Azure load-balancing technologies can ensure you have the necessary options available to architect a highly available solution to route network traffic through your application.</span></span>

![Opzioni di bilanciamento del carico di Azure. Un'illustrazione che mostra la differente tecnologia di bilanciamento del carico in Azure.](../media/AzLBOptions.png)

### <a name="paas-ha-capabilities"></a><span data-ttu-id="92278-248">Funzionalità PaaS per la disponibilità elevata</span><span class="sxs-lookup"><span data-stu-id="92278-248">PaaS HA capabilities</span></span>

<span data-ttu-id="92278-249">I servizi PaaS dispongono di funzionalità integrate per la disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="92278-249">PaaS services come with high availability built in.</span></span> <span data-ttu-id="92278-250">Servizi come il database SQL di Azure, il servizio app di Azure e il bus di servizio di Azure includono funzionalità per la disponibilità elevata e consentono all'applicazione di gestire in modo trasparente gli errori di un singolo componente del servizio.</span><span class="sxs-lookup"><span data-stu-id="92278-250">Services such as Azure SQL Database, Azure App Service, and Azure Service Bus include high availability features and ensure that failures of an individual component of the service will be seamless to your application.</span></span> <span data-ttu-id="92278-251">L'uso dei servizi PaaS è uno dei modi migliori per strutturare un'architettura a disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="92278-251">Using PaaS services is one of the best ways to ensure that your architecture is highly available.</span></span>

<span data-ttu-id="92278-252">Quando si progetta per la disponibilità elevata, è importante comprendere il contratto di servizio che ci si impegna a rispettare per i clienti.</span><span class="sxs-lookup"><span data-stu-id="92278-252">When architecting for high availability, you'll want to understand the SLA that you're committing to your customers.</span></span> <span data-ttu-id="92278-253">È quindi necessario valutare le funzionalità per la disponibilità elevata dell'applicazione e le funzionalità per la disponibilità elevata e i contratti di servizio dei sistemi dipendenti.</span><span class="sxs-lookup"><span data-stu-id="92278-253">Then evaluate both the HA capabilities that your application has, and the HA capabilities and SLAs of dependent systems.</span></span> <span data-ttu-id="92278-254">Dopo aver identificato questi elementi, è possibile usare funzionalità di Azure come i set di disponibilità, le zone di disponibilità e varie tecnologie di bilanciamento del carico per aggiungere all'applicazione funzionalità per la disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="92278-254">After those have been established, use Azure features, such as availability sets, availability zones, and various load-balancing technologies, to add HA capabilities to your application.</span></span> <span data-ttu-id="92278-255">Qualsiasi servizio PaaS si scelga di usare avrà funzionalità integrate per la disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="92278-255">Any PaaS services you should choose to use will have HA capabilities built in.</span></span>
