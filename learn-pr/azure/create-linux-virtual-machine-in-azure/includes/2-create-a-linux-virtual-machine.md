<span data-ttu-id="0be48-101">A questo punto è disponibile un sito Web esistente in esecuzione in un server Ubuntu Linux locale.</span><span class="sxs-lookup"><span data-stu-id="0be48-101">We have an existing website running on a local Ubuntu Linux server.</span></span> <span data-ttu-id="0be48-102">L'obiettivo è creare una macchina virtuale di Azure usando l'immagine Ubuntu più recente ed eseguire la migrazione del sito nel cloud.</span><span class="sxs-lookup"><span data-stu-id="0be48-102">Our goal is to create an Azure virtual machine (VM), using the latest Ubuntu image, and migrate the site to the cloud.</span></span> <span data-ttu-id="0be48-103">In questa unità verranno presentate le opzioni per le quali sarà necessario prendere una decisione durante la creazione di una macchina virtuale in Azure.</span><span class="sxs-lookup"><span data-stu-id="0be48-103">In this unit, you will learn about the options you will need to decide when creating a virtual machine in Azure.</span></span>

## <a name="introduction-to-azure-virtual-machines"></a><span data-ttu-id="0be48-104">Introduzione alle macchine virtuali di Azure</span><span class="sxs-lookup"><span data-stu-id="0be48-104">Introduction to Azure Virtual Machines</span></span>

<span data-ttu-id="0be48-105">Le macchine virtuali di Azure sono risorse di cloud computing scalabili su richiesta.</span><span class="sxs-lookup"><span data-stu-id="0be48-105">Azure Virtual Machines are an on-demand, scalable cloud-computing resource.</span></span> <span data-ttu-id="0be48-106">Includono processore, memoria, spazio di archiviazione e risorse di rete.</span><span class="sxs-lookup"><span data-stu-id="0be48-106">They include processor, memory, storage, and networking resources.</span></span> <span data-ttu-id="0be48-107">È possibile avviare e arrestare le macchine virtuali in base alle esigenze e gestirle dal portale o mediante l'interfaccia della riga di comando di Azure.</span><span class="sxs-lookup"><span data-stu-id="0be48-107">You can start and stop virtual machines at will and manage them from the Azure portal or with the Azure CLI.</span></span> <span data-ttu-id="0be48-108">È anche possibile usare SSH (Secure Shell) in remoto per connettersi direttamente alla macchina virtuale in esecuzione ed eseguire comandi come da un computer locale.</span><span class="sxs-lookup"><span data-stu-id="0be48-108">You can also use a remote Secure Shell (SSH) to connect directly to the running VM and execute commands as if you are on a local computer.</span></span>

### <a name="running-linux-in-azure"></a><span data-ttu-id="0be48-109">Esecuzione di Linux in Azure</span><span class="sxs-lookup"><span data-stu-id="0be48-109">Running Linux in Azure</span></span>

<span data-ttu-id="0be48-110">La creazione di macchine virtuali basate su Linux in Azure è facile.</span><span class="sxs-lookup"><span data-stu-id="0be48-110">Creating Linux-based VMs in Azure is easy.</span></span> <span data-ttu-id="0be48-111">Microsoft ha collaborato con i principali fornitori di Linux per assicurarsi che le distribuzioni siano ottimizzate per la piattaforma Azure.</span><span class="sxs-lookup"><span data-stu-id="0be48-111">Microsoft has partnered with prominent Linux vendors to ensure their distributions are optimized for the Azure platform.</span></span> <span data-ttu-id="0be48-112">È possibile creare macchine virtuali da immagini predefinite per un'ampia gamma delle distribuzioni Linux più diffuse, ad esempio SUSE, Red Hat e Ubuntu o creare una propria distribuzione di Linux per l'esecuzione nel cloud.</span><span class="sxs-lookup"><span data-stu-id="0be48-112">You can create virtual machines from prebuilt images for a variety of popular Linux distributions such as SUSE, Red Hat, and Ubuntu or build your own Linux distribution to run in the cloud.</span></span>

## <a name="creating-an-azure-vm"></a><span data-ttu-id="0be48-113">Creazione di una macchina virtuale di Azure</span><span class="sxs-lookup"><span data-stu-id="0be48-113">Creating an Azure VM</span></span>

<span data-ttu-id="0be48-114">Le macchine virtuali possono essere definite e distribuite in Azure in diversi modi: il portale di Azure, uno script (tramite l'interfaccia della riga di comando di Azure o Azure PowerShell) oppure tramite un modello di Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="0be48-114">VMs can be defined and deployed on Azure in several ways: the Azure portal, a script (using the Azure CLI or Azure PowerShell), or through an Azure Resource Manager template.</span></span> <span data-ttu-id="0be48-115">In tutti i casi, sarà necessario specificare varie informazioni, che verranno trattate a breve.</span><span class="sxs-lookup"><span data-stu-id="0be48-115">In all cases, you will need to supply several pieces of information that we'll cover shortly.</span></span>

<span data-ttu-id="0be48-116">Azure Marketplace offre anche immagini preconfigurate che includono sia un sistema operativo che gli strumenti software preferiti installati per scenari specifici.</span><span class="sxs-lookup"><span data-stu-id="0be48-116">The Azure Marketplace also provides preconfigured images that include both an OS and favorite software tools installed for specific scenarios.</span></span>

![Screenshot del portale di Azure con diverse opzioni di macchina virtuale in Azure Marketplace.](../media/2-marketplace-vm-choices.png)

## <a name="resources-used-in-a-linux-vm"></a><span data-ttu-id="0be48-118">Risorse usate in una macchina virtuale Linux</span><span class="sxs-lookup"><span data-stu-id="0be48-118">Resources used in a Linux VM</span></span>

<span data-ttu-id="0be48-119">Quando si crea una macchina virtuale Linux in Azure, è necessario creare anche le risorse per ospitarla.</span><span class="sxs-lookup"><span data-stu-id="0be48-119">When creating a Linux VM in Azure, you also create resources to host the VM.</span></span> <span data-ttu-id="0be48-120">Queste risorse interagiscono per virtualizzare un computer ed eseguire il sistema operativo Linux.</span><span class="sxs-lookup"><span data-stu-id="0be48-120">These resources work together to virtualize a computer and run the Linux operating system.</span></span> <span data-ttu-id="0be48-121">Le risorse devono essere già esistenti (e quindi selezionate durante la creazione della macchina virtuale) oppure verranno create con la macchina virtuale:</span><span class="sxs-lookup"><span data-stu-id="0be48-121">These must either exist (and be selected during VM creation), or they will be created with the VM:</span></span>

- <span data-ttu-id="0be48-122">Una macchina virtuale che fornisce le risorse CPU e memoria</span><span class="sxs-lookup"><span data-stu-id="0be48-122">A virtual machine that provides CPU and memory resources</span></span>
- <span data-ttu-id="0be48-123">Un account di Archiviazione di Azure per contenere i dischi rigidi virtuali</span><span class="sxs-lookup"><span data-stu-id="0be48-123">An Azure Storage account to hold the virtual hard disks</span></span>
- <span data-ttu-id="0be48-124">Dischi virtuali per contenere il sistema operativo, le applicazioni e i dati</span><span class="sxs-lookup"><span data-stu-id="0be48-124">Virtual disks to hold the OS, applications, and data</span></span>
- <span data-ttu-id="0be48-125">Una rete virtuale (VNet) per connettere la macchina virtuale ad altri servizi di Azure o all'hardware in locale</span><span class="sxs-lookup"><span data-stu-id="0be48-125">A virtual network (VNet) to connect the VM to other Azure services or your on-premise hardware</span></span>
- <span data-ttu-id="0be48-126">Un'interfaccia di rete per comunicare con la rete virtuale</span><span class="sxs-lookup"><span data-stu-id="0be48-126">A network interface to communicate with the VNet</span></span>
- <span data-ttu-id="0be48-127">Un indirizzo IP pubblico facoltativo in modo da poter accedere alla macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="0be48-127">An optional public IP address so you can access the VM</span></span>

<span data-ttu-id="0be48-128">Come per altri servizi di Azure, sarà necessario un **gruppo di risorse** per contenere la macchina virtuale (e, facoltativamente, raggruppare queste risorse per l'amministrazione).</span><span class="sxs-lookup"><span data-stu-id="0be48-128">Like other Azure services, you'll need a **Resource Group** to contain the VM (and optionally group these resources for administration).</span></span> <span data-ttu-id="0be48-129">Quando si crea una nuova macchina virtuale, è possibile usare un gruppo di risorse esistente o crearne uno nuovo.</span><span class="sxs-lookup"><span data-stu-id="0be48-129">When you create a new VM, you can either use an existing resource group or create a new one.</span></span>

## <a name="choose-the-vm-image"></a><span data-ttu-id="0be48-130">Scegliere l'immagine della VM</span><span class="sxs-lookup"><span data-stu-id="0be48-130">Choose the VM image</span></span>

<span data-ttu-id="0be48-131">La scelta di un'immagine è una delle decisioni principali e più importanti da prendere in fase di creazione di una VM.</span><span class="sxs-lookup"><span data-stu-id="0be48-131">Selecting an image is one of the first and most important decisions you'll make when creating a VM.</span></span> <span data-ttu-id="0be48-132">Un'immagine è un modello usato per creare una VM.</span><span class="sxs-lookup"><span data-stu-id="0be48-132">An image is a template that's used to create a VM.</span></span> <span data-ttu-id="0be48-133">Questi modelli includono un sistema operativo e, spesso, anche altro software, ad esempio strumenti di sviluppo o ambienti di hosting Web.</span><span class="sxs-lookup"><span data-stu-id="0be48-133">These templates include an OS and often other software, such as development tools or web hosting environments.</span></span>

<span data-ttu-id="0be48-134">Tutto ciò che può essere installato in un computer può essere incluso in un'immagine.</span><span class="sxs-lookup"><span data-stu-id="0be48-134">Anything that a computer can have installed can be included in an image.</span></span> <span data-ttu-id="0be48-135">È possibile creare una macchina virtuale da un'immagine preconfigurata esattamente per le attività necessarie, ad esempio l'hosting di un'app Web nel server HTTP Apache.</span><span class="sxs-lookup"><span data-stu-id="0be48-135">You can create a VM from an image that's preconfigured to precisely the tasks you need, such as hosting a web app on the Apache HTTP Server.</span></span>

> [!TIP]  
> <span data-ttu-id="0be48-136">È anche possibile creare e caricare immagini disco personalizzate.</span><span class="sxs-lookup"><span data-stu-id="0be48-136">You can also create and upload custom disk images.</span></span> <span data-ttu-id="0be48-137">Per altre informazioni, vedere la documentazione.</span><span class="sxs-lookup"><span data-stu-id="0be48-137">Check the documentation for more information.</span></span>

## <a name="sizing-your-vm"></a><span data-ttu-id="0be48-138">Dimensionamento di una macchina virtuale</span><span class="sxs-lookup"><span data-stu-id="0be48-138">Sizing your VM</span></span>

<span data-ttu-id="0be48-139">Proprio come un computer fisico dispone di una determinata quantità di memoria e potenza della CPU, lo stesso vale per una macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="0be48-139">Just as a physical machine has a certain amount of memory and CPU power, so does a virtual machine.</span></span> <span data-ttu-id="0be48-140">Azure offre una serie di macchine virtuali con dimensioni e prezzi diversi.</span><span class="sxs-lookup"><span data-stu-id="0be48-140">Azure offers a range of VMs of differing sizes at different price points.</span></span> <span data-ttu-id="0be48-141">Le dimensioni scelte determineranno la potenza di elaborazione, la memoria e la capacità di archiviazione massima della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="0be48-141">The size that you choose will determine the VM's processing power, memory, and maximum storage capacity.</span></span>

> [!WARNING]
> <span data-ttu-id="0be48-142">Sono previsti limiti di quota per ogni sottoscrizione, che possono influire sulla creazione della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="0be48-142">There are quota limits on each subscription that can impact VM creation.</span></span> <span data-ttu-id="0be48-143">Per impostazione predefinita, non è possibile avere più di 20 _core_ virtuali per tutte le macchine virtuali all'interno di un'area.</span><span class="sxs-lookup"><span data-stu-id="0be48-143">By default, you cannot have more than 20 virtual _cores_ across all VMs within a region.</span></span> <span data-ttu-id="0be48-144">È possibile dividere le macchine virtuali tra aree o inviare una [richiesta online](https://docs.microsoft.com/azure/azure-supportability/resource-manager-core-quotas-request) per aumentare i limiti.</span><span class="sxs-lookup"><span data-stu-id="0be48-144">You can either split up VMs across regions or file an [online request](https://docs.microsoft.com/azure/azure-supportability/resource-manager-core-quotas-request) to increase your limits.</span></span>

<span data-ttu-id="0be48-145">Le dimensioni delle macchine virtuali vengono raggruppate in categorie, a partire dalla serie B per attività di testing di base fino alla serie H per estese attività di elaborazione.</span><span class="sxs-lookup"><span data-stu-id="0be48-145">VM sizes are grouped into categories, starting with the B-series for basic testing and running up to the H-series for massive computing tasks.</span></span> <span data-ttu-id="0be48-146">È consigliabile selezionare le dimensioni della macchina virtuale in base al carico di lavoro da eseguire.</span><span class="sxs-lookup"><span data-stu-id="0be48-146">You should select the size of the VM based on the workload you want to perform.</span></span> <span data-ttu-id="0be48-147">È possibile modificare le dimensioni di una macchina virtuale dopo averla creata, ma è prima necessario arrestarla, quindi è consigliabile selezionare le dimensioni appropriate sin dall'inizio se possibile.</span><span class="sxs-lookup"><span data-stu-id="0be48-147">It is possible to change the size of a VM after it's been created, but the VM must be stopped first, so it's best to size it appropriately from the start if possible.</span></span>

#### <a name="here-are-some-guidelines-based-on-the-scenario-you-are-targeting"></a><span data-ttu-id="0be48-148">Di seguito sono riportate alcune linee guida in base allo scenario di destinazione</span><span class="sxs-lookup"><span data-stu-id="0be48-148">Here are some guidelines based on the scenario you are targeting</span></span>

| <span data-ttu-id="0be48-149">Scenario</span><span class="sxs-lookup"><span data-stu-id="0be48-149">What are you doing?</span></span> | <span data-ttu-id="0be48-150">Dimensioni da considerare</span><span class="sxs-lookup"><span data-stu-id="0be48-150">Consider these sizes</span></span>
|-------|------------------|
| <span data-ttu-id="0be48-151">**Attività di elaborazione/Web per utilizzo generico**: test e sviluppo, database medio-piccoli e server Web con traffico da medio a ridotto.</span><span class="sxs-lookup"><span data-stu-id="0be48-151">**General use computing/web**: Testing and development, small to medium databases, or low to medium traffic web servers.</span></span> | <span data-ttu-id="0be48-152">B, Dsv3, Dv3, DSv2, Dv2</span><span class="sxs-lookup"><span data-stu-id="0be48-152">B, Dsv3, Dv3, DSv2, Dv2</span></span> |
| <span data-ttu-id="0be48-153">**Attività di calcolo intensive**: server Web con livelli medi di traffico, appliance di rete, processi batch e server applicazioni.</span><span class="sxs-lookup"><span data-stu-id="0be48-153">**Heavy computational tasks**: Medium traffic web servers, network appliances, batch processes, and application servers.</span></span> | <span data-ttu-id="0be48-154">Fsv2, Fs, F</span><span class="sxs-lookup"><span data-stu-id="0be48-154">Fsv2, Fs, F</span></span> |
| <span data-ttu-id="0be48-155">**Utilizzo elevato della memoria**: server di database relazionali, cache medio-grandi e analisi in memoria.</span><span class="sxs-lookup"><span data-stu-id="0be48-155">**Large memory usage**: Relational database servers, medium to large caches, and in-memory analytics.</span></span> | <span data-ttu-id="0be48-156">Esv3, Ev3, M, GS, G, DSv2, Dv2</span><span class="sxs-lookup"><span data-stu-id="0be48-156">Esv3, Ev3, M, GS, G, DSv2, Dv2</span></span> |
| <span data-ttu-id="0be48-157">**Elaborazione ed archiviazione dati**: Big Data, SQL e database NoSQL con esigenze elevate per velocità effettiva del disco e I/O.</span><span class="sxs-lookup"><span data-stu-id="0be48-157">**Data storage and processing**: Big data, SQL, and NoSQL databases that need high disk throughput and I/O.</span></span> | <span data-ttu-id="0be48-158">Ls</span><span class="sxs-lookup"><span data-stu-id="0be48-158">Ls</span></span> |
| <span data-ttu-id="0be48-159">**Livelli intensivi di rendering della grafica** o modifica di video, nonché training e inferenza dei modelli (ND) con deep learning.</span><span class="sxs-lookup"><span data-stu-id="0be48-159">**Heavy graphics rendering** or video editing, as well as model training and inferencing (ND) with deep learning.</span></span> | <span data-ttu-id="0be48-160">NV, NC, NCv2, NCv3, ND</span><span class="sxs-lookup"><span data-stu-id="0be48-160">NV, NC, NCv2, NCv3, ND</span></span> |
| <span data-ttu-id="0be48-161">**HPC (High-Performance Computing)**: se servono le macchine virtuali con le CPU più veloci e potenti, con interfacce di rete ad alta velocità effettiva facoltative.</span><span class="sxs-lookup"><span data-stu-id="0be48-161">**High-performance computing (HPC)**: If you need the fastest and most powerful CPU virtual machines with optional high-throughput network interfaces.</span></span> | <span data-ttu-id="0be48-162">H</span><span class="sxs-lookup"><span data-stu-id="0be48-162">H</span></span> |

## <a name="choosing-storage-options"></a><span data-ttu-id="0be48-163">Scelta delle opzioni di archiviazione</span><span class="sxs-lookup"><span data-stu-id="0be48-163">Choosing storage options</span></span>

<span data-ttu-id="0be48-164">Il set successivo di decisioni riguarda l'archiviazione.</span><span class="sxs-lookup"><span data-stu-id="0be48-164">The next set of decisions revolve around storage.</span></span> <span data-ttu-id="0be48-165">Prima di tutto è possibile scegliere la tecnologia dei dischi.</span><span class="sxs-lookup"><span data-stu-id="0be48-165">First, you can choose the disk technology.</span></span> <span data-ttu-id="0be48-166">Le opzioni includono un'unità disco rigido tradizionale basata su platter o un'unità SSD più moderna.</span><span class="sxs-lookup"><span data-stu-id="0be48-166">Options include a traditional platter-based hard disk drive (HDD) or a more modern solid-state drive (SSD).</span></span> <span data-ttu-id="0be48-167">Proprio come per l'hardware acquistato, l'archiviazione SSD ha un costo maggiore, ma offre prestazioni migliori.</span><span class="sxs-lookup"><span data-stu-id="0be48-167">Just like the hardware you purchase, SSD storage costs more but provides better performance.</span></span>

> [!TIP]
> <span data-ttu-id="0be48-168">Sono disponibili due livelli di archiviazione su unità SSD: Standard e Premium.</span><span class="sxs-lookup"><span data-stu-id="0be48-168">There are two levels of SSD storage available: standard and premium.</span></span> <span data-ttu-id="0be48-169">Per carichi di lavoro normali, ma se si vogliono prestazioni migliori, scegliere dischi SSD Standard.</span><span class="sxs-lookup"><span data-stu-id="0be48-169">Choose Standard SSD disks if you have normal workloads but want better performance.</span></span> <span data-ttu-id="0be48-170">Scegliere dischi SSD Premium per carichi di lavoro con I/O intensivo oppure sistemi strategici che devono elaborare i dati molto rapidamente.</span><span class="sxs-lookup"><span data-stu-id="0be48-170">Choose Premium SSD disks if you have I/O intensive workloads or mission-critical systems that need to process data very quickly.</span></span>

### <a name="mapping-storage-to-disks"></a><span data-ttu-id="0be48-171">Mapping di archiviazione e dischi</span><span class="sxs-lookup"><span data-stu-id="0be48-171">Mapping storage to disks</span></span>

<span data-ttu-id="0be48-172">Azure usa dischi rigidi virtuali (VHD) per rappresentare i dischi fisici per la macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="0be48-172">Azure uses virtual hard disks (VHDs) to represent physical disks for the VM.</span></span> <span data-ttu-id="0be48-173">I dischi rigidi virtuali replicano il formato logico e i dati di un'unità disco, ma vengono archiviati come BLOB di pagine in un account di Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="0be48-173">VHDs replicate the logical format and data of a disk drive but are stored as page blobs in an Azure Storage account.</span></span> <span data-ttu-id="0be48-174">È possibile scegliere per ogni disco il tipo di archiviazione da usare (SSD o HDD).</span><span class="sxs-lookup"><span data-stu-id="0be48-174">You can choose on a per disk basis what type of storage it should use (SSD or HDD).</span></span> <span data-ttu-id="0be48-175">Ciò consente di controllare le prestazioni di ogni disco, probabilmente in base alle attività di I/O che si prevede di eseguire.</span><span class="sxs-lookup"><span data-stu-id="0be48-175">This allows you to control the performance of each disk, likely based on the I/O you plan to perform on it.</span></span>

<span data-ttu-id="0be48-176">Per impostazione predefinita, per la macchina virtuale Linux verranno creati due dischi rigidi virtuali (VHD):</span><span class="sxs-lookup"><span data-stu-id="0be48-176">By default, two virtual hard disks (VHDs) will be created for your Linux VM:</span></span>

1. <span data-ttu-id="0be48-177">Il **disco di sistema operativo**: questa è l'unità principale e ha una capacità massima di 2048 GB.</span><span class="sxs-lookup"><span data-stu-id="0be48-177">The **operating system disk**: This is your primary drive and has a maximum capacity of 2048 GB.</span></span> <span data-ttu-id="0be48-178">Sarà denominata `/dev/sda` per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="0be48-178">It will be labeled as `/dev/sda` by default.</span></span>

1. <span data-ttu-id="0be48-179">Un **disco temporaneo**: fornisce la risorsa di archiviazione temporanea per il sistema operativo o eventuali app.</span><span class="sxs-lookup"><span data-stu-id="0be48-179">A **temporary disk**: This provides temporary storage for the OS or any apps.</span></span> <span data-ttu-id="0be48-180">Nelle macchine virtuali Linux il disco è `/dev/sdb` e viene formattato e montato in `/mnt` dall'agente Linux di Azure.</span><span class="sxs-lookup"><span data-stu-id="0be48-180">On Linux virtual machines, the disk is `/dev/sdb` and is formatted and mounted to `/mnt` by the Azure Linux Agent.</span></span> <span data-ttu-id="0be48-181">Le dimensioni vengono stabilite in base alla dimensione della macchina virtuale e viene usato per archiviare il file di scambio.</span><span class="sxs-lookup"><span data-stu-id="0be48-181">It is sized based on the VM size and is used to store the swap file.</span></span> 

> [!WARNING]
> <span data-ttu-id="0be48-182">Il disco temporaneo non è persistente.</span><span class="sxs-lookup"><span data-stu-id="0be48-182">The temporary disk is not persistent.</span></span> <span data-ttu-id="0be48-183">Su questo disco è consigliabile scrivere solo dati non fondamentali per il sistema.</span><span class="sxs-lookup"><span data-stu-id="0be48-183">You should only write data to this disk that is not critical to the system.</span></span>

#### <a name="what-about-data"></a><span data-ttu-id="0be48-184">Come gestire i dati</span><span class="sxs-lookup"><span data-stu-id="0be48-184">What about data?</span></span>

<span data-ttu-id="0be48-185">È possibile archiviare i dati nell'unità primaria insieme al sistema operativo, ma un approccio migliore consiste nel creare _dischi dati_ dedicati.</span><span class="sxs-lookup"><span data-stu-id="0be48-185">You can store data on the primary drive along with the OS, but a better approach is to create dedicated _data disks_.</span></span> <span data-ttu-id="0be48-186">È possibile creare e collegare dischi aggiuntivi alla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="0be48-186">You can create and attach additional disks to the VM.</span></span> <span data-ttu-id="0be48-187">Ogni disco può contenere fino a 4095 GB di dati e la quantità massima di spazio di archiviazione viene determinata dalla dimensione della macchina virtuale selezionata.</span><span class="sxs-lookup"><span data-stu-id="0be48-187">Each disk can hold up to 4095 GB of data, with the maximum amount of storage determined by the VM size you select.</span></span>

> [!NOTE]  
> <span data-ttu-id="0be48-188">La caratteristica interessante è la possibilità di creare un'immagine di disco rigido virtuale da un disco reale.</span><span class="sxs-lookup"><span data-stu-id="0be48-188">An interesting capability is to create a VHD image from a real disk.</span></span> <span data-ttu-id="0be48-189">Ciò consente di eseguire facilmente la migrazione di informazioni _esistenti_ da un computer locale al cloud.</span><span class="sxs-lookup"><span data-stu-id="0be48-189">This allows you to easily migrate _existing_ information from an on-premises computer to the cloud.</span></span>

### <a name="unmanaged-vs-managed-disks"></a><span data-ttu-id="0be48-190">Dischi gestiti e non gestiti</span><span class="sxs-lookup"><span data-stu-id="0be48-190">Unmanaged vs. managed disks</span></span>

<span data-ttu-id="0be48-191">La scelta finale per l'archiviazione consiste nel decidere se usare dischi **non gestiti** oppure **gestiti**.</span><span class="sxs-lookup"><span data-stu-id="0be48-191">The final storage choice you'll make is whether to use **unmanaged** or **managed** disks.</span></span>

<span data-ttu-id="0be48-192">Con i dischi non gestiti si è responsabili degli account di archiviazione usati per archiviare i dischi rigidi virtuali corrispondenti ai dischi delle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="0be48-192">With unmanaged disks, you are responsible for the storage accounts that are used to hold the VHDs that correspond to your VM disks.</span></span> <span data-ttu-id="0be48-193">Si pagano le tariffe dell'account di archiviazione per la quantità di spazio usato.</span><span class="sxs-lookup"><span data-stu-id="0be48-193">You pay the storage account rates for the amount of space you use.</span></span> <span data-ttu-id="0be48-194">Un singolo account di archiviazione prevede un limite fisso di velocità di 20.000 operazioni di I/O al secondo e questo significa che un singolo account di archiviazione è in grado di supportare 40 dischi rigidi virtuali standard a pieno ritmo.</span><span class="sxs-lookup"><span data-stu-id="0be48-194">A single storage account has a fixed rate limit of 20,000 I/O operations/sec. This means that a single storage account is capable of supporting 40 standard virtual hard disks at full throttle.</span></span> <span data-ttu-id="0be48-195">Se è necessario aumentare, servirà più di un account di archiviazione e ciò può risultare complicato.</span><span class="sxs-lookup"><span data-stu-id="0be48-195">If you need to scale out, then you need more than one storage account, which can get complicated.</span></span>

<span data-ttu-id="0be48-196">I dischi gestiti rappresentano il modello di archiviazione su disco consigliato più recente.</span><span class="sxs-lookup"><span data-stu-id="0be48-196">Managed disks are the newer and recommended disk storage model.</span></span> <span data-ttu-id="0be48-197">Risolvono in modo elegante queste complicazioni delegando ad Azure il carico di gestione degli account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="0be48-197">They elegantly solve this complexity by putting the burden of managing the storage accounts onto Azure.</span></span> <span data-ttu-id="0be48-198">È necessario specificare il tipo di disco, Premium o Standard, e le dimensioni del disco. Azure creerà e gestirà il disco _e_ lo spazio di archiviazione usati.</span><span class="sxs-lookup"><span data-stu-id="0be48-198">You specify the disk type (Premium or Standard) and the size of the disk, and Azure creates and manages both the disk _and_ the storage it uses.</span></span> <span data-ttu-id="0be48-199">Non è necessario preoccuparsi dei limiti per l'account di archiviazione e aumentare la disponibilità diventa quindi più semplice. I dischi gestiti offrono anche diversi altri vantaggi:</span><span class="sxs-lookup"><span data-stu-id="0be48-199">You don't have to worry about storage account limits, which makes them easier to scale out. They also offer several other benefits:</span></span>

- <span data-ttu-id="0be48-200">**Maggiore affidabilità**: Azure garantisce che i dischi rigidi virtuali associati a macchine virtuali a elevata affidabilità verranno posizionati in parti diverse di Archiviazione di Azure per fornire livelli simili di resilienza.</span><span class="sxs-lookup"><span data-stu-id="0be48-200">**Increased reliability**: Azure ensures that VHDs associated with high-reliability VMs will be placed in different parts of Azure Storage to provide similar levels of resilience.</span></span>
- <span data-ttu-id="0be48-201">**Migliore sicurezza**: i dischi gestiti sono risorse gestite reali nel gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="0be48-201">**Better security**: Managed disks are real managed resources in the resource group.</span></span> <span data-ttu-id="0be48-202">Questo significa che possono sfruttare il controllo degli accessi in base al ruolo per limitare chi può usare i dati dei dischi rigidi virtuali.</span><span class="sxs-lookup"><span data-stu-id="0be48-202">This means they can use role-based access control to restrict who can work with the VHD data.</span></span>
- <span data-ttu-id="0be48-203">**Supporto degli snapshot**: è possibile usare gli snapshot per creare una copia di sola lettura di un disco rigido virtuale.</span><span class="sxs-lookup"><span data-stu-id="0be48-203">**Snapshot support**: Snapshots can be used to create a read-only copy of a VHD.</span></span> <span data-ttu-id="0be48-204">È necessario arrestare la macchina virtuale proprietaria, ma la creazione dello snapshot richiede solo pochi secondi.</span><span class="sxs-lookup"><span data-stu-id="0be48-204">You have to shut down the owning VM, but creating the snapshot only takes a few seconds.</span></span> <span data-ttu-id="0be48-205">Al termine, è possibile accendere la macchina virtuale e usare lo snapshot per creare una macchina virtuale duplicata per risolvere un problema di produzione o eseguire il rollback della macchina virtuale al punto in cui è stato creato lo snapshot.</span><span class="sxs-lookup"><span data-stu-id="0be48-205">Once it's done, you can power on the VM and use the snapshot to create a duplicate VM to troubleshoot a production issue or roll back the VM to the point in time that the snapshot was taken.</span></span>
- <span data-ttu-id="0be48-206">**Supporto del backup**: è possibile eseguire automaticamente il backup dei dischi gestiti in aree diverse per il ripristino di emergenza con Backup di Azure senza effetti sul servizio della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="0be48-206">**Backup support**: Managed disks can be automatically backed up to different regions for disaster recovery with Azure Backup, all without affecting the service of the VM.</span></span>

## <a name="network-communication"></a><span data-ttu-id="0be48-207">Comunicazione di rete</span><span class="sxs-lookup"><span data-stu-id="0be48-207">Network communication</span></span>

<span data-ttu-id="0be48-208">Le macchine virtuali comunicano con le risorse esterne tramite una rete virtuale (VNet).</span><span class="sxs-lookup"><span data-stu-id="0be48-208">Virtual machines communicate with external resources using a virtual network (VNet).</span></span> <span data-ttu-id="0be48-209">La rete virtuale rappresenta una rete privata in un'unica area, usata dalle risorse per le comunicazioni.</span><span class="sxs-lookup"><span data-stu-id="0be48-209">The VNet represents a private network in a single region that your resources communicate on.</span></span> <span data-ttu-id="0be48-210">Una rete virtuale è esattamente come le reti gestite in locale.</span><span class="sxs-lookup"><span data-stu-id="0be48-210">A virtual network is just like the networks you manage on-premises.</span></span> <span data-ttu-id="0be48-211">È possibile suddividerla tramite subnet per isolare le risorse, connetterla ad altre (incluse le reti locali) e applicare le regole del traffico per regolare le connessioni in ingresso e in uscita.</span><span class="sxs-lookup"><span data-stu-id="0be48-211">You can divide them up with subnets to isolate resources, connect them to other networks (including your on-premises networks), and apply traffic rules to govern inbound and outbound connections.</span></span>

### <a name="planning-your-network"></a><span data-ttu-id="0be48-212">Pianificazione della rete</span><span class="sxs-lookup"><span data-stu-id="0be48-212">Planning your network</span></span>

<span data-ttu-id="0be48-213">Quando si crea una nuova macchina virtuale, si avrà la possibilità di creare una nuova rete virtuale o di usare una rete virtuale esistente nella propria area.</span><span class="sxs-lookup"><span data-stu-id="0be48-213">When you create a new VM, you will have the option of creating a new virtual network or using an existing VNet in your region.</span></span>

<span data-ttu-id="0be48-214">Scegliere di delegare ad Azure la creazione della rete insieme alla macchina virtuale è semplice, ma è probabile che non sia la soluzione ideale per la maggior parte degli scenari.</span><span class="sxs-lookup"><span data-stu-id="0be48-214">Having Azure create the network together with the VM is simple, but it's likely not ideal for most scenarios.</span></span> <span data-ttu-id="0be48-215">È consigliabile pianificare _anticipatamente_ i requisiti di rete per tutti i componenti nell'architettura e creare separatamente la struttura della rete virtuale,</span><span class="sxs-lookup"><span data-stu-id="0be48-215">It's better to plan your network requirements _up front_ for all the components in your architecture and create the VNet structure separately.</span></span> <span data-ttu-id="0be48-216">quindi creare le macchine virtuali e inserirle in reti virtuali create in precedenza.</span><span class="sxs-lookup"><span data-stu-id="0be48-216">Then create the VMs and place them into the already-created VNets.</span></span> <span data-ttu-id="0be48-217">Il tema delle reti virtuali verrà approfondito più avanti in questo modulo.</span><span class="sxs-lookup"><span data-stu-id="0be48-217">We'll look more at virtual networks later in this module.</span></span>

<span data-ttu-id="0be48-218">Prima di creare una macchina virtuale, è necessario decidere come si desidera amministrare la macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="0be48-218">Before we create a virtual machine, we need to decide how we'd like to administer the VM.</span></span> <span data-ttu-id="0be48-219">Esaminiamo le opzioni.</span><span class="sxs-lookup"><span data-stu-id="0be48-219">Let's look at our options.</span></span>